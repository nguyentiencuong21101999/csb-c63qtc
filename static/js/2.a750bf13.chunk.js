(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[function(e,t,n){"use strict";e.exports=n(59)},function(e,t,n){e.exports=n(89)()},function(e,t,n){"use strict";e.exports=n(55)},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(17);function a(e,t){if(null==e)return{};var n,a,i=Object(r.a)(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},function(e,t,n){"use strict";function r(e){var t,n,a="";if("string"===typeof e||"number"===typeof e)a+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}t.a=function(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(a&&(a+=" "),a+=t);return a}},function(e,t,n){"use strict";var r=n(3),a=n(4),i=n(2),s=n.n(i),o=n(47),l=n.n(o),u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c="object"===("undefined"===typeof window?"undefined":u(window))&&"object"===("undefined"===typeof document?"undefined":u(document))&&9===document.nodeType;var d=n(23),f=n(20),h=n(27),p=n(17),m={}.constructor;function g(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(g);if(e.constructor!==m)return e;var t={};for(var n in e)t[n]=g(e[n]);return t}function y(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,a=g(t),i=r.plugins.onCreateRule(e,a,n);return i||(e[0],null)}var _=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},v=function(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=_(e[r]," ");else n=_(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n};function E(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function b(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function C(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var a=n.indent,i=void 0===a?0:a,s=t.fallbacks;!1===n.format&&(i=-1/0);var o=E(n),l=o.linebreak,u=o.space;if(e&&i++,s)if(Array.isArray(s))for(var c=0;c<s.length;c++){var d=s[c];for(var f in d){var h=d[f];null!=h&&(r&&(r+=l),r+=b(f+":"+u+v(h)+";",i))}}else for(var p in s){var m=s[p];null!=m&&(r&&(r+=l),r+=b(p+":"+u+v(m)+";",i))}for(var g in t){var y=t[g];null!=y&&"fallbacks"!==g&&(r&&(r+=l),r+=b(g+":"+u+v(y)+";",i))}return(r||n.allowEmpty)&&e?(r&&(r=""+l+r+l),b(""+e+u+"{"+r,--i)+b("}",i)):r}var N=/([[\].#*$><+~=|^:(),"'`\s])/g,S="undefined"!==typeof CSS&&CSS.escape,T=function(e){return S?S(e):e.replace(N,"\\$1")},O=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,a=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:a&&(this.renderer=new a)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var a=t;n&&!1===n.process||(a=this.options.jss.plugins.onChangeValue(t,e,this));var i=null==a||!1===a,s=e in this.style;if(i&&!s&&!r)return this;var o=i&&s;if(o?delete this.style[e]:this.style[e]=a,this.renderable&&this.renderer)return o?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,a),this;var l=this.options.sheet;return l&&l.attached,this},e}(),w=function(e){function t(t,n,r){var a;a=e.call(this,t,n,r)||this;var i=r.selector,s=r.scoped,o=r.sheet,l=r.generateId;return i?a.selectorText=i:!1!==s&&(a.id=l(Object(h.a)(Object(h.a)(a)),o),a.selectorText="."+T(a.id)),a}Object(f.a)(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=v(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(r.a)({},e,{allowEmpty:!0}):e;return C(this.selectorText,this.style,n)},Object(d.a)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(O),k={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new w(e,t,n)}},A={indent:1,children:!0},R=/@([\w-]+)/,I=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var a=e.match(R);for(var i in this.at=a?a[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new ee(Object(r.a)({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=A);var t=E(e).linebreak;if(null==e.indent&&(e.indent=A.indent),null==e.children&&(e.children=A.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),M=/@media|@supports\s+/,P={onCreateRule:function(e,t,n){return M.test(e)?new I(e,t,n):null}},U={indent:1,children:!0},L=/@keyframes\s+([\w-]+)/,D=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var a=e.match(L);a&&a[1]?this.name=a[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var i=n.scoped,s=n.sheet,o=n.generateId;for(var l in this.id=!1===i?this.name:T(o(this,s)),this.rules=new ee(Object(r.a)({},n,{parent:this})),t)this.rules.add(l,t[l],Object(r.a)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=U);var t=E(e).linebreak;if(null==e.indent&&(e.indent=U.indent),null==e.children&&(e.children=U.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),x=/@keyframes\s+/,F=/\$([\w-]+)/g,j=function(e,t){return"string"===typeof e?e.replace(F,function(e,n){return n in t?t[n]:e}):e},H=function(e,t,n){var r=e[t],a=j(r,n);a!==r&&(e[t]=a)},G={onCreateRule:function(e,t,n){return"string"===typeof e&&x.test(e)?new D(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&H(e,"animation-name",n.keyframes),"animation"in e&&H(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return j(e,r.keyframes);default:return e}}},B=function(e){function t(){return e.apply(this,arguments)||this}return Object(f.a)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(r.a)({},e,{allowEmpty:!0}):e;return C(this.key,this.style,n)},t}(O),z={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new B(e,t,n):null}},V=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=E(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=C(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return C(this.at,this.style,e)},e}(),q=/@font-face/,Y={onCreateRule:function(e,t,n){return q.test(e)?new V(e,t,n):null}},K=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return C(this.key,this.style,e)},e}(),W={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new K(e,t,n):null}},Q=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),J={"@charset":!0,"@import":!0,"@namespace":!0},$=[k,P,G,z,Y,W,{onCreateRule:function(e,t,n){return e in J?new Q(e,t,n):null}}],X={process:!0},Z={force:!0,process:!0},ee=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var a=this.options,i=a.parent,s=a.sheet,o=a.jss,l=a.Renderer,u=a.generateId,c=a.scoped,d=Object(r.a)({classes:this.classes,parent:i,sheet:s,jss:o,Renderer:l,generateId:u,scoped:c,name:e,keyframes:this.keyframes,selector:void 0},n),f=e;e in this.raw&&(f=e+"-d"+this.counter++),this.raw[f]=t,f in this.classes&&(d.selector="."+T(this.classes[f]));var h=y(f,t,d);if(!h)return null;this.register(h);var p=void 0===d.index?this.index.length:d.index;return this.index.splice(p,0,h),h},t.replace=function(e,t,n){var a=this.get(e),i=this.index.indexOf(a);a&&this.remove(a);var s=n;return-1!==i&&(s=Object(r.a)({},n,{index:i})),this.add(e,t,s)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof w?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof D&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof w?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof D&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=X);var a=this.options,i=a.jss.plugins,s=a.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var o=t.style;if(i.onUpdate(n,t,s,r),r.process&&o&&o!==t.style){for(var l in i.onProcessStyle(t.style,t,s),t.style){var u=t.style[l];u!==o[l]&&t.prop(l,u,Z)}for(var c in o){var d=t.style[c],f=o[c];null==d&&d!==f&&t.prop(c,null,Z)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,a=E(e).linebreak,i=0;i<this.index.length;i++){var s=this.index[i].toString(e);(s||r)&&(t&&(t+=a),t+=s)}return t},e}(),te=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(r.a)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new ee(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var a=this.rules.add(e,t,n);return a?(this.options.jss.plugins.onProcessRule(a),this.attached?this.deployed?(r?r.push(a):(this.insertRule(a),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),a):a:(this.deployed=!1,a)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var a=this.rules.replace(e,t,n);return a&&this.options.jss.plugins.onProcessRule(a),this.attached?this.deployed?(this.renderer&&(a?r.renderable&&this.renderer.replaceRule(r.renderable,a):this.renderer.deleteRule(r)),a):a:(this.deployed=!1,a)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var a=this.addRule(r,e[r],t);a&&n.push(a)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),ne=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var a=this.registry.onCreateRule[r](e,t,n);if(a)return a}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var a=0;a<this.registry.onUpdate.length;a++)this.registry.onUpdate[a](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,a=0;a<this.registry.onChangeValue.length;a++)r=this.registry.onChangeValue[a](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),re=new(function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=Object(p.a)(t,["attached"]),a=E(r).linebreak,i="",s=0;s<this.registry.length;s++){var o=this.registry[s];null!=n&&o.attached!==n||(i&&(i+=a),i+=o.toString(r))}return i},Object(d.a)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}()),ae="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),ie="2f1acc6c3a606b082e5eef5e54414ffb";null==ae[ie]&&(ae[ie]=0);var se=ae[ie]++,oe=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var a="",i="";return r&&(r.options.classNamePrefix&&(i=r.options.classNamePrefix),null!=r.options.jss.id&&(a=String(r.options.jss.id))),e.minify?""+(i||"c")+se+a+t:i+n.key+"-"+se+(a?"-"+a:"")+"-"+t}},le=function(e){var t;return function(){return t||(t=e()),t}},ue=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},ce=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=v(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(a){return!1}return!0},de=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},fe=function(e,t){return e.selectorText=t,e.selectorText===t},he=le(function(){return document.querySelector("head")});function pe(e){var t=re.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if((n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e))&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var a=function(e){for(var t=he(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(a)return{parent:a.parentNode,node:a.nextSibling}}return!1}var me=le(function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null}),ge=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},ye=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},_e=function(){var e=document.createElement("style");return e.textContent="\n",e},ve=function(){function e(e){this.getPropertyValue=ue,this.setProperty=ce,this.removeProperty=de,this.setSelector=fe,this.hasInsertedRules=!1,this.cssRules=[],e&&re.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,a=t.element;this.element=a||_e(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var i=me();i&&this.element.setAttribute("nonce",i)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=pe(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var a=n,i=a.parentNode;i&&i.insertBefore(e,a.nextSibling)}else he().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,a=n;if("conditional"===e.type||"keyframes"===e.type){var i=ye(n,t);if(!1===(a=ge(n,r.toString({children:!1}),i)))return!1;this.refCssRule(e,i,a)}return this.insertRules(r.rules,a),a}var s=e.toString();if(!s)return!1;var o=ye(n,t),l=ge(n,s,o);return!1!==l&&(this.hasInsertedRules=!0,this.refCssRule(e,o,l),l)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof te&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),Ee=0,be=function(){function e(e){this.id=Ee++,this.version="10.9.0",this.plugins=new ne,this.options={id:{minify:!1},createGenerateId:oe,Renderer:c?ve:null,plugins:[]},this.generateId=oe({minify:!1});for(var t=0;t<$.length;t++)this.plugins.use($[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=Object(r.a)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===re.index?0:re.index+1);var a=new te(e,Object(r.a)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(a),a},t.removeStyleSheet=function(e){return e.detach(),re.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var a=Object(r.a)({},n,{name:e,jss:this,Renderer:this.options.Renderer});a.generateId||(a.generateId=this.generateId),a.classes||(a.classes={}),a.keyframes||(a.keyframes={});var i=y(e,t,a);return i&&this.plugins.onProcessRule(i),i},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach(function(t){e.plugins.use(t)}),this},e}(),Ce=function(e){return new be(e)},Ne="object"===typeof CSS&&null!=CSS&&"number"in CSS;Ce();function Se(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var a=Object(r.a)({},t);return Object.keys(n).forEach(function(e){n[e]&&(a[e]="".concat(t[e]," ").concat(n[e]))}),a}var Te={set:function(e,t,n,r){var a=e.get(t);a||(a=new Map,e.set(t,a)),a.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},Oe=n(126),we="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",ke=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var Ae=Date.now(),Re="fnValues"+Ae,Ie="fnStyle"+ ++Ae,Me=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=y(e,{},n);return r[Ie]=t,r},onProcessStyle:function(e,t){if(Re in t||Ie in t)return e;var n={};for(var r in e){var a=e[r];"function"===typeof a&&(delete e[r],n[r]=a)}return t[Re]=n,e},onUpdate:function(e,t,n,r){var a=t,i=a[Ie];i&&(a.style=i(e)||{});var s=a[Re];if(s)for(var o in s)a.prop(o,s[o](e),r)}}},Pe="@global",Ue="@global ",Le=function(){function e(e,t,n){for(var a in this.type="global",this.at=Pe,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new ee(Object(r.a)({},n,{parent:this})),t)this.rules.add(a,t[a]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),De=function(){function e(e,t,n){this.type="global",this.at=Pe,this.isProcessed=!1,this.key=e,this.options=n;var a=e.substr(Ue.length);this.rule=n.jss.createRule(a,t,Object(r.a)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),xe=/\s*,\s*/g;function Fe(e,t){for(var n=e.split(xe),r="",a=0;a<n.length;a++)r+=t+" "+n[a].trim(),n[a+1]&&(r+=", ");return r}var je=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===Pe)return new Le(e,t,n);if("@"===e[0]&&e.substr(0,Ue.length)===Ue)return new De(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,a=e.style,i=a?a[Pe]:null;if(i){for(var s in i)t.addRule(s,i[s],Object(r.a)({},n,{selector:Fe(s,e.selector)}));delete a[Pe]}}(e,t),function(e,t){var n=e.options,a=e.style;for(var i in a)if("@"===i[0]&&i.substr(0,Pe.length)===Pe){var s=Fe(i.substr(Pe.length),e.selector);t.addRule(s,a[i],Object(r.a)({},n,{selector:s})),delete a[i]}}(e,t))}}},He=/\s*,\s*/g,Ge=/&/g,Be=/\$([\w-]+)/g;var ze=function(){function e(e,t){return function(n,r){var a=e.getRule(r)||t&&t.getRule(r);return a?a.selector:r}}function t(e,t){for(var n=t.split(He),r=e.split(He),a="",i=0;i<n.length;i++)for(var s=n[i],o=0;o<r.length;o++){var l=r[o];a&&(a+=", "),a+=-1!==l.indexOf("&")?l.replace(Ge,s):s+" "+l}return a}function n(e,t,n){if(n)return Object(r.a)({},n,{index:n.index+1});var a=e.options.nestingLevel;a=void 0===a?1:a+1;var i=Object(r.a)({},e.options,{nestingLevel:a,index:t.indexOf(e)+1});return delete i.name,i}return{onProcessStyle:function(a,i,s){if("style"!==i.type)return a;var o,l,u=i,c=u.options.parent;for(var d in a){var f=-1!==d.indexOf("&"),h="@"===d[0];if(f||h){if(o=n(u,c,o),f){var p=t(d,u.selector);l||(l=e(c,s)),p=p.replace(Be,l);var m=u.key+"-"+d;"replaceRule"in c?c.replaceRule(m,a[d],Object(r.a)({},o,{selector:p})):c.addRule(m,a[d],Object(r.a)({},o,{selector:p}))}else h&&c.addRule(d,{},o).addRule(u.key,a[d],{selector:u.selector});delete a[d]}}return a}}},Ve=/[A-Z]/g,qe=/^ms-/,Ye={};function Ke(e){return"-"+e.toLowerCase()}var We=function(e){if(Ye.hasOwnProperty(e))return Ye[e];var t=e.replace(Ve,Ke);return Ye[e]=qe.test(t)?"-"+t:t};function Qe(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:We(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(Qe):t.fallbacks=Qe(e.fallbacks)),t}var Je=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=Qe(e[t]);return e}return Qe(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=We(t);return t===r?e:(n.prop(r,e),null)}}},$e=Ne&&CSS?CSS.px:"px",Xe=Ne&&CSS?CSS.ms:"ms",Ze=Ne&&CSS?CSS.percent:"%";function et(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var a in e)r[a]=e[a],r[a.replace(t,n)]=e[a];return r}var tt=et({"animation-delay":Xe,"animation-duration":Xe,"background-position":$e,"background-position-x":$e,"background-position-y":$e,"background-size":$e,border:$e,"border-bottom":$e,"border-bottom-left-radius":$e,"border-bottom-right-radius":$e,"border-bottom-width":$e,"border-left":$e,"border-left-width":$e,"border-radius":$e,"border-right":$e,"border-right-width":$e,"border-top":$e,"border-top-left-radius":$e,"border-top-right-radius":$e,"border-top-width":$e,"border-width":$e,"border-block":$e,"border-block-end":$e,"border-block-end-width":$e,"border-block-start":$e,"border-block-start-width":$e,"border-block-width":$e,"border-inline":$e,"border-inline-end":$e,"border-inline-end-width":$e,"border-inline-start":$e,"border-inline-start-width":$e,"border-inline-width":$e,"border-start-start-radius":$e,"border-start-end-radius":$e,"border-end-start-radius":$e,"border-end-end-radius":$e,margin:$e,"margin-bottom":$e,"margin-left":$e,"margin-right":$e,"margin-top":$e,"margin-block":$e,"margin-block-end":$e,"margin-block-start":$e,"margin-inline":$e,"margin-inline-end":$e,"margin-inline-start":$e,padding:$e,"padding-bottom":$e,"padding-left":$e,"padding-right":$e,"padding-top":$e,"padding-block":$e,"padding-block-end":$e,"padding-block-start":$e,"padding-inline":$e,"padding-inline-end":$e,"padding-inline-start":$e,"mask-position-x":$e,"mask-position-y":$e,"mask-size":$e,height:$e,width:$e,"min-height":$e,"max-height":$e,"min-width":$e,"max-width":$e,bottom:$e,left:$e,top:$e,right:$e,inset:$e,"inset-block":$e,"inset-block-end":$e,"inset-block-start":$e,"inset-inline":$e,"inset-inline-end":$e,"inset-inline-start":$e,"box-shadow":$e,"text-shadow":$e,"column-gap":$e,"column-rule":$e,"column-rule-width":$e,"column-width":$e,"font-size":$e,"font-size-delta":$e,"letter-spacing":$e,"text-decoration-thickness":$e,"text-indent":$e,"text-stroke":$e,"text-stroke-width":$e,"word-spacing":$e,motion:$e,"motion-offset":$e,outline:$e,"outline-offset":$e,"outline-width":$e,perspective:$e,"perspective-origin-x":Ze,"perspective-origin-y":Ze,"transform-origin":Ze,"transform-origin-x":Ze,"transform-origin-y":Ze,"transform-origin-z":Ze,"transition-delay":Xe,"transition-duration":Xe,"vertical-align":$e,"flex-basis":$e,"shape-margin":$e,size:$e,gap:$e,grid:$e,"grid-gap":$e,"row-gap":$e,"grid-row-gap":$e,"grid-column-gap":$e,"grid-template-rows":$e,"grid-template-columns":$e,"grid-auto-rows":$e,"grid-auto-columns":$e,"box-shadow-x":$e,"box-shadow-y":$e,"box-shadow-blur":$e,"box-shadow-spread":$e,"font-line-height":$e,"text-shadow-x":$e,"text-shadow-y":$e,"text-shadow-blur":$e});function nt(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=nt(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var a in t)t[a]=nt(a,t[a],n);else for(var i in t)t[i]=nt(e+"-"+i,t[i],n);else if("number"===typeof t&&!1===isNaN(t)){var s=n[e]||tt[e];return!s||0===t&&s===$e?t.toString():"function"===typeof s?s(t).toString():""+t+s}return t}var rt=function(e){void 0===e&&(e={});var t=et(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=nt(r,e[r],t);return e},onChangeValue:function(e,n){return nt(n,e,t)}}},at=n(18),it="",st="",ot="",lt="",ut=c&&"ontouchstart"in document.documentElement;if(c){var ct={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},dt=document.createElement("p").style;for(var ft in ct)if(ft+"Transform"in dt){it=ft,st=ct[ft];break}"Webkit"===it&&"msHyphens"in dt&&(it="ms",st=ct.ms,lt="edge"),"Webkit"===it&&"-apple-trailing-word"in dt&&(ot="apple")}var ht={js:it,css:st,vendor:ot,browser:lt,isTouch:ut};var pt={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===ht.js?"-webkit-"+e:ht.css+e)}},mt={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===ht.js?ht.css+"print-"+e:e)}},gt=/[-\s]+(.)?/g;function yt(e,t){return t?t.toUpperCase():""}function _t(e){return e.replace(gt,yt)}function vt(e){return _t("-"+e)}var Et,bt={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===ht.js){if(_t("mask-image")in t)return e;if(ht.js+vt("mask-image")in t)return ht.css+e}return e}},Ct={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==ht.vendor||ht.isTouch?e:ht.css+e)}},Nt={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:ht.css+e)}},St={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:ht.css+e)}},Tt={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===ht.js||"ms"===ht.js&&"edge"!==ht.browser?ht.css+e:e)}},Ot={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===ht.js||"ms"===ht.js||"apple"===ht.vendor?ht.css+e:e)}},wt={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===ht.js?"WebkitColumn"+vt(e)in t&&ht.css+"column-"+e:"Moz"===ht.js&&("page"+vt(e)in t&&"page-"+e))}},kt={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===ht.js)return e;var n=e.replace("-inline","");return ht.js+vt(n)in t&&ht.css+n}},At={supportedProperty:function(e,t){return _t(e)in t&&e}},Rt={supportedProperty:function(e,t){var n=vt(e);return"-"===e[0]?e:"-"===e[0]&&"-"===e[1]?e:ht.js+n in t?ht.css+e:"Webkit"!==ht.js&&"Webkit"+n in t&&"-webkit-"+e}},It={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===ht.js?""+ht.css+e:e)}},Mt={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===ht.js?ht.css+"scroll-chaining":e)}},Pt={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Ut={supportedProperty:function(e,t){var n=Pt[e];return!!n&&(ht.js+vt(n)in t&&ht.css+n)}},Lt={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Dt=Object.keys(Lt),xt=function(e){return ht.css+e},Ft=[pt,mt,bt,Ct,Nt,St,Tt,Ot,wt,kt,At,Rt,It,Mt,Ut,{supportedProperty:function(e,t,n){var r=n.multiple;if(Dt.indexOf(e)>-1){var a=Lt[e];if(!Array.isArray(a))return ht.js+vt(a)in t&&ht.css+a;if(!r)return!1;for(var i=0;i<a.length;i++)if(!(ht.js+vt(a[0])in t))return!1;return a.map(xt)}return!1}}],jt=Ft.filter(function(e){return e.supportedProperty}).map(function(e){return e.supportedProperty}),Ht=Ft.filter(function(e){return e.noPrefill}).reduce(function(e,t){return e.push.apply(e,Object(at.a)(t.noPrefill)),e},[]),Gt={};if(c){Et=document.createElement("p");var Bt=window.getComputedStyle(document.documentElement,"");for(var zt in Bt)isNaN(zt)||(Gt[Bt[zt]]=Bt[zt]);Ht.forEach(function(e){return delete Gt[e]})}function Vt(e,t){if(void 0===t&&(t={}),!Et)return e;if(null!=Gt[e])return Gt[e];"transition"!==e&&"transform"!==e||(t[e]=e in Et.style);for(var n=0;n<jt.length&&(Gt[e]=jt[n](e,Et.style,t),!Gt[e]);n++);try{Et.style[e]=""}catch(r){return!1}return Gt[e]}var qt,Yt={},Kt={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Wt=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Qt(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?Vt(t):", "+Vt(n);return r||(t||n)}function Jt(e,t){var n=t;if(!qt||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=Yt[r])return Yt[r];try{qt.style[e]=n}catch(a){return Yt[r]=!1,!1}if(Kt[e])n=n.replace(Wt,Qt);else if(""===qt.style[e]&&("-ms-flex"===(n=ht.css+n)&&(qt.style[e]="-ms-flexbox"),qt.style[e]=n,""===qt.style[e]))return Yt[r]=!1,!1;return qt.style[e]="",Yt[r]=n,Yt[r]}c&&(qt=document.createElement("p"));var $t=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var a=!1,i=Vt(n);i&&i!==n&&(a=!0);var s=!1,o=Jt(i,v(r));o&&o!==r&&(s=!0),(a||s)&&(a&&delete t[n],t[i||n]=o||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at="-"===(n=t.at)[1]?n:"ms"===ht.js?n:"@"+ht.css+"keyframes"+n.substr(10)}var n},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return Jt(t,v(e))||e}}};var Xt=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},a=Object.keys(t).sort(e),i=0;i<a.length;i++)r[a[i]]=t[a[i]];return r}}};function Zt(){return{plugins:[Me(),je(),ze(),Je(),rt(),"undefined"===typeof window?null:$t(),Xt()]}}var en=Ce(Zt()),tn={disableGeneration:!1,generateClassName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,a=void 0===r?"jss":r,i=e.seed,s=void 0===i?"":i,o=""===s?"":"".concat(s,"-"),l=0,u=function(){return l+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==ke.indexOf(e.key))return"Mui-".concat(e.key);var i="".concat(o).concat(r,"-").concat(e.key);return t.options.theme[we]&&""===s?"".concat(i,"-").concat(u()):i}return"".concat(o).concat(a).concat(u())}}(),jss:en,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},nn=s.a.createContext(tn);var rn=-1e9;n(25);var an=n(118);var sn={};function on(e,t){var n=e.state,a=e.theme,i=e.stylesOptions,s=e.stylesCreator,o=e.name;if(!i.disableGeneration){var l=Te.get(i.sheetsManager,s,a);l||(l={refs:0,staticSheet:null,dynamicStyles:null},Te.set(i.sheetsManager,s,a,l));var u=Object(r.a)({},s.options,i,{theme:a,flip:"boolean"===typeof i.flip?i.flip:"rtl"===a.direction});u.generateId=u.serverGenerateClassName||u.generateClassName;var c=i.sheetsRegistry;if(0===l.refs){var d;i.sheetsCache&&(d=Te.get(i.sheetsCache,s,a));var f=s.create(a,o);d||((d=i.jss.createStyleSheet(f,Object(r.a)({link:!1},u))).attach(),i.sheetsCache&&Te.set(i.sheetsCache,s,a,d)),c&&c.add(d),l.staticSheet=d,l.dynamicStyles=function e(t){var n=null;for(var r in t){var a=t[r],i=typeof a;if("function"===i)n||(n={}),n[r]=a;else if("object"===i&&null!==a&&!Array.isArray(a)){var s=e(a);s&&(n||(n={}),n[r]=s)}}return n}(f)}if(l.dynamicStyles){var h=i.jss.createStyleSheet(l.dynamicStyles,Object(r.a)({link:!0},u));h.update(t),h.attach(),n.dynamicSheet=h,n.classes=Se({baseClasses:l.staticSheet.classes,newClasses:h.classes}),c&&c.add(h)}else n.classes=l.staticSheet.classes;l.refs+=1}}function ln(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,i=t.classNamePrefix,o=t.Component,l=t.defaultTheme,u=void 0===l?sn:l,c=Object(a.a)(t,["name","classNamePrefix","Component","defaultTheme"]),d=function(e){var t="function"===typeof e;return{create:function(n,a){var i;try{i=t?e(n):e}catch(l){throw l}if(!a||!n.overrides||!n.overrides[a])return i;var s=n.overrides[a],o=Object(r.a)({},i);return Object.keys(s).forEach(function(e){o[e]=Object(an.a)(o[e],s[e])}),o},options:{}}}(e),f=n||i||"makeStyles";d.options={index:rn+=1,name:n,meta:f,classNamePrefix:f};return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(Oe.a)()||u,a=Object(r.a)({},s.a.useContext(nn),c),i=s.a.useRef(),l=s.a.useRef();return function(e,t){var n,r=s.a.useRef([]),a=s.a.useMemo(function(){return{}},t);r.current!==a&&(r.current=a,n=e()),s.a.useEffect(function(){return function(){n&&n()}},[a])}(function(){var r={name:n,state:{},stylesCreator:d,stylesOptions:a,theme:t};return on(r,e),l.current=!1,i.current=r,function(){!function(e){var t=e.state,n=e.theme,r=e.stylesOptions,a=e.stylesCreator;if(!r.disableGeneration){var i=Te.get(r.sheetsManager,a,n);i.refs-=1;var s=r.sheetsRegistry;0===i.refs&&(Te.delete(r.sheetsManager,a,n),r.jss.removeStyleSheet(i.staticSheet),s&&s.remove(i.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),s&&s.remove(t.dynamicSheet))}}(r)}},[t,d]),s.a.useEffect(function(){l.current&&function(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}(i.current,e),l.current=!0}),function(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var a=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,a=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,a=!0),a&&(r.cacheClasses.value=Se({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}(i.current,e.classes,o)}}var un=n(119),cn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var i=t.defaultTheme,o=t.withTheme,u=void 0!==o&&o,c=t.name,d=Object(a.a)(t,["defaultTheme","withTheme","name"]),f=c,h=ln(e,Object(r.a)({defaultTheme:i,Component:n,name:c||n.displayName,classNamePrefix:f},d)),p=s.a.forwardRef(function(e,t){e.classes;var o,l=e.innerRef,d=Object(a.a)(e,["classes","innerRef"]),f=h(Object(r.a)({},n.defaultProps,e)),p=d;return("string"===typeof c||u)&&(o=Object(Oe.a)()||i,c&&(p=Object(un.a)({theme:o,name:c,props:d})),u&&!p.theme&&(p.theme=o)),s.a.createElement(n,Object(r.a)({ref:l||t,classes:f},p))});return l()(p,n),p}},dn=n(32);t.a=function(e,t){return cn(e,Object(r.a)({defaultTheme:dn.a},t))}},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(56)},,function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(48);function a(e){if("string"!==typeof e)throw new Error(Object(r.a)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},function(e,t,n){"use strict";var r=n(38),a=Object.prototype.toString;function i(e){return"[object Array]"===a.call(e)}function s(e){return"undefined"===typeof e}function o(e){return null!==e&&"object"===typeof e}function l(e){if("[object Object]"!==a.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===a.call(e)}function c(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),i(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===a.call(e)},isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:o,isPlainObject:l,isUndefined:s,isDate:function(e){return"[object Date]"===a.call(e)},isFile:function(e){return"[object File]"===a.call(e)},isBlob:function(e){return"[object Blob]"===a.call(e)},isFunction:u,isStream:function(e){return o(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!==typeof window&&"undefined"!==typeof document},forEach:c,merge:function e(){var t={};function n(n,r){l(t[r])&&l(n)?t[r]=e(t[r],n):l(n)?t[r]=e({},n):i(n)?t[r]=n.slice():t[r]=n}for(var r=0,a=arguments.length;r<a;r++)c(arguments[r],n);return t},extend:function(e,t,n){return c(t,function(t,a){e[a]=n&&"function"===typeof t?r(t,n):t}),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(2),a=n(21);function i(e,t){return r.useMemo(function(){return null==e&&null==t?null:function(n){Object(a.a)(e,n),Object(a.a)(t,n)}},[e,t])}},function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"b",function(){return u}),n.d(t,"a",function(){return c}),n.d(t,"d",function(){return d});var r=n(48);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function i(e){if(e.type)return e;if("#"===e.charAt(0))return i(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map(function(e){return e+e})),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3}).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(Object(r.a)(3,e));var a=e.substring(t+1,e.length-1).split(",");return{type:n,values:a=a.map(function(e){return parseFloat(e)})}}function s(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map(function(e,t){return t<3?parseInt(e,10):e}):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function o(e,t){var n=l(e),r=l(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function l(e){var t="hsl"===(e=i(e)).type?i(function(e){var t=(e=i(e)).values,n=t[0],r=t[1]/100,a=t[2]/100,o=r*Math.min(a,1-a),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return a-o*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",c=[Math.round(255*l(0)),Math.round(255*l(8)),Math.round(255*l(4))];return"hsla"===e.type&&(u+="a",c.push(t[3])),s({type:u,values:c})}(e)).values:e.values;return t=t.map(function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function u(e,t){return e=i(e),t=a(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,s(e)}function c(e,t){if(e=i(e),t=a(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return s(e)}function d(e,t){if(e=i(e),t=a(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return s(e)}},function(e,t,n){(function(e){e.exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function i(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function o(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(s(e,t))return!1;return!0}function l(e){return void 0===e}function u(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function c(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function d(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function f(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function h(e,t,n,r){return Rt(e,t,n,r,!0).utc()}function p(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function m(e){if(null==e._isValid){var t=p(e),r=n.call(t.parsedDateParts,function(e){return null!=e}),a=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(a=a&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return a;e._isValid=a}return e._isValid}function g(e){var t=h(NaN);return null!=e?f(p(t),e):p(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var y=r.momentProperties=[],_=!1;function v(e,t){var n,r,a;if(l(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),l(t._i)||(e._i=t._i),l(t._f)||(e._f=t._f),l(t._l)||(e._l=t._l),l(t._strict)||(e._strict=t._strict),l(t._tzm)||(e._tzm=t._tzm),l(t._isUTC)||(e._isUTC=t._isUTC),l(t._offset)||(e._offset=t._offset),l(t._pf)||(e._pf=p(t)),l(t._locale)||(e._locale=t._locale),y.length>0)for(n=0;n<y.length;n++)r=y[n],l(a=t[r])||(e[r]=a);return e}function E(e){v(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===_&&(_=!0,r.updateOffset(this),_=!1)}function b(e){return e instanceof E||null!=e&&null!=e._isAMomentObject}function C(e){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function N(e,t){var n=!0;return f(function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var a,i,o,l=[];for(i=0;i<arguments.length;i++){if(a="","object"===typeof arguments[i]){for(o in a+="\n["+i+"] ",arguments[0])s(arguments[0],o)&&(a+=o+": "+arguments[0][o]+", ");a=a.slice(0,-2)}else a=arguments[i];l.push(a)}C(e+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)},t)}var S,T={};function O(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),T[e]||(C(t),T[e]=!0)}function w(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function k(e,t){var n,r=f({},e);for(n in t)s(t,n)&&(i(e[n])&&i(t[n])?(r[n]={},f(r[n],e[n]),f(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)s(e,n)&&!s(t,n)&&i(e[n])&&(r[n]=f({},r[n]));return r}function A(e){null!=e&&this.set(e)}function R(e,t,n){var r=""+Math.abs(e),a=t-r.length,i=e>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+r}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,S=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};var I=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,M=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,P={},U={};function L(e,t,n,r){var a=r;"string"===typeof r&&(a=function(){return this[r]()}),e&&(U[e]=a),t&&(U[t[0]]=function(){return R(a.apply(this,arguments),t[1],t[2])}),n&&(U[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function D(e,t){return e.isValid()?(t=x(t,e.localeData()),P[t]=P[t]||function(e){var t,n,r,a=e.match(I);for(t=0,n=a.length;t<n;t++)U[a[t]]?a[t]=U[a[t]]:a[t]=(r=a[t]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(t){var r,i="";for(r=0;r<n;r++)i+=w(a[r])?a[r].call(t,e):a[r];return i}}(t),P[t](e)):e.localeData().invalidDate()}function x(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(M.lastIndex=0;n>=0&&M.test(e);)e=e.replace(M,r),M.lastIndex=0,n-=1;return e}var F={};function j(e,t){var n=e.toLowerCase();F[n]=F[n+"s"]=F[t]=e}function H(e){return"string"===typeof e?F[e]||F[e.toLowerCase()]:void 0}function G(e){var t,n,r={};for(n in e)s(e,n)&&(t=H(n))&&(r[t]=e[n]);return r}var B={};function z(e,t){B[e]=t}function V(e){return e%4===0&&e%100!==0||e%400===0}function q(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Y(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=q(t)),n}function K(e,t){return function(n){return null!=n?(Q(this,e,n),r.updateOffset(this,t),this):W(this,e)}}function W(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Q(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&V(e.year())&&1===e.month()&&29===e.date()?(n=Y(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Re(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}var J,$=/\d/,X=/\d\d/,Z=/\d{3}/,ee=/\d{4}/,te=/[+-]?\d{6}/,ne=/\d\d?/,re=/\d\d\d\d?/,ae=/\d\d\d\d\d\d?/,ie=/\d{1,3}/,se=/\d{1,4}/,oe=/[+-]?\d{1,6}/,le=/\d+/,ue=/[+-]?\d+/,ce=/Z|[+-]\d\d:?\d\d/gi,de=/Z|[+-]\d\d(?::?\d\d)?/gi,fe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function he(e,t,n){J[e]=w(t)?t:function(e,r){return e&&n?n:t}}function pe(e,t){return s(J,e)?J[e](t._strict,t._locale):new RegExp(me(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,a){return t||n||r||a})))}function me(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}J={};var ge={};function ye(e,t){var n,r=t;for("string"===typeof e&&(e=[e]),u(t)&&(r=function(e,n){n[t]=Y(e)}),n=0;n<e.length;n++)ge[e[n]]=r}function _e(e,t){ye(e,function(e,n,r,a){r._w=r._w||{},t(e,r._w,r,a)})}function ve(e,t,n){null!=t&&s(ge,e)&&ge[e](t,n._a,n,e)}var Ee,be=0,Ce=1,Ne=2,Se=3,Te=4,Oe=5,we=6,ke=7,Ae=8;function Re(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,r=(t%(n=12)+n)%n;return e+=(t-r)/12,1===r?V(e)?29:28:31-r%7%2}Ee=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},L("M",["MM",2],"Mo",function(){return this.month()+1}),L("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),L("MMMM",0,0,function(e){return this.localeData().months(this,e)}),j("month","M"),z("month",8),he("M",ne),he("MM",ne,X),he("MMM",function(e,t){return t.monthsShortRegex(e)}),he("MMMM",function(e,t){return t.monthsRegex(e)}),ye(["M","MM"],function(e,t){t[Ce]=Y(e)-1}),ye(["MMM","MMMM"],function(e,t,n,r){var a=n._locale.monthsParse(e,r,n._strict);null!=a?t[Ce]=a:p(n).invalidMonth=e});var Ie="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Me="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Pe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ue=fe,Le=fe;function De(e,t){var n;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=Y(t);else if(!u(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Re(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function xe(e){return null!=e?(De(this,e),r.updateOffset(this,!0),this):W(this,"Month")}function Fe(){function e(e,t){return t.length-e.length}var t,n,r=[],a=[],i=[];for(t=0;t<12;t++)n=h([2e3,t]),r.push(this.monthsShort(n,"")),a.push(this.months(n,"")),i.push(this.months(n,"")),i.push(this.monthsShort(n,""));for(r.sort(e),a.sort(e),i.sort(e),t=0;t<12;t++)r[t]=me(r[t]),a[t]=me(a[t]);for(t=0;t<24;t++)i[t]=me(i[t]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function je(e){return V(e)?366:365}L("Y",0,0,function(){var e=this.year();return e<=9999?R(e,4):"+"+e}),L(0,["YY",2],0,function(){return this.year()%100}),L(0,["YYYY",4],0,"year"),L(0,["YYYYY",5],0,"year"),L(0,["YYYYYY",6,!0],0,"year"),j("year","y"),z("year",1),he("Y",ue),he("YY",ne,X),he("YYYY",se,ee),he("YYYYY",oe,te),he("YYYYYY",oe,te),ye(["YYYYY","YYYYYY"],be),ye("YYYY",function(e,t){t[be]=2===e.length?r.parseTwoDigitYear(e):Y(e)}),ye("YY",function(e,t){t[be]=r.parseTwoDigitYear(e)}),ye("Y",function(e,t){t[be]=parseInt(e,10)}),r.parseTwoDigitYear=function(e){return Y(e)+(Y(e)>68?1900:2e3)};var He=K("FullYear",!0);function Ge(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Be(e,t,n){var r=7+t-n,a=(7+Ge(e,0,r).getUTCDay()-t)%7;return-a+r-1}function ze(e,t,n,r,a){var i,s,o=(7+n-r)%7,l=Be(e,r,a),u=1+7*(t-1)+o+l;return u<=0?s=je(i=e-1)+u:u>je(e)?(i=e+1,s=u-je(e)):(i=e,s=u),{year:i,dayOfYear:s}}function Ve(e,t,n){var r,a,i=Be(e.year(),t,n),s=Math.floor((e.dayOfYear()-i-1)/7)+1;return s<1?(a=e.year()-1,r=s+qe(a,t,n)):s>qe(e.year(),t,n)?(r=s-qe(e.year(),t,n),a=e.year()+1):(a=e.year(),r=s),{week:r,year:a}}function qe(e,t,n){var r=Be(e,t,n),a=Be(e+1,t,n);return(je(e)-r+a)/7}function Ye(e,t){return e.slice(t,7).concat(e.slice(0,t))}L("w",["ww",2],"wo","week"),L("W",["WW",2],"Wo","isoWeek"),j("week","w"),j("isoWeek","W"),z("week",5),z("isoWeek",5),he("w",ne),he("ww",ne,X),he("W",ne),he("WW",ne,X),_e(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=Y(e)}),L("d",0,"do","day"),L("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),L("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),L("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),L("e",0,0,"weekday"),L("E",0,0,"isoWeekday"),j("day","d"),j("weekday","e"),j("isoWeekday","E"),z("day",11),z("weekday",11),z("isoWeekday",11),he("d",ne),he("e",ne),he("E",ne),he("dd",function(e,t){return t.weekdaysMinRegex(e)}),he("ddd",function(e,t){return t.weekdaysShortRegex(e)}),he("dddd",function(e,t){return t.weekdaysRegex(e)}),_e(["dd","ddd","dddd"],function(e,t,n,r){var a=n._locale.weekdaysParse(e,r,n._strict);null!=a?t.d=a:p(n).invalidWeekday=e}),_e(["d","e","E"],function(e,t,n,r){t[r]=Y(e)});var Ke="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),We="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Qe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Je=fe,$e=fe,Xe=fe;function Ze(){function e(e,t){return t.length-e.length}var t,n,r,a,i,s=[],o=[],l=[],u=[];for(t=0;t<7;t++)n=h([2e3,1]).day(t),r=me(this.weekdaysMin(n,"")),a=me(this.weekdaysShort(n,"")),i=me(this.weekdays(n,"")),s.push(r),o.push(a),l.push(i),u.push(r),u.push(a),u.push(i);s.sort(e),o.sort(e),l.sort(e),u.sort(e),this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function et(){return this.hours()%12||12}function tt(e,t){L(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function nt(e,t){return t._meridiemParse}L("H",["HH",2],0,"hour"),L("h",["hh",2],0,et),L("k",["kk",2],0,function(){return this.hours()||24}),L("hmm",0,0,function(){return""+et.apply(this)+R(this.minutes(),2)}),L("hmmss",0,0,function(){return""+et.apply(this)+R(this.minutes(),2)+R(this.seconds(),2)}),L("Hmm",0,0,function(){return""+this.hours()+R(this.minutes(),2)}),L("Hmmss",0,0,function(){return""+this.hours()+R(this.minutes(),2)+R(this.seconds(),2)}),tt("a",!0),tt("A",!1),j("hour","h"),z("hour",13),he("a",nt),he("A",nt),he("H",ne),he("h",ne),he("k",ne),he("HH",ne,X),he("hh",ne,X),he("kk",ne,X),he("hmm",re),he("hmmss",ae),he("Hmm",re),he("Hmmss",ae),ye(["H","HH"],Se),ye(["k","kk"],function(e,t,n){var r=Y(e);t[Se]=24===r?0:r}),ye(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),ye(["h","hh"],function(e,t,n){t[Se]=Y(e),p(n).bigHour=!0}),ye("hmm",function(e,t,n){var r=e.length-2;t[Se]=Y(e.substr(0,r)),t[Te]=Y(e.substr(r)),p(n).bigHour=!0}),ye("hmmss",function(e,t,n){var r=e.length-4,a=e.length-2;t[Se]=Y(e.substr(0,r)),t[Te]=Y(e.substr(r,2)),t[Oe]=Y(e.substr(a)),p(n).bigHour=!0}),ye("Hmm",function(e,t,n){var r=e.length-2;t[Se]=Y(e.substr(0,r)),t[Te]=Y(e.substr(r))}),ye("Hmmss",function(e,t,n){var r=e.length-4,a=e.length-2;t[Se]=Y(e.substr(0,r)),t[Te]=Y(e.substr(r,2)),t[Oe]=Y(e.substr(a))});var rt,at=K("Hours",!0),it={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ie,monthsShort:Me,week:{dow:0,doy:6},weekdays:Ke,weekdaysMin:Qe,weekdaysShort:We,meridiemParse:/[ap]\.?m?\.?/i},st={},ot={};function lt(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function ut(e){return e?e.toLowerCase().replace("_","-"):e}function ct(t){var n=null;if(void 0===st[t]&&"undefined"!==typeof e&&e&&e.exports)try{n=rt._abbr,function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}(),dt(n)}catch(r){st[t]=null}return st[t]}function dt(e,t){var n;return e&&((n=l(t)?ht(e):ft(e,t))?rt=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),rt._abbr}function ft(e,t){if(null!==t){var n,r=it;if(t.abbr=e,null!=st[e])O("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=st[e]._config;else if(null!=t.parentLocale)if(null!=st[t.parentLocale])r=st[t.parentLocale]._config;else{if(null==(n=ct(t.parentLocale)))return ot[t.parentLocale]||(ot[t.parentLocale]=[]),ot[t.parentLocale].push({name:e,config:t}),null;r=n._config}return st[e]=new A(k(r,t)),ot[e]&&ot[e].forEach(function(e){ft(e.name,e.config)}),dt(e),st[e]}return delete st[e],null}function ht(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return rt;if(!a(e)){if(t=ct(e))return t;e=[e]}return function(e){for(var t,n,r,a,i=0;i<e.length;){for(a=ut(e[i]).split("-"),t=a.length,n=(n=ut(e[i+1]))?n.split("-"):null;t>0;){if(r=ct(a.slice(0,t).join("-")))return r;if(n&&n.length>=t&&lt(a,n)>=t-1)break;t--}i++}return rt}(e)}function pt(e){var t,n=e._a;return n&&-2===p(e).overflow&&(t=n[Ce]<0||n[Ce]>11?Ce:n[Ne]<1||n[Ne]>Re(n[be],n[Ce])?Ne:n[Se]<0||n[Se]>24||24===n[Se]&&(0!==n[Te]||0!==n[Oe]||0!==n[we])?Se:n[Te]<0||n[Te]>59?Te:n[Oe]<0||n[Oe]>59?Oe:n[we]<0||n[we]>999?we:-1,p(e)._overflowDayOfYear&&(t<be||t>Ne)&&(t=Ne),p(e)._overflowWeeks&&-1===t&&(t=ke),p(e)._overflowWeekday&&-1===t&&(t=Ae),p(e).overflow=t),e}var mt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yt=/Z|[+-]\d\d(?::?\d\d)?/,_t=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],vt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Et=/^\/?Date\((-?\d+)/i,bt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Ct={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Nt(e){var t,n,r,a,i,s,o=e._i,l=mt.exec(o)||gt.exec(o);if(l){for(p(e).iso=!0,t=0,n=_t.length;t<n;t++)if(_t[t][1].exec(l[1])){a=_t[t][0],r=!1!==_t[t][2];break}if(null==a)return void(e._isValid=!1);if(l[3]){for(t=0,n=vt.length;t<n;t++)if(vt[t][1].exec(l[3])){i=(l[2]||" ")+vt[t][0];break}if(null==i)return void(e._isValid=!1)}if(!r&&null!=i)return void(e._isValid=!1);if(l[4]){if(!yt.exec(l[4]))return void(e._isValid=!1);s="Z"}e._f=a+(i||"")+(s||""),kt(e)}else e._isValid=!1}function St(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Tt(e){var t,n=bt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(n){if(t=function(e,t,n,r,a,i){var s=[St(e),Me.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(a,10)];return i&&s.push(parseInt(i,10)),s}(n[4],n[3],n[2],n[5],n[6],n[7]),!function(e,t,n){if(e){var r=We.indexOf(e),a=new Date(t[0],t[1],t[2]).getDay();if(r!==a)return p(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}(n[1],t,e))return;e._a=t,e._tzm=function(e,t,n){if(e)return Ct[e];if(t)return 0;var r=parseInt(n,10),a=r%100,i=(r-a)/100;return 60*i+a}(n[8],n[9],n[10]),e._d=Ge.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),p(e).rfc2822=!0}else e._isValid=!1}function Ot(e,t,n){return null!=e?e:null!=t?t:n}function wt(e){var t,n,a,i,s,o=[];if(!e._d){for(a=function(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[Ne]&&null==e._a[Ce]&&function(e){var t,n,r,a,i,s,o,l,u;null!=(t=e._w).GG||null!=t.W||null!=t.E?(i=1,s=4,n=Ot(t.GG,e._a[be],Ve(It(),1,4).year),r=Ot(t.W,1),((a=Ot(t.E,1))<1||a>7)&&(l=!0)):(i=e._locale._week.dow,s=e._locale._week.doy,u=Ve(It(),i,s),n=Ot(t.gg,e._a[be],u.year),r=Ot(t.w,u.week),null!=t.d?((a=t.d)<0||a>6)&&(l=!0):null!=t.e?(a=t.e+i,(t.e<0||t.e>6)&&(l=!0)):a=i),r<1||r>qe(n,i,s)?p(e)._overflowWeeks=!0:null!=l?p(e)._overflowWeekday=!0:(o=ze(n,r,a,i,s),e._a[be]=o.year,e._dayOfYear=o.dayOfYear)}(e),null!=e._dayOfYear&&(s=Ot(e._a[be],a[be]),(e._dayOfYear>je(s)||0===e._dayOfYear)&&(p(e)._overflowDayOfYear=!0),n=Ge(s,0,e._dayOfYear),e._a[Ce]=n.getUTCMonth(),e._a[Ne]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=a[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Se]&&0===e._a[Te]&&0===e._a[Oe]&&0===e._a[we]&&(e._nextDay=!0,e._a[Se]=0),e._d=(e._useUTC?Ge:function(e,t,n,r,a,i,s){var o;return e<100&&e>=0?(o=new Date(e+400,t,n,r,a,i,s),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,n,r,a,i,s),o}).apply(null,o),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Se]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==i&&(p(e).weekdayMismatch=!0)}}function kt(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],p(e).empty=!0;var t,n,a,i,s,o,l=""+e._i,u=l.length,c=0;for(a=x(e._f,e._locale).match(I)||[],t=0;t<a.length;t++)i=a[t],(n=(l.match(pe(i,e))||[])[0])&&((s=l.substr(0,l.indexOf(n))).length>0&&p(e).unusedInput.push(s),l=l.slice(l.indexOf(n)+n.length),c+=n.length),U[i]?(n?p(e).empty=!1:p(e).unusedTokens.push(i),ve(i,n,e)):e._strict&&!n&&p(e).unusedTokens.push(i);p(e).charsLeftOver=u-c,l.length>0&&p(e).unusedInput.push(l),e._a[Se]<=12&&!0===p(e).bigHour&&e._a[Se]>0&&(p(e).bigHour=void 0),p(e).parsedDateParts=e._a.slice(0),p(e).meridiem=e._meridiem,e._a[Se]=function(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}(e._locale,e._a[Se],e._meridiem),null!==(o=p(e).era)&&(e._a[be]=e._locale.erasConvertYear(o,e._a[be])),wt(e),pt(e)}else Tt(e);else Nt(e)}function At(e){var t=e._i,n=e._f;return e._locale=e._locale||ht(e._l),null===t||void 0===n&&""===t?g({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),b(t)?new E(pt(t)):(c(t)?e._d=t:a(n)?function(e){var t,n,r,a,i,s,o=!1;if(0===e._f.length)return p(e).invalidFormat=!0,void(e._d=new Date(NaN));for(a=0;a<e._f.length;a++)i=0,s=!1,t=v({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[a],kt(t),m(t)&&(s=!0),i+=p(t).charsLeftOver,i+=10*p(t).unusedTokens.length,p(t).score=i,o?i<r&&(r=i,n=t):(null==r||i<r||s)&&(r=i,n=t,s&&(o=!0));f(e,n||t)}(e):n?kt(e):function(e){var t=e._i;l(t)?e._d=new Date(r.now()):c(t)?e._d=new Date(t.valueOf()):"string"===typeof t?function(e){var t=Et.exec(e._i);null===t?(Nt(e),!1===e._isValid&&(delete e._isValid,Tt(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):a(t)?(e._a=d(t.slice(0),function(e){return parseInt(e,10)}),wt(e)):i(t)?function(e){if(!e._d){var t=G(e._i),n=void 0===t.day?t.date:t.day;e._a=d([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),wt(e)}}(e):u(t)?e._d=new Date(t):r.createFromInputFallback(e)}(e),m(e)||(e._d=null),e))}function Rt(e,t,n,r,s){var l={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(i(e)&&o(e)||a(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=n,l._i=e,l._f=t,l._strict=r,function(e){var t=new E(pt(At(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}(l)}function It(e,t,n,r){return Rt(e,t,n,r,!1)}r.createFromInputFallback=N("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),r.ISO_8601=function(){},r.RFC_2822=function(){};var Mt=N("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=It.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:g()}),Pt=N("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=It.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:g()});function Ut(e,t){var n,r;if(1===t.length&&a(t[0])&&(t=t[0]),!t.length)return It();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}var Lt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Dt(e){var t=G(e),n=t.year||0,r=t.quarter||0,a=t.month||0,i=t.week||t.isoWeek||0,o=t.day||0,l=t.hour||0,u=t.minute||0,c=t.second||0,d=t.millisecond||0;this._isValid=function(e){var t,n,r=!1;for(t in e)if(s(e,t)&&(-1===Ee.call(Lt,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<Lt.length;++n)if(e[Lt[n]]){if(r)return!1;parseFloat(e[Lt[n]])!==Y(e[Lt[n]])&&(r=!0)}return!0}(t),this._milliseconds=+d+1e3*c+6e4*u+1e3*l*60*60,this._days=+o+7*i,this._months=+a+3*r+12*n,this._data={},this._locale=ht(),this._bubble()}function xt(e){return e instanceof Dt}function Ft(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function jt(e,t){L(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+R(~~(e/60),2)+t+R(~~e%60,2)})}jt("Z",":"),jt("ZZ",""),he("Z",de),he("ZZ",de),ye(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Gt(de,e)});var Ht=/([\+\-]|\d\d)/gi;function Gt(e,t){var n,r,a,i=(t||"").match(e);return null===i?null:(n=i[i.length-1]||[],r=(n+"").match(Ht)||["-",0,0],0===(a=60*r[1]+Y(r[2]))?0:"+"===r[0]?a:-a)}function Bt(e,t){var n,a;return t._isUTC?(n=t.clone(),a=(b(e)||c(e)?e.valueOf():It(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+a),r.updateOffset(n,!1),n):It(e).local()}function zt(e){return-Math.round(e._d.getTimezoneOffset())}function Vt(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var qt=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Yt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Kt(e,t){var n,r,a,i=e,o=null;return xt(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:u(e)||!isNaN(+e)?(i={},t?i[t]=+e:i.milliseconds=+e):(o=qt.exec(e))?(n="-"===o[1]?-1:1,i={y:0,d:Y(o[Ne])*n,h:Y(o[Se])*n,m:Y(o[Te])*n,s:Y(o[Oe])*n,ms:Y(Ft(1e3*o[we]))*n}):(o=Yt.exec(e))?(n="-"===o[1]?-1:1,i={y:Wt(o[2],n),M:Wt(o[3],n),w:Wt(o[4],n),d:Wt(o[5],n),h:Wt(o[6],n),m:Wt(o[7],n),s:Wt(o[8],n)}):null==i?i={}:"object"===typeof i&&("from"in i||"to"in i)&&(a=function(e,t){var n;return e.isValid()&&t.isValid()?(t=Bt(t,e),e.isBefore(t)?n=Qt(e,t):((n=Qt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}(It(i.from),It(i.to)),(i={}).ms=a.milliseconds,i.M=a.months),r=new Dt(i),xt(e)&&s(e,"_locale")&&(r._locale=e._locale),xt(e)&&s(e,"_isValid")&&(r._isValid=e._isValid),r}function Wt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Qt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Jt(e,t){return function(n,r){var a;return null===r||isNaN(+r)||(O(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=n,n=r,r=a),$t(this,Kt(n,r),e),this}}function $t(e,t,n,a){var i=t._milliseconds,s=Ft(t._days),o=Ft(t._months);e.isValid()&&(a=null==a||a,o&&De(e,W(e,"Month")+o*n),s&&Q(e,"Date",W(e,"Date")+s*n),i&&e._d.setTime(e._d.valueOf()+i*n),a&&r.updateOffset(e,s||o))}Kt.fn=Dt.prototype,Kt.invalid=function(){return Kt(NaN)};var Xt=Jt(1,"add"),Zt=Jt(-1,"subtract");function en(e){return"string"===typeof e||e instanceof String}function tn(e,t){if(e.date()<t.date())return-tn(t,e);var n,r,a=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(a,"months");return t-i<0?(n=e.clone().add(a-1,"months"),r=(t-i)/(i-n)):(n=e.clone().add(a+1,"months"),r=(t-i)/(n-i)),-(a+r)||0}function nn(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ht(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var rn=N("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function an(){return this._locale}var sn=1e3,on=60*sn,ln=60*on,un=3506328*ln;function cn(e,t){return(e%t+t)%t}function dn(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-un:new Date(e,t,n).valueOf()}function fn(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-un:Date.UTC(e,t,n)}function hn(e,t){return t.erasAbbrRegex(e)}function pn(){var e,t,n=[],r=[],a=[],i=[],s=this.eras();for(e=0,t=s.length;e<t;++e)r.push(me(s[e].name)),n.push(me(s[e].abbr)),a.push(me(s[e].narrow)),i.push(me(s[e].name)),i.push(me(s[e].abbr)),i.push(me(s[e].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+a.join("|")+")","i")}function mn(e,t){L(0,[e,e.length],0,t)}function gn(e,t,n,r,a){var i;return null==e?Ve(this,r,a).year:(i=qe(e,r,a),t>i&&(t=i),function(e,t,n,r,a){var i=ze(e,t,n,r,a),s=Ge(i.year,0,i.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}.call(this,e,t,n,r,a))}L("N",0,0,"eraAbbr"),L("NN",0,0,"eraAbbr"),L("NNN",0,0,"eraAbbr"),L("NNNN",0,0,"eraName"),L("NNNNN",0,0,"eraNarrow"),L("y",["y",1],"yo","eraYear"),L("y",["yy",2],0,"eraYear"),L("y",["yyy",3],0,"eraYear"),L("y",["yyyy",4],0,"eraYear"),he("N",hn),he("NN",hn),he("NNN",hn),he("NNNN",function(e,t){return t.erasNameRegex(e)}),he("NNNNN",function(e,t){return t.erasNarrowRegex(e)}),ye(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var a=n._locale.erasParse(e,r,n._strict);a?p(n).era=a:p(n).invalidEra=e}),he("y",le),he("yy",le),he("yyy",le),he("yyyy",le),he("yo",function(e,t){return t._eraYearOrdinalRegex||le}),ye(["y","yy","yyy","yyyy"],be),ye(["yo"],function(e,t,n,r){var a;n._locale._eraYearOrdinalRegex&&(a=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[be]=n._locale.eraYearOrdinalParse(e,a):t[be]=parseInt(e,10)}),L(0,["gg",2],0,function(){return this.weekYear()%100}),L(0,["GG",2],0,function(){return this.isoWeekYear()%100}),mn("gggg","weekYear"),mn("ggggg","weekYear"),mn("GGGG","isoWeekYear"),mn("GGGGG","isoWeekYear"),j("weekYear","gg"),j("isoWeekYear","GG"),z("weekYear",1),z("isoWeekYear",1),he("G",ue),he("g",ue),he("GG",ne,X),he("gg",ne,X),he("GGGG",se,ee),he("gggg",se,ee),he("GGGGG",oe,te),he("ggggg",oe,te),_e(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=Y(e)}),_e(["gg","GG"],function(e,t,n,a){t[a]=r.parseTwoDigitYear(e)}),L("Q",0,"Qo","quarter"),j("quarter","Q"),z("quarter",7),he("Q",$),ye("Q",function(e,t){t[Ce]=3*(Y(e)-1)}),L("D",["DD",2],"Do","date"),j("date","D"),z("date",9),he("D",ne),he("DD",ne,X),he("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),ye(["D","DD"],Ne),ye("Do",function(e,t){t[Ne]=Y(e.match(ne)[0])});var yn=K("Date",!0);L("DDD",["DDDD",3],"DDDo","dayOfYear"),j("dayOfYear","DDD"),z("dayOfYear",4),he("DDD",ie),he("DDDD",Z),ye(["DDD","DDDD"],function(e,t,n){n._dayOfYear=Y(e)}),L("m",["mm",2],0,"minute"),j("minute","m"),z("minute",14),he("m",ne),he("mm",ne,X),ye(["m","mm"],Te);var _n=K("Minutes",!1);L("s",["ss",2],0,"second"),j("second","s"),z("second",15),he("s",ne),he("ss",ne,X),ye(["s","ss"],Oe);var vn,En,bn=K("Seconds",!1);for(L("S",0,0,function(){return~~(this.millisecond()/100)}),L(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),L(0,["SSS",3],0,"millisecond"),L(0,["SSSS",4],0,function(){return 10*this.millisecond()}),L(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),L(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),L(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),L(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),L(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),j("millisecond","ms"),z("millisecond",16),he("S",ie,$),he("SS",ie,X),he("SSS",ie,Z),vn="SSSS";vn.length<=9;vn+="S")he(vn,le);function Cn(e,t){t[we]=Y(1e3*("0."+e))}for(vn="S";vn.length<=9;vn+="S")ye(vn,Cn);En=K("Milliseconds",!1),L("z",0,0,"zoneAbbr"),L("zz",0,0,"zoneName");var Nn=E.prototype;function Sn(e){return e}Nn.add=Xt,Nn.calendar=function(e,t){var n;1===arguments.length&&(b(n=arguments[0])||c(n)||en(n)||u(n)||function(e){var t=a(e),n=!1;return t&&(n=0===e.filter(function(t){return!u(t)&&en(e)}).length),t&&n}(n)||function(e){var t,n,r=i(e)&&!o(e),a=!1,l=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(t=0;t<l.length;t+=1)n=l[t],a=a||s(e,n);return r&&a}(n)||null===n||void 0===n?(e=arguments[0],t=void 0):function(e){var t,n,r=i(e)&&!o(e),a=!1,l=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<l.length;t+=1)n=l[t],a=a||s(e,n);return r&&a}(arguments[0])&&(t=arguments[0],e=void 0));var l=e||It(),d=Bt(l,this).startOf("day"),f=r.calendarFormat(this,d)||"sameElse",h=t&&(w(t[f])?t[f].call(this,l):t[f]);return this.format(h||this.localeData().calendar(f,this,It(l)))},Nn.clone=function(){return new E(this)},Nn.diff=function(e,t,n){var r,a,i;if(!this.isValid())return NaN;if(!(r=Bt(e,this)).isValid())return NaN;switch(a=6e4*(r.utcOffset()-this.utcOffset()),t=H(t)){case"year":i=tn(this,r)/12;break;case"month":i=tn(this,r);break;case"quarter":i=tn(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-a)/864e5;break;case"week":i=(this-r-a)/6048e5;break;default:i=this-r}return n?i:q(i)},Nn.endOf=function(e){var t,n;if(void 0===(e=H(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?fn:dn,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=ln-cn(t+(this._isUTC?0:this.utcOffset()*on),ln)-1;break;case"minute":t=this._d.valueOf(),t+=on-cn(t,on)-1;break;case"second":t=this._d.valueOf(),t+=sn-cn(t,sn)-1}return this._d.setTime(t),r.updateOffset(this,!0),this},Nn.format=function(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=D(this,e);return this.localeData().postformat(t)},Nn.from=function(e,t){return this.isValid()&&(b(e)&&e.isValid()||It(e).isValid())?Kt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Nn.fromNow=function(e){return this.from(It(),e)},Nn.to=function(e,t){return this.isValid()&&(b(e)&&e.isValid()||It(e).isValid())?Kt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Nn.toNow=function(e){return this.to(It(),e)},Nn.get=function(e){return w(this[e=H(e)])?this[e]():this},Nn.invalidAt=function(){return p(this).overflow},Nn.isAfter=function(e,t){var n=b(e)?e:It(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=H(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},Nn.isBefore=function(e,t){var n=b(e)?e:It(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=H(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},Nn.isBetween=function(e,t,n,r){var a=b(e)?e:It(e),i=b(t)?t:It(t);return!!(this.isValid()&&a.isValid()&&i.isValid())&&("("===(r=r||"()")[0]?this.isAfter(a,n):!this.isBefore(a,n))&&(")"===r[1]?this.isBefore(i,n):!this.isAfter(i,n))},Nn.isSame=function(e,t){var n,r=b(e)?e:It(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=H(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},Nn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},Nn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},Nn.isValid=function(){return m(this)},Nn.lang=rn,Nn.locale=nn,Nn.localeData=an,Nn.max=Pt,Nn.min=Mt,Nn.parsingFlags=function(){return f({},p(this))},Nn.set=function(e,t){if("object"===typeof e){var n,r=function(e){var t,n=[];for(t in e)s(e,t)&&n.push({unit:t,priority:B[t]});return n.sort(function(e,t){return e.priority-t.priority}),n}(e=G(e));for(n=0;n<r.length;n++)this[r[n].unit](e[r[n].unit])}else if(w(this[e=H(e)]))return this[e](t);return this},Nn.startOf=function(e){var t,n;if(void 0===(e=H(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?fn:dn,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=cn(t+(this._isUTC?0:this.utcOffset()*on),ln);break;case"minute":t=this._d.valueOf(),t-=cn(t,on);break;case"second":t=this._d.valueOf(),t-=cn(t,sn)}return this._d.setTime(t),r.updateOffset(this,!0),this},Nn.subtract=Zt,Nn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},Nn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},Nn.toDate=function(){return new Date(this.valueOf())},Nn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?D(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):w(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",D(n,"Z")):D(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Nn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r="moment",a="";return this.isLocal()||(r=0===this.utcOffset()?"moment.utc":"moment.parseZone",a="Z"),e="["+r+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n=a+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+n)},"undefined"!==typeof Symbol&&null!=Symbol.for&&(Nn[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Nn.toJSON=function(){return this.isValid()?this.toISOString():null},Nn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Nn.unix=function(){return Math.floor(this.valueOf()/1e3)},Nn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Nn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Nn.eraName=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""},Nn.eraNarrow=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""},Nn.eraAbbr=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""},Nn.eraYear=function(){var e,t,n,a,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=i[e].since<=i[e].until?1:-1,a=this.startOf("day").valueOf(),i[e].since<=a&&a<=i[e].until||i[e].until<=a&&a<=i[e].since)return(this.year()-r(i[e].since).year())*n+i[e].offset;return this.year()},Nn.year=He,Nn.isLeapYear=function(){return V(this.year())},Nn.weekYear=function(e){return gn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Nn.isoWeekYear=function(e){return gn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},Nn.quarter=Nn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},Nn.month=xe,Nn.daysInMonth=function(){return Re(this.year(),this.month())},Nn.week=Nn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},Nn.isoWeek=Nn.isoWeeks=function(e){var t=Ve(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},Nn.weeksInYear=function(){var e=this.localeData()._week;return qe(this.year(),e.dow,e.doy)},Nn.weeksInWeekYear=function(){var e=this.localeData()._week;return qe(this.weekYear(),e.dow,e.doy)},Nn.isoWeeksInYear=function(){return qe(this.year(),1,4)},Nn.isoWeeksInISOWeekYear=function(){return qe(this.isoWeekYear(),1,4)},Nn.date=yn,Nn.day=Nn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},Nn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},Nn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},Nn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},Nn.hour=Nn.hours=at,Nn.minute=Nn.minutes=_n,Nn.second=Nn.seconds=bn,Nn.millisecond=Nn.milliseconds=En,Nn.utcOffset=function(e,t,n){var a,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=Gt(de,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(a=zt(this)),this._offset=e,this._isUTC=!0,null!=a&&this.add(a,"m"),i!==e&&(!t||this._changeInProgress?$t(this,Kt(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:zt(this)},Nn.utc=function(e){return this.utcOffset(0,e)},Nn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(zt(this),"m")),this},Nn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=Gt(ce,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},Nn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?It(e).utcOffset():0,(this.utcOffset()-e)%60===0)},Nn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Nn.isLocal=function(){return!!this.isValid()&&!this._isUTC},Nn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Nn.isUtc=Vt,Nn.isUTC=Vt,Nn.zoneAbbr=function(){return this._isUTC?"UTC":""},Nn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Nn.dates=N("dates accessor is deprecated. Use date instead.",yn),Nn.months=N("months accessor is deprecated. Use month instead",xe),Nn.years=N("years accessor is deprecated. Use year instead",He),Nn.zone=N("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),Nn.isDSTShifted=N("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!l(this._isDSTShifted))return this._isDSTShifted;var e,t={};return v(t,this),(t=At(t))._a?(e=t._isUTC?h(t._a):It(t._a),this._isDSTShifted=this.isValid()&&function(e,t,n){var r,a=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),s=0;for(r=0;r<a;r++)(n&&e[r]!==t[r]||!n&&Y(e[r])!==Y(t[r]))&&s++;return s+i}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted});var Tn=A.prototype;function On(e,t,n,r){var a=ht(),i=h().set(r,t);return a[n](i,e)}function wn(e,t,n){if(u(e)&&(t=e,e=void 0),e=e||"",null!=t)return On(e,t,n,"month");var r,a=[];for(r=0;r<12;r++)a[r]=On(e,r,n,"month");return a}function kn(e,t,n,r){"boolean"===typeof e?(u(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,u(t)&&(n=t,t=void 0),t=t||"");var a,i=ht(),s=e?i._week.dow:0,o=[];if(null!=n)return On(t,(n+s)%7,r,"day");for(a=0;a<7;a++)o[a]=On(t,(a+s)%7,r,"day");return o}Tn.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return w(r)?r.call(t,n):r},Tn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(I).map(function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e}).join(""),this._longDateFormat[e])},Tn.invalidDate=function(){return this._invalidDate},Tn.ordinal=function(e){return this._ordinal.replace("%d",e)},Tn.preparse=Sn,Tn.postformat=Sn,Tn.relativeTime=function(e,t,n,r){var a=this._relativeTime[n];return w(a)?a(e,t,n,r):a.replace(/%d/i,e)},Tn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return w(n)?n(t):n.replace(/%s/i,t)},Tn.set=function(e){var t,n;for(n in e)s(e,n)&&(w(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Tn.eras=function(e,t){var n,a,i,s=this._eras||ht("en")._eras;for(n=0,a=s.length;n<a;++n){switch(typeof s[n].since){case"string":i=r(s[n].since).startOf("day"),s[n].since=i.valueOf()}switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":i=r(s[n].until).startOf("day").valueOf(),s[n].until=i.valueOf()}}return s},Tn.erasParse=function(e,t,n){var r,a,i,s,o,l=this.eras();for(e=e.toUpperCase(),r=0,a=l.length;r<a;++r)if(i=l[r].name.toUpperCase(),s=l[r].abbr.toUpperCase(),o=l[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(s===e)return l[r];break;case"NNNN":if(i===e)return l[r];break;case"NNNNN":if(o===e)return l[r]}else if([i,s,o].indexOf(e)>=0)return l[r]},Tn.erasConvertYear=function(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n},Tn.erasAbbrRegex=function(e){return s(this,"_erasAbbrRegex")||pn.call(this),e?this._erasAbbrRegex:this._erasRegex},Tn.erasNameRegex=function(e){return s(this,"_erasNameRegex")||pn.call(this),e?this._erasNameRegex:this._erasRegex},Tn.erasNarrowRegex=function(e){return s(this,"_erasNarrowRegex")||pn.call(this),e?this._erasNarrowRegex:this._erasRegex},Tn.months=function(e,t){return e?a(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Pe).test(t)?"format":"standalone"][e.month()]:a(this._months)?this._months:this._months.standalone},Tn.monthsShort=function(e,t){return e?a(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Pe.test(t)?"format":"standalone"][e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Tn.monthsParse=function(e,t,n){var r,a,i;if(this._monthsParseExact)return function(e,t,n){var r,a,i,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=h([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(a=Ee.call(this._shortMonthsParse,s))?a:null:-1!==(a=Ee.call(this._longMonthsParse,s))?a:null:"MMM"===t?-1!==(a=Ee.call(this._shortMonthsParse,s))?a:-1!==(a=Ee.call(this._longMonthsParse,s))?a:null:-1!==(a=Ee.call(this._longMonthsParse,s))?a:-1!==(a=Ee.call(this._shortMonthsParse,s))?a:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(a=h([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(i="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},Tn.monthsRegex=function(e){return this._monthsParseExact?(s(this,"_monthsRegex")||Fe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=Le),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},Tn.monthsShortRegex=function(e){return this._monthsParseExact?(s(this,"_monthsRegex")||Fe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=Ue),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},Tn.week=function(e){return Ve(e,this._week.dow,this._week.doy).week},Tn.firstDayOfYear=function(){return this._week.doy},Tn.firstDayOfWeek=function(){return this._week.dow},Tn.weekdays=function(e,t){var n=a(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ye(n,this._week.dow):e?n[e.day()]:n},Tn.weekdaysMin=function(e){return!0===e?Ye(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},Tn.weekdaysShort=function(e){return!0===e?Ye(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},Tn.weekdaysParse=function(e,t,n){var r,a,i;if(this._weekdaysParseExact)return function(e,t,n){var r,a,i,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=h([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(a=Ee.call(this._weekdaysParse,s))?a:null:"ddd"===t?-1!==(a=Ee.call(this._shortWeekdaysParse,s))?a:null:-1!==(a=Ee.call(this._minWeekdaysParse,s))?a:null:"dddd"===t?-1!==(a=Ee.call(this._weekdaysParse,s))?a:-1!==(a=Ee.call(this._shortWeekdaysParse,s))?a:-1!==(a=Ee.call(this._minWeekdaysParse,s))?a:null:"ddd"===t?-1!==(a=Ee.call(this._shortWeekdaysParse,s))?a:-1!==(a=Ee.call(this._weekdaysParse,s))?a:-1!==(a=Ee.call(this._minWeekdaysParse,s))?a:null:-1!==(a=Ee.call(this._minWeekdaysParse,s))?a:-1!==(a=Ee.call(this._weekdaysParse,s))?a:-1!==(a=Ee.call(this._shortWeekdaysParse,s))?a:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(a=h([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},Tn.weekdaysRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Ze.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=Je),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},Tn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Ze.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=$e),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Tn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Ze.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Xe),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Tn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},Tn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},dt("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===Y(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),r.lang=N("moment.lang is deprecated. Use moment.locale instead.",dt),r.langData=N("moment.langData is deprecated. Use moment.localeData instead.",ht);var An=Math.abs;function Rn(e,t,n,r){var a=Kt(t,n);return e._milliseconds+=r*a._milliseconds,e._days+=r*a._days,e._months+=r*a._months,e._bubble()}function In(e){return e<0?Math.floor(e):Math.ceil(e)}function Mn(e){return 4800*e/146097}function Pn(e){return 146097*e/4800}function Un(e){return function(){return this.as(e)}}var Ln=Un("ms"),Dn=Un("s"),xn=Un("m"),Fn=Un("h"),jn=Un("d"),Hn=Un("w"),Gn=Un("M"),Bn=Un("Q"),zn=Un("y");function Vn(e){return function(){return this.isValid()?this._data[e]:NaN}}var qn=Vn("milliseconds"),Yn=Vn("seconds"),Kn=Vn("minutes"),Wn=Vn("hours"),Qn=Vn("days"),Jn=Vn("months"),$n=Vn("years"),Xn=Math.round,Zn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11},er=Math.abs;function tr(e){return(e>0)-(e<0)||+e}function nr(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,a,i,s,o,l=er(this._milliseconds)/1e3,u=er(this._days),c=er(this._months),d=this.asSeconds();return d?(e=q(l/60),t=q(e/60),l%=60,e%=60,n=q(c/12),c%=12,r=l?l.toFixed(3).replace(/\.?0+$/,""):"",a=d<0?"-":"",i=tr(this._months)!==tr(d)?"-":"",s=tr(this._days)!==tr(d)?"-":"",o=tr(this._milliseconds)!==tr(d)?"-":"",a+"P"+(n?i+n+"Y":"")+(c?i+c+"M":"")+(u?s+u+"D":"")+(t||e||l?"T":"")+(t?o+t+"H":"")+(e?o+e+"M":"")+(l?o+r+"S":"")):"P0D"}var rr=Dt.prototype;return rr.isValid=function(){return this._isValid},rr.abs=function(){var e=this._data;return this._milliseconds=An(this._milliseconds),this._days=An(this._days),this._months=An(this._months),e.milliseconds=An(e.milliseconds),e.seconds=An(e.seconds),e.minutes=An(e.minutes),e.hours=An(e.hours),e.months=An(e.months),e.years=An(e.years),this},rr.add=function(e,t){return Rn(this,e,t,1)},rr.subtract=function(e,t){return Rn(this,e,t,-1)},rr.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=H(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Mn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Pn(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},rr.asMilliseconds=Ln,rr.asSeconds=Dn,rr.asMinutes=xn,rr.asHours=Fn,rr.asDays=jn,rr.asWeeks=Hn,rr.asMonths=Gn,rr.asQuarters=Bn,rr.asYears=zn,rr.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*Y(this._months/12):NaN},rr._bubble=function(){var e,t,n,r,a,i=this._milliseconds,s=this._days,o=this._months,l=this._data;return i>=0&&s>=0&&o>=0||i<=0&&s<=0&&o<=0||(i+=864e5*In(Pn(o)+s),s=0,o=0),l.milliseconds=i%1e3,e=q(i/1e3),l.seconds=e%60,t=q(e/60),l.minutes=t%60,n=q(t/60),l.hours=n%24,s+=q(n/24),a=q(Mn(s)),o+=a,s-=In(Pn(a)),r=q(o/12),o%=12,l.days=s,l.months=o,l.years=r,this},rr.clone=function(){return Kt(this)},rr.get=function(e){return e=H(e),this.isValid()?this[e+"s"]():NaN},rr.milliseconds=qn,rr.seconds=Yn,rr.minutes=Kn,rr.hours=Wn,rr.days=Qn,rr.weeks=function(){return q(this.days()/7)},rr.months=Jn,rr.years=$n,rr.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,a=!1,i=Zn;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(a=e),"object"===typeof t&&(i=Object.assign({},Zn,t),null!=t.s&&null==t.ss&&(i.ss=t.s-1)),n=this.localeData(),r=function(e,t,n,r){var a=Kt(e).abs(),i=Xn(a.as("s")),s=Xn(a.as("m")),o=Xn(a.as("h")),l=Xn(a.as("d")),u=Xn(a.as("M")),c=Xn(a.as("w")),d=Xn(a.as("y")),f=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||s<=1&&["m"]||s<n.m&&["mm",s]||o<=1&&["h"]||o<n.h&&["hh",o]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(f=f||c<=1&&["w"]||c<n.w&&["ww",c]),(f=f||u<=1&&["M"]||u<n.M&&["MM",u]||d<=1&&["y"]||["yy",d])[2]=t,f[3]=+e>0,f[4]=r,function(e,t,n,r,a){return a.relativeTime(t||1,!!n,e,r)}.apply(null,f)}(this,!a,i,n),a&&(r=n.pastFuture(+this,r)),n.postformat(r)},rr.toISOString=nr,rr.toString=nr,rr.toJSON=nr,rr.locale=nn,rr.localeData=an,rr.toIsoString=N("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",nr),rr.lang=rn,L("X",0,0,"unix"),L("x",0,0,"valueOf"),he("x",ue),he("X",/[+-]?\d+(\.\d{1,3})?/),ye("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e))}),ye("x",function(e,t,n){n._d=new Date(Y(e))}),r.version="2.25.3",t=It,r.fn=Nn,r.min=function(){return Ut("isBefore",[].slice.call(arguments,0))},r.max=function(){return Ut("isAfter",[].slice.call(arguments,0))},r.now=function(){return Date.now?Date.now():+new Date},r.utc=h,r.unix=function(e){return It(1e3*e)},r.months=function(e,t){return wn(e,t,"months")},r.isDate=c,r.locale=dt,r.invalid=g,r.duration=Kt,r.isMoment=b,r.weekdays=function(e,t,n){return kn(e,t,n,"weekdays")},r.parseZone=function(){return It.apply(null,arguments).parseZone()},r.localeData=ht,r.isDuration=xt,r.monthsShort=function(e,t){return wn(e,t,"monthsShort")},r.weekdaysMin=function(e,t,n){return kn(e,t,n,"weekdaysMin")},r.defineLocale=ft,r.updateLocale=function(e,t){if(null!=t){var n,r,a=it;null!=st[e]&&null!=st[e].parentLocale?st[e].set(k(st[e]._config,t)):(null!=(r=ct(e))&&(a=r._config),t=k(a,t),null==r&&(t.abbr=e),(n=new A(t)).parentLocale=st[e],st[e]=n),dt(e)}else null!=st[e]&&(null!=st[e].parentLocale?(st[e]=st[e].parentLocale,e===dt()&&dt(e)):null!=st[e]&&delete st[e]);return st[e]},r.locales=function(){return S(st)},r.weekdaysShort=function(e,t,n){return kn(e,t,n,"weekdaysShort")},r.normalizeUnits=H,r.relativeTimeRounding=function(e){return void 0===e?Xn:"function"===typeof e&&(Xn=e,!0)},r.relativeTimeThreshold=function(e,t){return void 0!==Zn[e]&&(void 0===t?Zn[e]:(Zn[e]=t,"s"===e&&(Zn.ss=t-1),!0))},r.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},r.prototype=Nn,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()}).call(this,n(85)(e))},function(e,t,n){"use strict";n.d(t,"a",function(){return Io}),n.d(t,"b",function(){return di}),n.d(t,"c",function(){return ll}),n.d(t,"d",function(){return W}),n.d(t,"e",function(){return Ko}),n.d(t,"f",function(){return O});var r=n(0),a=n.n(r),i=n(1),s=n.n(i),o=n(46),l=n.n(o),u=n(13),c=n.n(u),d=n(28);function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){m(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?b(e):t}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){a=!0,i=l}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function S(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var T=a.a.createContext(),O=function(e,t){var n=function(n){return a.a.createElement(T.Consumer,null,function(r){t&&"function"!==typeof t&&console.warn("Second parameter to withSendbirdContext must be a pure function");var i=y({},t&&"function"===typeof t?t(r):r,{},n);return a.a.createElement(e,i)})},r=e.displayName||e.name||"Component";return n.displayName="SendbirdAware".concat(r),n},w="INIT_SDK",k="SET_SDK_LOADING",A="RESET_SDK",R="SDK_ERROR",I="INIT_USER",M="RESET_USER",P="UPDATE_USER_INFO",U=function(e,t){var n=e.userId,r=e.appId,a=e.nickname,i=e.profileUrl,s=e.accessToken,o=e.sdk,u=e.logger,c=t.sdkDispatcher,d=t.userDispatcher;!function(e){var t=e.sdkDispatcher,n=e.userDispatcher,r=e.sdk,a=e.onDisconnect;t({type:k,payload:!0}),r&&r.disconnect?r.disconnect().then(function(){t({type:A}),n({type:M})}).finally(function(){a()}):a()}({sdkDispatcher:c,userDispatcher:d,sdk:o,logger:u,onDisconnect:function(){if(u.info("Setup connection"),c({type:k,payload:!0}),n&&r){var e=new l.a({appId:r});e.addExtension("sb_uikit","1.2.1");var t=function(t){c({type:w,payload:e}),d({type:I,payload:t});var n=a||t.nickname,r=i||t.profileUrl;e.updateCurrentUserInfo(n,r).then(function(e){d({type:P,payload:e})})},o=function(e){u.error("Connection failed","".concat(e)),c({type:A}),c({type:M}),c({type:R})};s?e.connect(n,s).then(function(e){return t(e)}).catch(function(e){return o(e)}):e.connect(n).then(function(e){return t(e)}).catch(function(e){return o(e)})}else c({type:R}),u.warning("Connection failed","UserId or appId missing")}})},L={initialized:!1,loading:!1,sdk:{},error:!1};function D(e,t){switch(t.type){case k:return y({},e,{initialized:!1,loading:t.payload});case R:return y({},e,{initialized:!1,loading:!1,error:!0});case w:return{sdk:t.payload,initialized:!0,loading:!1,error:!1};case A:return L;default:return e}}var x={initialized:!1,loading:!1,user:{}};function F(e,t){switch(t.type){case I:return{initialized:!0,loading:!1,user:t.payload};case M:return x;case P:return y({},e,{user:t.payload});default:return e}}var j=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})};var H="debug",G="warning",B="error",z="info",V="all",q=function(e){var t=e.level,n=e.title,r=e.description,a=void 0===r?"":r;console.log("%c SendbirdUIKit | ".concat(t," | ").concat((new Date).toISOString()," | ").concat(n," ").concat(a&&"|"),function(e){switch(e){case G:return"color: Orange";case B:return"color: Red";default:return"color: Gray"}}(t),a)},Y=function(e,t){var n=t||q,r=Array.isArray(e)?e:[e],a=function(e){return function(t,r){return n({level:e,title:t,description:r})}};return r.reduce(function(e,t){return t===H||t===V?y({},e,{info:a(z),error:a(B),warning:a(G)}):t===z?y({},e,{info:a(z)}):t===B?y({},e,{error:a(B)}):t===G?y({},e,{warning:a(G)}):y({},e)},{info:function(){},error:function(){},warning:function(){}})},K=function(){var e={},t=e.hasOwnProperty;return{__getTopics:function(){return e},subscribe:function(n,r){t.call(e,n)||(e[n]=[]);var a=e[n].push(r)-1;return{remove:function(){delete e[n][a]}}},publish:function(n,r){t.call(e,n)&&e[n].forEach(function(e){e(void 0!==r?r:{})})}}};function W(e){var t=e.userId,n=e.appId,i=e.accessToken,s=e.children,o=e.theme,l=e.nickname,u=e.profileUrl,c=e.userListQuery,d=e.config,f=(void 0===d?{}:d).logLevel,h=void 0===f?"":f,p=N(Object(r.useState)(Y(h)),2),m=p[0],g=p[1],y=N(Object(r.useState)(),2),_=y[0],v=y[1],E=N(Object(r.useReducer)(D,L),2),b=E[0],C=E[1],S=N(Object(r.useReducer)(F,x),2),O=S[0],w=S[1];Object(r.useEffect)(function(){v(K())},[]),Object(r.useEffect)(function(){m.info("App Init"),U({userId:t,appId:n,accessToken:i,sdkStore:b,nickname:l,profileUrl:u,sdk:b.sdk,logger:m},{sdkDispatcher:C,userDispatcher:w})},[t,n,i]),Object(r.useEffect)(function(){g(Y(h))},[h]),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;Object(r.useEffect)(function(){var n=document.querySelector(t);return e.forEach(function(e){var t=document.createElement("div");t.setAttribute("id",e),n.appendChild(t)}),function(){e.forEach(function(e){var t=document.getElementById(e);t&&n.removeChild(t)})}},[])}(["sendbird-modal-root","sendbird-dropdown-portal","sendbird-emoji-list-portal"],"body"),Object(r.useEffect)(function(){m.info("Setup theme","Theme: ".concat(o));try{document.querySelector("body").classList.add("sendbird-theme--".concat(o||"light")),m.info("Finish setup theme")}catch(e){m.warning("Setup theme failed","".concat(e))}return function(){try{var e=document.querySelector("body");e.classList.remove("sendbird-theme--light"),e.classList.remove("sendbird-theme--dark")}catch(t){}}},[o]);var k=function(e,t){var n=N(Object(r.useState)(!0),2),a=n[0],i=n[1];return Object(r.useEffect)(function(){var n,r=j();return t.warning("sdk changed",r),e&&e.ConnectionHandler&&((n=new e.ConnectionHandler).onReconnectStarted=function(){i(!1),t.warning("onReconnectStarted",{isOnline:a})},n.onReconnectSucceeded=function(){i(!0),t.warning("onReconnectSucceeded",{isOnline:a})},n.onReconnectFailed=function(){e.reconnect(),t.warning("onReconnectFailed")},t.info("Added ConnectionHandler",r),e.addConnectionHandler(r,n)),function(){try{e.removeConnectionHandler(r),t.info("Removed ConnectionHandler",r)}catch(n){}}},[e]),Object(r.useEffect)(function(){var n=function(){try{t.warning("Try reconnecting SDK"),"OPEN"!==e.getConnectionState()&&e.reconnect()}catch(n){}};return window.addEventListener("online",n),function(){window.removeEventListener("online",n)}},[e]),Object(r.useEffect)(function(){var e=document.querySelector("body");if(a)try{e.classList.remove("sendbird__offline"),t.info("Removed class sendbird__offline from body")}catch(n){}else try{e.classList.add("sendbird__offline"),t.info("Added class sendbird__offline to body")}catch(n){}},[a]),a}(b.sdk,m);return a.a.createElement(T.Provider,{value:{stores:{sdkStore:b,userStore:O},dispatchers:{sdkDispatcher:C,userDispatcher:w,reconnect:function(){U({userId:t,appId:n,accessToken:i,sdkStore:b,nickname:l,profileUrl:u,logger:m,sdk:b.sdk},{sdkDispatcher:C,userDispatcher:w})}},config:{isOnline:k,userId:t,appId:n,accessToken:i,theme:o,userListQuery:c,logger:m,pubSub:_}}},s)}W.propTypes={userId:s.a.string.isRequired,appId:s.a.string.isRequired,accessToken:s.a.string,children:s.a.oneOfType([s.a.element,s.a.arrayOf(s.a.element),s.a.any]).isRequired,theme:s.a.string,nickname:s.a.string,profileUrl:s.a.string,userListQuery:s.a.func,config:s.a.shape({logLevel:s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string)]),pubSub:s.a.shape({subscribe:s.a.func,publish:s.a.func})})},W.defaultProps={accessToken:"",theme:"light",nickname:"",profileUrl:"",userListQuery:null,config:{}};var Q="RESET_CHANNEL_LIST",J="CREATE_CHANNEL",$="LEAVE_CHANNEL_SUCCESS",X="SET_CURRENT_CHANNEL",Z="SHOW_CHANNEL_SETTINGS",ee="HIDE_CHANNEL_SETTINGS",te="FETCH_CHANNELS_START",ne="FETCH_CHANNELS_SUCCESS",re="FETCH_CHANNELS_FAILURE",ae="INIT_CHANNELS_START",ie="INIT_CHANNELS_SUCCESS",se="INIT_CHANNELS_FAILURE",oe="ON_USER_JOINED",le="ON_CHANNEL_DELETED",ue="ON_LAST_MESSAGE_UPDATED",ce="ON_USER_LEFT",de="ON_CHANNEL_CHANGED",fe="ON_CHANNEL_ARCHIVED",he="ON_CHANNEL_FROZEN",pe="ON_CHANNEL_UNFROZEN",me="ON_READ_RECEIPT_UPDATED",ge="ON_DELIVERY_RECEIPT_UPDATED",ye="CHANNEL_REPLACED_TO_TOP",_e={initialized:!1,loading:!1,allChannels:[],currentChannel:null,showSettings:!1};function ve(e,t){switch(t.type){case ae:return y({},e,{loading:!0});case Q:return _e;case ie:return y({},e,{initialized:!0,loading:!1,allChannels:t.payload,currentChannel:t.payload&&t.payload.length&&t.payload.length>0?t.payload[0].url:null});case ne:var n=e.allChannels.map(function(e){return e.url}),r=t.payload.filter(function(e){var t=e.url;return!n.find(function(e){return e===t})});return y({},e,{allChannels:[].concat(S(e.allChannels),S(r))});case J:return y({},e,{allChannels:[t.payload].concat(S(e.allChannels.filter(function(e){return e.url!==t.payload.url}))),currentChannel:t.payload.url});case fe:case $:case le:var a=t.payload,i=e.currentChannel===a,s=e.allChannels.filter(function(e){return e.url!==a});return y({},e,{currentChannel:i?s.length>0?s[0].url:"":e.currentChannel,allChannels:s});case ce:var o=t.payload,l=o.channel,u=o.isMe,c=l.url;if(u){var d=c===e.currentChannel,f=e.allChannels.filter(function(e){return e.url!==c});return y({},e,{currentChannel:d?f.length>0?f[0].url:"":e.currentChannel,allChannels:f})}var h=e.allChannels.map(function(e){return e.url===c?l:e});return y({},e,{allChannels:h});case oe:case de:case me:case ge:var p=e.allChannels,m=void 0===p?[]:p,g=t.payload.unreadMessageCount,_=t.payload;if(!_.lastMessage)return e;if(0===g){var v=m.find(function(e){return e.url===_.url});if(0===(v&&v.unreadMessageCount))return y({},e,{allChannels:m.map(function(e){return e.url===_.url?_:e})})}return y({},e,{allChannels:[t.payload].concat(S(e.allChannels.filter(function(e){return e.url!==t.payload.url})))});case X:return y({},e,{currentChannel:t.payload});case Z:return y({},e,{showSettings:!0});case ee:return y({},e,{showSettings:!1});case ue:return y({},e,{allChannels:e.allChannels.map(function(e){return e.url===t.payload.url?t.payload:e})});case he:return y({},e,{allChannels:e.allChannels.map(function(e){return e.url===t.payload.url?(e.isFrozen=!0,e):e})});case pe:return y({},e,{allChannels:e.allChannels.map(function(e){return e.url===t.payload.url?(e.isFrozen=!1,e):e})});case ye:return y({},e,{allChannels:[t.payload].concat(S(e.allChannels.filter(function(e){return e.url!==t.payload.url})))});default:return e}}function Ee(e){var t=e.alt,n=e.url,i=e.width,s=e.height,o=e.className,l=e.defaultComponent,u=e.circle,c=Array.isArray(o)?o:[o];c.unshift("sendbird-image-renderer");var d=N(Object(r.useState)(null),2),f=d[0],h=d[1];return Object(r.useEffect)(function(){h(null)},[n]),f||a.a.createElement("img",{className:"sendbird-image-renderer--hidden-placeholder",src:n,alt:t,onError:function(){h("function"===typeof l?l():l)},onLoad:function(){h(a.a.createElement("div",{className:c.join(" "),style:{height:s,width:i,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover",backgroundImage:"url(".concat(n,")"),borderRadius:u?"50%":null}}))}})}function be(){return(be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}Ee.propTypes={alt:s.a.string,url:s.a.string.isRequired,width:s.a.oneOfType([s.a.string,s.a.number]).isRequired,height:s.a.oneOfType([s.a.string,s.a.number]).isRequired,className:s.a.oneOfType([s.a.arrayOf(s.a.string),s.a.string]),defaultComponent:s.a.oneOfType([s.a.element,s.a.func]).isRequired,circle:s.a.bool},Ee.defaultProps={alt:"",className:"",circle:!1};var Ce=a.a.createElement("path",{fill:"#A8A8A8",d:"M0 0h56v56H0z"}),Ne=a.a.createElement("path",{fill:"#FFF",fillOpacity:.88,d:"M34.667 31.333a8.334 8.334 0 018.325 7.972l.008.362V43a1.667 1.667 0 01-3.322.194L39.667 43v-3.333a5 5 0 00-4.707-4.992l-.293-.008H21.333a5 5 0 00-4.991 4.706l-.009.294V43a1.667 1.667 0 01-3.322.194L13 43v-3.333a8.333 8.333 0 017.972-8.326l.361-.008h13.334zm-6.667-20A8.333 8.333 0 1128 28a8.333 8.333 0 010-16.667zm0 3.334a5 5 0 100 10 5 5 0 000-10z"});function Se(e){return a.a.createElement("svg",be({viewBox:"0 0 56 56"},e),Ce,Ne)}function Te(){return(Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Oe=a.a.createElement("path",{fill:"#393939",d:"M0 0h56v56H0z"}),we=a.a.createElement("path",{fillOpacity:.88,d:"M34.667 31.333a8.334 8.334 0 018.325 7.972l.008.362V43a1.667 1.667 0 01-3.322.194L39.667 43v-3.333a5 5 0 00-4.707-4.992l-.293-.008H21.333a5 5 0 00-4.991 4.706l-.009.294V43a1.667 1.667 0 01-3.322.194L13 43v-3.333a8.333 8.333 0 017.972-8.326l.361-.008h13.334zm-6.667-20A8.333 8.333 0 1128 28a8.333 8.333 0 010-16.667zm0 3.334a5 5 0 100 10 5 5 0 000-10z"});function ke(e){return a.a.createElement("svg",Te({viewBox:"0 0 56 56"},e),Oe,we)}var Ae=function(e){var t=e.width,n=e.height;return function(){return document.querySelector(".sendbird-theme--dark")?a.a.createElement(ke,{className:"sendbird-avatar-img",style:{height:n,width:t}}):a.a.createElement(Se,{className:"sendbird-avatar-img",style:{height:n,width:t}})}},Re=function(e){var t=e.src,n=e.height,r=e.width,i=e.alt;return"string"===typeof t?a.a.createElement(Ee,{className:"sendbird-avatar-img",url:t,height:n,width:r,alt:i,defaultComponent:Ae({height:n,width:r})}):t&&t.length?1===t.length?a.a.createElement(Ee,{className:"sendbird-avatar-img",url:t[0],height:n,width:r,alt:i,defaultComponent:Ae({height:n,width:r})}):2===t.length?a.a.createElement("div",{className:"sendbird-avatar--inner__two-child"},a.a.createElement(Ee,{className:"sendbird-avatar-img",url:t[0],height:n,width:r,alt:i,defaultComponent:Ae({height:n,width:r})}),a.a.createElement(Ee,{className:"sendbird-avatar-img",url:t[1],height:n,width:r,alt:i,defaultComponent:Ae({height:n,width:r})})):3===t.length?a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"sendbird-avatar--inner__three-child--upper"},a.a.createElement(Ee,{className:"sendbird-avatar-img",url:t[0],height:n,width:r,alt:i,defaultComponent:Ae({height:n,width:r})})),a.a.createElement("div",{className:"sendbird-avatar--inner__three-child--lower"},a.a.createElement(Ee,{className:"sendbird-avatar-img",url:t[1],height:n,width:r,alt:i,defaultComponent:Ae({height:n,width:r})}),a.a.createElement(Ee,{className:"sendbird-avatar-img",url:t[2],height:n,width:r,alt:i,defaultComponent:Ae({height:n,width:r})}))):a.a.createElement("div",{className:"sendbird-avatar--inner__four-child"},t.slice(0,4).map(function(e){return a.a.createElement(Ee,{className:"sendbird-avatar-img",url:e,height:n,width:r,alt:i,key:j(),defaultComponent:Ae({height:n,width:r})})})):a.a.createElement(Ee,{className:"sendbird-avatar-img",url:"",height:n,width:r,alt:i,defaultComponent:Ae({height:n,width:r})})};function Ie(e){var t=e.src,n=e.height,r=e.width,i=e.alt,s=e.className,o=Array.isArray(s)?s:[s];return a.a.createElement("div",{className:[].concat(S(o),["sendbird-avatar"]).join(" "),style:{height:n,width:r}},a.a.createElement(Re,{src:t,height:n,width:r,alt:i}))}Re.propTypes={src:s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string)]),height:s.a.oneOfType([s.a.string,s.a.number]).isRequired,width:s.a.oneOfType([s.a.string,s.a.number]).isRequired,alt:s.a.string.isRequired},Re.defaultProps={src:""},Ie.propTypes={src:s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string)]),height:s.a.oneOfType([s.a.string,s.a.number]),width:s.a.oneOfType([s.a.string,s.a.number]),alt:s.a.string,className:s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string)])},Ie.defaultProps={height:"56px",width:"56px",alt:"",src:"",className:""};var Me={ADD:"ADD",ATTACH:"ATTACH",ARROW_LEFT:"ARROW_LEFT",AVATAR_DARK:"AVATAR_DARK",AVATAR_LIGHT:"AVATAR_LIGHT",BROADCAST_LARGE_DARK:"BROADCAST_LARGE_DARK",BROADCAST_LARGE_LIGHT:"BROADCAST_LARGE_LIGHT",BROADCAST_DARK:"BROADCAST_DARK",BROADCAST_LIGHT:"BROADCAST_LIGHT",BROADCAST:"BROADCAST",FROZEN_DARK:"FROZEN_DARK",FROZEN_LIGHT:"FROZEN_LIGHT",CAMERA:"CAMERA",MORE:"MORE",MUTE:"MUTE",NO_THUMBNAIL:"NO_THUMBNAIL",CHECKBOX:"CHECKBOX",CHECKBOX_OFF:"CHECKBOX_OFF",CLOSE:"CLOSE",COPY:"COPY",CHAT:"CHAT",CREATE:"CREATE",DELETE:"DELETE",DISCONNECTED:"DISCONNECTED",DUMMY:"DUMMY",EDIT:"EDIT",ERROR:"ERROR",ERROR_FILLED:"ERROR_FILLED",EMOJI_FAILED:"EMOJI_FAILED",EMOJI_REACTIONS_ADD:"EMOJI_REACTIONS_ADD",EMOJI_REACTIONS_ADD_GRAY:"EMOJI_REACTIONS_ADD_GRAY",DELIVERED:"DELIVERED",DOCUMENT:"DOCUMENT",DOWNLOAD:"DOWNLOAD",FILE_AUDIO:"FILE_AUDIO",FILE_DOCUMENT:"FILE_DOCUMENT",GIF:"GIF",INFO:"INFO",LEAVE:"LEAVE",MEMBERS:"MEMBERS",NOTIFICATIONS:"NOTIFICATIONS",PHOTO:"PHOTO",PLAY:"PLAY",PLUS:"PLUS",READ:"READ",REFRESH:"REFRESH",SEND:"SEND",SENT:"SENT",SUPER_GROUP:"SUPER_GROUP",SHEVRON:"SHEVRON",SHEVRON_DOWN:"SHEVRON_DOWN",SPINNER:"SPINNER",SPINNER_LARGE:"SPINNER_LARGE",USER:"USER",ICON_OPERATOR:"ICON_OPERATOR",ICON_BANNED:"ICON_BANNED",ICON_FREEZE:"ICON_FREEZE",ICON_MUTED:"ICON_MUTED",ICON_MUTED_FG:"ICON_MUTED_FG",TOGGLE_ON:"TOGGLE_ON",TOGGLE_OFF:"TOGGLE_OFF"};function Pe(){return(Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ue=a.a.createElement("path",{className:"icon-add_svg__fill",fill:"#7B53EF",fillRule:"evenodd",d:"M19 2a3 3 0 013 3v14a3 3 0 01-3 3H5a3 3 0 01-3-3V5a3 3 0 013-3zm0 2H5a1 1 0 00-1 1v14a1 1 0 001 1h14a1 1 0 001-1V5a1 1 0 00-1-1zm-7 3a1 1 0 01.993.883L13 8v3h3a1 1 0 01.117 1.993L16 13h-3v3a1 1 0 01-1.993.117L11 16v-3H8a1 1 0 01-.117-1.993L8 11h3V8a1 1 0 011-1z"});function Le(e){return a.a.createElement("svg",Pe({viewBox:"0 0 24 24"},e),Ue)}function De(){return(De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var xe=a.a.createElement("path",{className:"icon-attach_svg__fill",fillOpacity:.88,fillRule:"evenodd",d:"M19.021 9.943l-8.424 8.023c-1.795 1.71-4.723 1.71-6.518 0-1.77-1.685-1.77-4.398 0-6.084l8.424-8.023c1.079-1.027 2.845-1.027 3.924 0a2.461 2.461 0 010 3.614l-8.433 8.022a.984.984 0 01-1.33 0 .772.772 0 010-1.142l7.782-7.403a.917.917 0 00-1.264-1.328L5.4 13.025a2.605 2.605 0 000 3.798 2.816 2.816 0 003.858 0l8.433-8.022a4.294 4.294 0 000-6.27C15.905.83 13.025.83 11.24 2.531l-8.425 8.023c-2.528 2.408-2.528 6.332 0 8.74 2.504 2.384 6.544 2.384 9.047 0l8.425-8.023a.917.917 0 10-1.265-1.328z"});function Fe(e){return a.a.createElement("svg",De({viewBox:"0 0 22 22"},e),xe)}function je(){return(je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var He=a.a.createElement("path",{className:"icon-arrow-left_svg__fill",fill:"#7B53EF",fillRule:"evenodd",d:"M12.707 3.293a1 1 0 01.083 1.32l-.083.094L6.415 11H21a1 1 0 01.117 1.993L21 13H6.415l6.292 6.293a1 1 0 01.083 1.32l-.083.094a1 1 0 01-1.32.083l-.094-.083-8-8a1 1 0 01-.083-1.32l.083-.094 8-8a1 1 0 011.414 0z"});function Ge(e){return a.a.createElement("svg",je({viewBox:"0 0 24 24"},e),He)}function Be(){return(Be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ze=a.a.createElement("g",{className:"icon-broadcast-lrg-dark_svg__fill",fill:"none",fillRule:"evenodd"},a.a.createElement("circle",{cx:28,cy:28,r:28,fill:"#6FD6BE"}),a.a.createElement("path",{fill:"#000",fillOpacity:.88,d:"M41.273 16.083c.04.128.06.262.06.397v23.04a1.333 1.333 0 01-1.731 1.273l-8.975-2.805A5.335 5.335 0 0120 37.333v-2.666h-2.667a4 4 0 01-3.995-3.8l-.005-.2v-5.334a4 4 0 014-4H20l19.602-6.125a1.332 1.332 0 011.67.875zM22.667 35.627v1.706a2.667 2.667 0 005.326.199l.007-.239-5.333-1.666zm16-17.334l-16 4.999v9.415l16 4.998V18.293zM20 24h-2.667c-.683 0-1.247.515-1.324 1.178l-.009.155v5.334c0 .736.597 1.333 1.333 1.333H20v-8z"}));function Ve(e){return a.a.createElement("svg",Be({viewBox:"0 0 56 56"},e),ze)}function qe(){return(qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ye=a.a.createElement("g",{className:"icon-broadcast-lrg-light_svg__fill",fill:"none",fillRule:"evenodd"},a.a.createElement("circle",{cx:28,cy:28,r:28,fill:"#2EBA9F"}),a.a.createElement("path",{fill:"#FFF",fillOpacity:.88,d:"M41.273 16.083c.04.128.06.262.06.397v23.04a1.333 1.333 0 01-1.731 1.273l-8.975-2.805A5.335 5.335 0 0120 37.333v-2.666h-2.667a4 4 0 01-3.995-3.8l-.005-.2v-5.334a4 4 0 014-4H20l19.602-6.125a1.332 1.332 0 011.67.875zM22.667 35.627v1.706a2.667 2.667 0 005.326.199l.007-.239-5.333-1.666zm16-17.334l-16 4.999v9.415l16 4.998V18.293zM20 24h-2.667c-.683 0-1.247.515-1.324 1.178l-.009.155v5.334c0 .736.597 1.333 1.333 1.333H20v-8z"}));function Ke(e){return a.a.createElement("svg",qe({viewBox:"0 0 56 56"},e),Ye)}function We(){return(We=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Qe=a.a.createElement("path",{className:"icon-broadcast-dark_svg__fill",fill:"#6FD6BE",fillRule:"evenodd",d:"M14.636 2.041c.02.065.03.132.03.2V13.76a.667.667 0 01-.865.637l-4.488-1.403A2.667 2.667 0 014 12.666v-1.334H2.667a2 2 0 01-1.995-1.85l-.005-.15V6.667a2 2 0 012-2H4l9.801-3.063a.666.666 0 01.835.437zm-9.303 9.772v.854a1.333 1.333 0 002.664.099l.003-.12-2.667-.833zm8-8.666l-8 2.499v4.707l8 2.5V3.147zM4 6H2.667a.668.668 0 00-.663.589L2 6.667v2.666c0 .369.298.667.667.667H4V6z"});function Je(e){return a.a.createElement("svg",We({viewBox:"0 0 16 16"},e),Qe)}function $e(){return($e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Xe=a.a.createElement("path",{className:"icon-broadcast-light_svg__fill",fill:"#2EBA9F",fillRule:"evenodd",d:"M14.636 2.041c.02.065.03.132.03.2V13.76a.667.667 0 01-.865.637l-4.488-1.403A2.667 2.667 0 014 12.666v-1.334H2.667a2 2 0 01-1.995-1.85l-.005-.15V6.667a2 2 0 012-2H4l9.801-3.063a.666.666 0 01.835.437zm-9.303 9.772v.854a1.333 1.333 0 002.664.099l.003-.12-2.667-.833zm8-8.666l-8 2.499v4.707l8 2.5V3.147zM4 6H2.667a.668.668 0 00-.663.589L2 6.667v2.666c0 .369.298.667.667.667H4V6z"});function Ze(e){return a.a.createElement("svg",$e({viewBox:"0 0 16 16"},e),Xe)}function et(){return(et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var tt=a.a.createElement("path",{className:"icon-broadcast_svg__fill",fill:"#7B53EF",fillRule:"evenodd",d:"M14.636 2.041c.02.065.03.132.03.2V13.76a.667.667 0 01-.865.637l-4.488-1.403A2.667 2.667 0 014 12.666v-1.334H2.667a2 2 0 01-1.995-1.85l-.005-.15V6.667a2 2 0 012-2H4l9.801-3.063a.666.666 0 01.835.437zm-9.303 9.772v.854a1.333 1.333 0 002.664.099l.003-.12-2.667-.833zm8-8.666l-8 2.499v4.707l8 2.5V3.147zM4 6H2.667a.668.668 0 00-.663.589L2 6.667v2.666c0 .369.298.667.667.667H4V6z"});function nt(e){return a.a.createElement("svg",et({viewBox:"0 0 16 16"},e),tt)}function rt(){return(rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var at=a.a.createElement("path",{className:"frozen-dark_svg__fill",fill:"#9E8CF5",fillRule:"evenodd",d:"M10.409.806l.063.056c.24.24.259.618.055.88l-.055.063-1.805 1.804v3.236l2.801-1.618.662-2.465a.665.665 0 011.304.263l-.016.082-.56 2.088 2.088.56a.665.665 0 01.488.734l-.016.082a.666.666 0 01-.735.488l-.082-.016-2.465-.661L9.334 8l2.801 1.618 2.466-.66.082-.017a.667.667 0 01.735.488l.016.082a.666.666 0 01-.488.734l-2.088.56.56 2.088.016.082a.666.666 0 01-1.304.263l-.662-2.465-2.801-1.618v3.236l1.805 1.804a.668.668 0 01-.88.999l-.063-.056L8 13.61l-1.528 1.53a.668.668 0 01-.88.055l-.063-.056a.668.668 0 01-.056-.88l.056-.063 1.804-1.805V9.155L4.53 10.773l-.66 2.465a.667.667 0 01-1.304-.263l.017-.082.559-2.088-2.088-.56a.667.667 0 01-.488-.734l.017-.082a.665.665 0 01.734-.488l.082.016 2.466.66L6.666 8 3.864 6.382l-2.465.66-.082.017a.666.666 0 01-.734-.488L.566 6.49a.667.667 0 01.488-.734l2.088-.56-.56-2.088-.016-.082a.667.667 0 011.305-.263l.659 2.465 2.803 1.618V3.61L5.529 1.805a.668.668 0 01.88-.999l.063.056L8 2.39 9.53.862a.668.668 0 01.88-.056z"});function it(e){return a.a.createElement("svg",rt({viewBox:"0 0 16 16"},e),at)}function st(){return(st=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ot=a.a.createElement("path",{className:"frozen-light_svg__fill",fill:"#7B53EF",fillRule:"evenodd",d:"M10.409.806l.063.056c.24.24.259.618.055.88l-.055.063-1.805 1.804v3.236l2.801-1.618.662-2.465a.665.665 0 011.304.263l-.016.082-.56 2.088 2.088.56a.665.665 0 01.488.734l-.016.082a.666.666 0 01-.735.488l-.082-.016-2.465-.661L9.334 8l2.801 1.618 2.466-.66.082-.017a.667.667 0 01.735.488l.016.082a.666.666 0 01-.488.734l-2.088.56.56 2.088.016.082a.666.666 0 01-1.304.263l-.662-2.465-2.801-1.618v3.236l1.805 1.804a.668.668 0 01-.88.999l-.063-.056L8 13.61l-1.528 1.53a.668.668 0 01-.88.055l-.063-.056a.668.668 0 01-.056-.88l.056-.063 1.804-1.805V9.155L4.53 10.773l-.66 2.465a.667.667 0 01-1.304-.263l.017-.082.559-2.088-2.088-.56a.667.667 0 01-.488-.734l.017-.082a.665.665 0 01.734-.488l.082.016 2.466.66L6.666 8 3.864 6.382l-2.465.66-.082.017a.666.666 0 01-.734-.488L.566 6.49a.667.667 0 01.488-.734l2.088-.56-.56-2.088-.016-.082a.667.667 0 011.305-.263l.659 2.465 2.803 1.618V3.61L5.529 1.805a.668.668 0 01.88-.999l.063.056L8 2.39 9.53.862a.668.668 0 01.88-.056z"});function lt(e){return a.a.createElement("svg",st({viewBox:"0 0 16 16"},e),ot)}function ut(){return(ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ct=a.a.createElement("path",{className:"icon-camera_svg__fill",fill:"#7B53EF",fillRule:"evenodd",d:"M15 2a1 1 0 01.832.445L17.535 5H21a3 3 0 012.995 2.824L24 8v11a3 3 0 01-3 3H3a3 3 0 01-3-3V8a3 3 0 013-3h3.464l1.704-2.555a1 1 0 01.708-.437L9 2zm-.536 2H9.535L7.832 6.555a1 1 0 01-.708.437L7 7H3a1 1 0 00-1 1v11a1 1 0 001 1h18a1 1 0 001-1V8a1 1 0 00-1-1h-4a1 1 0 01-.832-.445L14.464 4zM12 8a5 5 0 110 10 5 5 0 010-10zm0 2a3 3 0 100 6 3 3 0 000-6z"});function dt(e){return a.a.createElement("svg",ut({viewBox:"0 0 24 24"},e),ct)}function ft(){return(ft=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ht=a.a.createElement("path",{className:"icon-more_svg__fill",fillRule:"evenodd",d:"M12 17a2 2 0 110 4 2 2 0 010-4zm0-6.5a2 2 0 110 4 2 2 0 010-4zM12 4a2 2 0 110 4 2 2 0 010-4z"});function pt(e){return a.a.createElement("svg",ft({viewBox:"0 0 24 24"},e),ht)}function mt(){return(mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var gt=a.a.createElement("path",{className:"icon-mute_svg__fill",fill:"#7B53EF",fillRule:"evenodd",d:"M15.125 20.09c0 .602-.694 2.41-2.778 2.41-1.389 0-2.315-.804-2.778-2.41zM12.789 1.606a6.496 6.496 0 015.388 2.861l2.464-2.463a.788.788 0 011.025-.077l.088.077a.788.788 0 010 1.113L3.378 21.494a.788.788 0 01-1.025.077l-.088-.077a.788.788 0 010-1.113l1.9-1.903-.04-.004a.387.387 0 01-.241-.596l1.557-2.295.001-.208a545.875 545.875 0 00-.028-6.563l-.008-.614a6.503 6.503 0 016.414-6.59h.969zm6.381 5.246c.08.407.122.827.122 1.257l-.001 7.53 1.52 2.238a.387.387 0 01-.32.604H7.54l3.214-3.214 8.415-8.415z"});function yt(e){return a.a.createElement("svg",mt({viewBox:"0 0 24 24"},e),gt)}function _t(){return(_t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var vt=a.a.createElement("path",{className:"icon-no-thumbnail_svg__fill",fillOpacity:.5,fillRule:"evenodd",d:"M30.333 4.667a2.333 2.333 0 110 4.666H11.667a2.334 2.334 0 00-2.334 2.334v32.666c0 1.001.63 1.855 1.516 2.186l24.834-24.836a2.336 2.336 0 013.3 0l7.684 7.683v-3.7c0-1.234.96-2.245 2.173-2.327l.16-.006a2.333 2.333 0 012.333 2.334v18.666a7 7 0 01-7 7H11.665a6.999 6.999 0 01-6.998-7V11.667a7 7 0 017-7zm7 21.966L17.3 46.666h27.034a2.333 2.333 0 002.328-2.173l.006-.16v-8.367l-9.334-9.333zM19.833 14a5.834 5.834 0 110 11.668 5.834 5.834 0 010-11.668zm0 4.667a1.166 1.166 0 100 2.332 1.166 1.166 0 000-2.332zm29.85-15.65a2.334 2.334 0 013.3 3.3L48.8 10.499l4.184 4.184c.87.87.91 2.256.119 3.173l-.119.127a2.334 2.334 0 01-3.3 0L45.5 13.8l-4.183 4.184c-.87.87-2.256.91-3.173.119l-.127-.119a2.334 2.334 0 010-3.3L42.2 10.5l-4.183-4.182a2.334 2.334 0 01-.119-3.173l.119-.127a2.334 2.334 0 013.3 0L45.5 7.2z"});function Et(e){return a.a.createElement("svg",_t({viewBox:"0 0 56 56"},e),vt)}function bt(){return(bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ct=a.a.createElement("g",{className:"icon-checkbox_svg__fill",fill:"#7B53EF",fillRule:"evenodd"},a.a.createElement("path",{d:"M18 1H6a5 5 0 00-5 5v12a5 5 0 005 5h12a5 5 0 005-5V6a5 5 0 00-5-5zm0 2a3 3 0 013 3v12a3 3 0 01-3 3H6a3 3 0 01-3-3V6a3 3 0 013-3h12z"}),a.a.createElement("path",{d:"M19 3H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V5a2 2 0 00-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}));function Nt(e){return a.a.createElement("svg",bt({viewBox:"0 0 24 24"},e),Ct)}function St(){return(St=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Tt=a.a.createElement("g",{className:"icon-checkbox-off_svg__fill",fill:"#7B53EF",fillRule:"evenodd"},a.a.createElement("path",{d:"M18 1H6a5 5 0 00-5 5v12a5 5 0 005 5h12a5 5 0 005-5V6a5 5 0 00-5-5zm0 2a3 3 0 013 3v12a3 3 0 01-3 3H6a3 3 0 01-3-3V6a3 3 0 013-3h12z"}),a.a.createElement("path",{d:"M19 19H5V5h14v14zm0-16H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}));function Ot(e){return a.a.createElement("svg",St({viewBox:"0 0 24 24"},e),Tt)}function wt(){return(wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var kt=a.a.createElement("path",{className:"icon-close_svg__fill",fill:"#7B53EF",fillRule:"evenodd",d:"M6.613 5.21l.094.083L12 10.585l5.293-5.292a1 1 0 011.497 1.32l-.083.094L13.415 12l5.292 5.293a1 1 0 01-1.32 1.497l-.094-.083L12 13.415l-5.293 5.292a1 1 0 01-1.497-1.32l.083-.094L10.585 12 5.293 6.707a1 1 0 011.32-1.497z"});function At(e){return a.a.createElement("svg",wt({viewBox:"0 0 24 24"},e),kt)}function Rt(){return(Rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var It=a.a.createElement("path",{className:"icon-copy_svg__fill",fill:"#7B53EF",fillRule:"evenodd",d:"M20 8a3 3 0 013 3v9a3 3 0 01-3 3h-9a3 3 0 01-3-3v-9a3 3 0 013-3zm0 2h-9a1 1 0 00-1 1v9a1 1 0 001 1h9a1 1 0 001-1v-9a1 1 0 00-1-1zm-7-9a3 3 0 012.995 2.824L16 4v1a1 1 0 01-1.993.117L14 5V4a1 1 0 00-.883-.993L13 3H4a1 1 0 00-.993.883L3 4v9a1 1 0 00.883.993L4 14h1a1 1 0 01.117 1.993L5 16H4a3 3 0 01-2.995-2.824L1 13V4a3 3 0 012.824-2.995L4 1h9z"});function Mt(e){return a.a.createElement("svg",Rt({viewBox:"0 0 24 24"},e),It)}function Pt(){return(Pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ut=a.a.createElement("path",{className:"icon-chat_svg__fill",fill:"#7B53EF",fillRule:"evenodd",d:"M12 1c6.075 0 11 4.925 11 11s-4.925 11-11 11c-1.67 0-3.255-.373-4.673-1.039l-.657.218c-2.237.716-3.8.964-4.69.742-1.049-.261-1.256-.72-.62-1.373.439-.524.805-1.178 1.097-1.963.234-.625.142-1.5-.276-2.625A10.933 10.933 0 011 12C1 5.925 5.925 1 12 1zm0 2a9 9 0 00-8.187 12.742l.152.314.051.101.04.107c.569 1.532.709 2.859.275 4.02l-.143.365-.072.162.088-.019a23.181 23.181 0 001.832-.511l.646-.213.765-.26.73.343A8.962 8.962 0 0012 21a9 9 0 000-18z"});function Lt(e){return a.a.createElement("svg",Pt({viewBox:"0 0 24 24"},e),Ut)}function Dt(){return(Dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var xt=a.a.createElement("path",{className:"icon-supergroup_svg__fill",fill:"#7B53EF",fillRule:"evenodd",d:"M16.139 18.818c2.89 0 5.303 2.05 5.438 4.696l.006.235v1.626a1.166 1.166 0 01-2.326.136l-.007-.136v-1.626c0-1.343-1.255-2.501-2.903-2.592l-.208-.006H11.86c-1.679 0-3.001 1.105-3.105 2.431l-.006.167v1.626a1.166 1.166 0 01-2.325.136l-.008-.136v-1.626c0-2.68 2.329-4.806 5.19-4.926l.254-.005h4.278zm8.128-7.565c.116 0 .232.018.343.052 2.026.624 3.289 2.1 3.384 4.239l.006.26v5.6a1.166 1.166 0 01-2.325.136l-.008-.137v-5.599c-.001-1.135-.509-1.825-1.543-2.202l-.046-.016h-1.095c-.598 0-1.091-.45-1.158-1.03l-.008-.136c0-.598.45-1.092 1.03-1.159l.136-.008h1.284zm-19.25 0l.136.008c.58.067 1.03.56 1.03 1.159l-.008.136c-.067.58-.56 1.03-1.158 1.03H3.919l-.052.018c-.983.372-1.533 1.126-1.534 2.252v5.547l-.008.136A1.166 1.166 0 010 21.404v-5.548l.006-.259c.099-2.132 1.402-3.681 3.374-4.29.112-.035.228-.053.345-.053h1.292zM14 8.732c2.412 0 4.375 1.928 4.375 4.318 0 2.39-1.963 4.319-4.375 4.319S9.625 15.44 9.625 13.05c0-2.39 1.963-4.318 4.375-4.318zm0 2.333c-1.132 0-2.042.893-2.042 1.985s.91 1.986 2.042 1.986c1.132 0 2.042-.894 2.042-1.986s-.91-1.985-2.042-1.985zM7.583 1.167c2.412 0 4.375 1.929 4.375 4.318 0 2.39-1.963 4.32-4.375 4.32-2.411 0-4.375-1.93-4.375-4.32 0-2.39 1.964-4.318 4.375-4.318zm12.834 0c2.411 0 4.375 1.929 4.375 4.318 0 2.39-1.964 4.32-4.375 4.32-2.412 0-4.375-1.93-4.375-4.32 0-2.39 1.963-4.318 4.375-4.318zM7.583 3.5c-1.132 0-2.041.894-2.041 1.985 0 1.092.91 1.986 2.041 1.986 1.132 0 2.042-.894 2.042-1.986 0-1.091-.91-1.985-2.042-1.985zm12.834 0c-1.132 0-2.042.894-2.042 1.985 0 1.092.91 1.986 2.042 1.986 1.132 0 2.041-.894 2.041-1.986 0-1.091-.91-1.985-2.041-1.985z"});function Ft(e){return a.a.createElement("svg",Dt({viewBox:"0 0 28 28"},e),xt)}function jt(){return(jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ht=a.a.createElement("path",{className:"icon-create_svg__fill",fill:"#7B53EF",fillRule:"evenodd",d:"M12 1c6.075 0 11 4.925 11 11s-4.925 11-11 11c-1.67 0-3.255-.373-4.673-1.039l-.657.218c-2.237.716-3.8.964-4.69.742-1.049-.261-1.256-.72-.62-1.373.439-.524.805-1.178 1.097-1.963.234-.625.142-1.5-.276-2.625A10.933 10.933 0 011 12C1 5.925 5.925 1 12 1zm0 2a9 9 0 00-8.187 12.742l.152.314.051.101.04.107c.569 1.532.709 2.859.275 4.02l-.143.365-.072.162.088-.019a23.181 23.181 0 001.832-.511l.646-.213.765-.26.73.343A8.962 8.962 0 0012 21a9 9 0 000-18zm1 6v2h2c1.333 0 1.333 2 0 2h-2v2c0 1.333-2 1.333-2 0v-2H9c-1.333 0-1.333-2 0-2h2V9c0-1.333 2-1.333 2 0z"});function Gt(e){return a.a.createElement("svg",jt({viewBox:"0 0 24 24"},e),Ht)}function Bt(){return(Bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var zt=a.a.createElement("path",{className:"icon-delete_svg__fill",fill:"#7B53EF",fillRule:"evenodd",d:"M14 1a3 3 0 012.995 2.824L17 4v1h4a1 1 0 01.117 1.993L21 7h-1v13a3 3 0 01-2.824 2.995L17 23H7a3 3 0 01-2.995-2.824L4 20V7H3a1 1 0 01-.117-1.993L3 5h4V4a3 3 0 012.824-2.995L10 1h4zm4 6H6v13a1 1 0 00.883.993L7 21h10a1 1 0 00.993-.883L18 20V7zm-8 3a1 1 0 01.993.883L11 11v6a1 1 0 01-1.993.117L9 17v-6a1 1 0 011-1zm4 0a1 1 0 01.993.883L15 11v6a1 1 0 01-1.993.117L13 17v-6a1 1 0 011-1zm0-7h-4a1 1 0 00-.993.883L9 4v1h6V4a1 1 0 00-.883-.993L14 3z"});function Vt(e){return a.a.createElement("svg",Bt({viewBox:"0 0 24 24"},e),zt)}function qt(){return(qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Yt=a.a.createElement("path",{className:"icon-dummy_svg__fill",fill:"#7B53EF",fillRule:"evenodd",d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"});function Kt(e){return a.a.createElement("svg",qt({viewBox:"0 0 24 24"},e),Yt)}function Wt(){return(Wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Qt=a.a.createElement("path",{className:"icon-edit_svg__fill",fill:"#7B53EF",fillRule:"evenodd",d:"M21.875 21.875a1.042 1.042 0 01.121 2.076l-.121.007H3.125a1.042 1.042 0 01-.121-2.076l.121-.007h18.75zM13.847 1.347a1.042 1.042 0 011.473 0l4.167 4.166a1.042 1.042 0 010 1.474L8.028 18.445c-.195.195-.46.305-.736.305H3.125a1.042 1.042 0 01-1.042-1.042v-4.166c0-.277.11-.542.305-.737zm.736 2.21L4.167 13.973v2.694h2.691L17.276 6.25l-2.693-2.693z"});function Jt(e){return a.a.createElement("svg",Wt({viewBox:"0 0 26 26"},e),Qt)}function $t(){return($t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Xt=a.a.createElement("path",{className:"icon-error_svg__fill",fill:"#E53157",fillRule:"evenodd",d:"M8 1.265c.655 0 1.266.32 1.64.856l.072.11 5.652 9.436c.355.615.357 1.373.006 1.99-.33.579-.925.953-1.59 1.004l-.133.006H2.346a2.001 2.001 0 01-1.772-2.883l.067-.127 5.649-9.43A2 2 0 018 1.266zm0 1.333a.669.669 0 00-.52.248l-.048.07-5.641 9.417a.669.669 0 00.477.994l.085.006H13.64a.664.664 0 00.612-.914l-.036-.076L8.57 2.919a.663.663 0 00-.57-.32zm0 8.069A.667.667 0 118 12a.667.667 0 010-1.333zm0-5.334c.342 0 .624.258.662.59L8.667 6v2.667a.667.667 0 01-1.329.077l-.005-.077V6c0-.368.299-.667.667-.667z"});function Zt(e){return a.a.createElement("svg",$t({viewBox:"0 0 16 16"},e),Xt)}function en(){return(en=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var tn=a.a.createElement("g",{fill:"none",fillRule:"evenodd"},a.a.createElement("path",{className:"icon-error-filled_svg__fill",fill:"#E53157",d:"M10.281 4.18L1.77 17.85a1.87 1.87 0 00-.005 1.924c.353.597 1.01.968 1.724.976h17.024a2.024 2.024 0 001.724-.976 1.87 1.87 0 00-.005-1.924L13.719 4.18A2.028 2.028 0 0012 3.25a2.03 2.03 0 00-1.719.93z"}),a.a.createElement("path",{fill:"#FFF",fillRule:"nonzero",d:"M11.125 12.875V8.5c0-1.167 1.75-1.167 1.75 0v4.375c0 1.167-1.75 1.167-1.75 0zm0 3.5c0-1.167 1.75-1.167 1.75 0s-1.75 1.167-1.75 0z"}));function nn(e){return a.a.createElement("svg",en({viewBox:"0 0 24 24"},e),tn)}function rn(){return(rn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var an=a.a.createElement("g",{className:"emoji-fail_svg__fill",fill:"none",fillRule:"evenodd"},a.a.createElement("rect",{width:26.526,height:26.526,x:.737,y:.737,fill:"#FFF",rx:4}),a.a.createElement("path",{fill:"#000",fillOpacity:.12,d:"M14 23.456a9.457 9.457 0 11.001-18.913A9.457 9.457 0 0114 23.456zm0-1.72a7.736 7.736 0 100-15.473 7.737 7.737 0 000 15.474zm.714-6.005a.86.86 0 11-1.72 0v-.867a.86.86 0 01.588-.816 5.248 5.248 0 001.084-.544c.592-.395.907-.815.907-1.22a1.72 1.72 0 00-3.341-.574.86.86 0 11-1.622-.57 3.438 3.438 0 016.682 1.145c0 1.1-.651 1.969-1.672 2.65a6.81 6.81 0 01-.906.508v.288zm-1.72 2.425a.86.86 0 011.72 0v.142a.86.86 0 11-1.72 0V18.156z"}));function sn(e){return a.a.createElement("svg",rn({viewBox:"0 0 28 28"},e),an)}function on(){return(on=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ln=a.a.createElement("path",{className:"icon-reactions-add_svg__fill",fillOpacity:.88,fillRule:"evenodd",d:"M11.033 1.107a9.98 9.98 0 012.669.362.734.734 0 01-.393 1.413A8.466 8.466 0 002.567 11.04 8.466 8.466 0 1019.2 8.8a.736.736 0 01.514-.902.735.735 0 01.901.514c.233.85.352 1.731.352 2.628 0 5.486-4.448 9.933-9.934 9.933-5.486 0-9.933-4.447-9.933-9.933s4.447-9.933 9.933-9.933zm3.68 11.96c.5 0 .854.49.696.965-.644 1.933-2.385 3.261-4.376 3.261-1.99 0-3.732-1.328-4.375-3.261a.733.733 0 01.597-.959l.098-.006h7.36zm-1.195 1.466h-4.97l.101.131a3.115 3.115 0 002.012 1.14l.198.018.174.005c.868 0 1.672-.38 2.254-1.012l.13-.15.101-.132zM7.353 7.547c.374 0 .683.28.728.641l.006.092v1.84a.734.734 0 01-1.461.092l-.006-.092V8.28c0-.405.328-.733.733-.733zm7.36 0c.374 0 .683.28.728.641l.006.092v1.84a.734.734 0 01-1.461.092l-.006-.092V8.28c0-.405.328-.733.733-.733zM18.398 0c.405 0 .733.328.733.733v2.218h2.209a.734.734 0 010 1.467h-2.21v2.209a.732.732 0 11-1.466 0V4.418h-2.217a.734.734 0 110-1.466l2.216-.001.001-2.218c0-.405.328-.733.733-.733z"});function un(e){return a.a.createElement("svg",on({viewBox:"0 0 22 22"},e),ln)}function cn(){return(cn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var dn=a.a.createElement("path",{className:"icon-emoji-reactions-add_svg__fill",fillOpacity:.38,fillRule:"evenodd",d:"M10.03 1.006c.828 0 1.643.112 2.426.33a.666.666 0 11-.357 1.284 7.741 7.741 0 00-2.069-.28 7.697 7.697 0 107.697 7.696c0-.696-.092-1.379-.272-2.037a.667.667 0 011.287-.352c.21.773.319 1.574.319 2.39a9.03 9.03 0 01-9.03 9.03 9.03 9.03 0 11-.001-18.06zm3.346 10.873c.455 0 .776.445.632.877-.585 1.757-2.168 2.965-3.978 2.965s-3.392-1.208-3.978-2.965a.667.667 0 01.538-.87l.095-.007h6.69zm-1.087 1.333H7.771l.092.12c.46.563 1.103.938 1.813 1.033l.196.018.158.005c.784 0 1.512-.341 2.04-.91l.128-.147.091-.12zM6.685 6.86c.34 0 .62.254.661.583l.006.083V9.2a.667.667 0 01-1.329.084L6.018 9.2V7.527c0-.368.299-.666.667-.666zm6.69 0c.34 0 .621.254.662.583l.005.083V9.2a.667.667 0 01-1.328.084L12.71 9.2V7.527c0-.368.299-.666.667-.666zM16.726 0c.368 0 .667.298.667.667l-.001 2.016H19.4a.667.667 0 010 1.334l-2.01-.001.002 2.008a.667.667 0 01-1.334 0V4.016h-2.016a.666.666 0 110-1.333h2.016V.667c0-.369.299-.667.667-.667z"});function fn(e){return a.a.createElement("svg",cn({viewBox:"0 0 20 20"},e),dn)}function hn(){return(hn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var pn=a.a.createElement("path",{className:"icon-delivered_svg__fill",fillOpacity:.38,fillRule:"evenodd",d:"M2.207 11.793l5 5a1 1 0 01-1.414 1.414l-5-5a1 1 0 011.414-1.414zm19.586-6a1 1 0 011.414 1.414l-11 11a1 1 0 01-1.414 0l-5-5a1 1 0 011.414-1.414l4.293 4.293zm-3.586 0a1 1 0 010 1.414l-5.999 5.999a1 1 0 01-1.414-1.414l5.999-6a1 1 0 011.414 0z"});function mn(e){return a.a.createElement("svg",hn({viewBox:"0 0 24 24"},e),pn)}function gn(){return(gn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var yn=a.a.createElement("path",{className:"icon-disconnected_svg__fill",fillRule:"evenodd",d:"M3.55 2.276l.093.081L10.9 9.615a.895.895 0 01.148.147l10.594 10.595a.91.91 0 01-1.193 1.367l-.093-.081-5.015-5.015a.913.913 0 01-.705-.15 4.545 4.545 0 00-5.265 0 .91.91 0 01-1.053-1.483 6.358 6.358 0 014.24-1.151l-2.529-2.53c-1.4.316-2.706.96-3.81 1.883a.91.91 0 01-1.167-1.394 10.854 10.854 0 013.504-1.962L6.445 7.728a13.518 13.518 0 00-3.461 2.226.909.909 0 01-1.204-1.362 15.38 15.38 0 013.299-2.229l-2.722-2.72A.91.91 0 013.55 2.276zm13.14 8.052c.812.397 1.572.894 2.262 1.479a.908.908 0 11-1.177 1.386 9.015 9.015 0 00-1.883-1.23.91.91 0 01.798-1.635zm5.53-1.737a.91.91 0 01-1.203 1.363A13.642 13.642 0 0010.9 6.588a.91.91 0 01-.146-1.813A15.457 15.457 0 0122.22 8.591z"});function _n(e){return a.a.createElement("svg",gn({viewBox:"0 0 24 24"},e),yn)}function vn(){return(vn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var En=a.a.createElement("path",{className:"icon-document_svg__fill",fill:"#7B53EF",fillRule:"evenodd",d:"M14 1a1.01 1.01 0 01.25.031l.03.009c.03.009.061.02.091.031l.027.012a.914.914 0 01.195.112c.04.03.078.062.114.098l-.093-.082.011.009.082.073 6 6a1.006 1.006 0 01.21.309l.012.027c.012.03.022.06.031.091l.008.03A.921.921 0 0121 8l-.008-.126.001.01L21 8v12a3 3 0 01-3 3H6a3 3 0 01-3-3V4a3 3 0 013-3h8zm-1 2H6a1 1 0 00-1 1v16a1 1 0 001 1h12a1 1 0 001-1V9h-5a1 1 0 01-.993-.883L13 8V3zm4.585 4L15 4.415V7h2.585z"});function bn(e){return a.a.createElement("svg",vn({viewBox:"0 0 24 24"},e),En)}function Cn(){return(Cn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Nn=a.a.createElement("path",{className:"icon-download_svg__fill",fill:"#7B53EF",fillRule:"evenodd",d:"M21 16a1 1 0 01.993.883L22 17v3a3 3 0 01-2.824 2.995L19 23H5a3 3 0 01-2.995-2.824L2 20v-3a1 1 0 011.993-.117L4 17v3a1 1 0 00.883.993L5 21h14a1 1 0 00.993-.883L20 20v-3a1 1 0 011-1zM12 1a1 1 0 01.993.883L13 2v11.585l2.293-2.292a1 1 0 011.32-.083l.094.083a1 1 0 01.083 1.32l-.083.094-4 4a1.006 1.006 0 01-.09.08l.09-.08a1.008 1.008 0 01-.674.292L12 17h-.032l-.054-.004L12 17a1.008 1.008 0 01-.613-.21 1.037 1.037 0 01-.094-.083l-4-4a1 1 0 011.32-1.497l.094.083L11 13.585V2a1 1 0 011-1z"});function Sn(e){return a.a.createElement("svg",Cn({viewBox:"0 0 24 24"},e),Nn)}function Tn(){return(Tn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var On=a.a.createElement("g",{fill:"none",fillRule:"evenodd"},a.a.createElement("rect",{fill:"#FFF",fillRule:"nonzero",rx:10}),a.a.createElement("path",{className:"icon-file-audio_svg__fill",fill:"#7B53EF",d:"M18.815 9.185c2.913 2.934 2.913 7.696 0 10.63a.617.617 0 01-.894-.013.67.67 0 01.012-.925 6.215 6.215 0 000-8.754.67.67 0 01-.012-.925.617.617 0 01.894-.013zm-5.291 0a.646.646 0 011.044.517v9.596c0 .544-.62.85-1.044.516l-3.31-2.702H7.646A.65.65 0 017 16.458v-3.916a.65.65 0 01.647-.654h2.566zm2.886 2.42a4.113 4.113 0 010 5.783.617.617 0 01-.893-.012.67.67 0 01.012-.925 2.772 2.772 0 000-3.908.67.67 0 01-.012-.925.617.617 0 01.893-.013z"}));function wn(e){return a.a.createElement("svg",Tn({viewBox:"0 0 28 28"},e),On)}function kn(){return(kn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var An=a.a.createElement("g",{fill:"none",fillRule:"evenodd"},a.a.createElement("rect",{fill:"#FFF",fillRule:"nonzero",rx:10}),a.a.createElement("path",{className:"icon-file-document_svg__fill",fill:"#7B53EF",d:"M16.317 5.667H9.05C7.907 5.667 7 6.58 7 7.687v12.625c0 1.107.907 2.021 2.05 2.021h9.9c1.143 0 2.05-.914 2.05-2.02v-9.97a.673.673 0 00-.198-.473l-3.95-3.984a.753.753 0 00-.535-.22z"}),a.a.createElement("path",{fill:"#FFF",d:"M17.025 16.667c.354 0 .642.302.642.675 0 .372-.288.675-.642.675h-6.383c-.355 0-.642-.303-.642-.675 0-.373.287-.675.642-.675zm0-2.667c.354 0 .642.302.642.675 0 .373-.288.675-.642.675h-6.383c-.355 0-.642-.302-.642-.675 0-.373.287-.675.642-.675zm-3.357-2.667c.369 0 .668.303.668.675 0 .373-.3.675-.668.675h-3a.672.672 0 01-.668-.675c0-.372.3-.675.668-.675z"}));function Rn(e){return a.a.createElement("svg",kn({viewBox:"0 0 28 28"},e),An)}function In(){return(In=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Mn=a.a.createElement("g",{fill:"none",fillRule:"evenodd"},a.a.createElement("circle",{cx:28,cy:28,r:28,fill:"#FFF",fillOpacity:.88}),a.a.createElement("path",{className:"icon-gif_svg__fill",fill:"#000",fillOpacity:.55,d:"M20.608 35.182c1.094 0 2.09-.162 2.99-.487.899-.325 1.595-.783 2.087-1.372v-5.296h-5.223v2.015h2.489v2.287c-.438.438-1.17.657-2.197.657-1.02 0-1.796-.356-2.324-1.067-.529-.71-.793-1.762-.793-3.153v-.848c.006-1.38.252-2.418.738-3.117.486-.699 1.194-1.048 2.124-1.048.729 0 1.302.176 1.718.528.416.353.685.909.806 1.668h2.662c-.164-1.434-.69-2.526-1.577-3.276s-2.118-1.126-3.691-1.126c-1.13 0-2.116.257-2.958.77-.842.514-1.486 1.255-1.932 2.224-.447.97-.67 2.116-.67 3.44v.903c.012 1.288.253 2.41.724 3.363.471.954 1.14 1.682 2.006 2.183.865.502 1.873.752 3.021.752zm10.2-.182V21.73h-2.735V35h2.734zm5.268 0v-5.423h5.25V27.37h-5.25v-3.427h5.906v-2.215h-8.64V35h2.734z"}));function Pn(e){return a.a.createElement("svg",In({viewBox:"0 0 56 56"},e),Mn)}function Un(){return(Un=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ln=a.a.createElement("path",{className:"icon-info_svg__fill",fill:"#7B53EF",fillRule:"evenodd",d:"M12 1c6.075 0 11 4.925 11 11s-4.925 11-11 11S1 18.075 1 12 5.925 1 12 1zm0 2a9 9 0 100 18 9 9 0 000-18zm0 8a1 1 0 011 1v4a1 1 0 01-2 0v-4a1 1 0 011-1zm0-3a1 1 0 110 2 1 1 0 010-2z"});function Dn(e){return a.a.createElement("svg",Un({viewBox:"0 0 24 24"},e),Ln)}function xn(){return(xn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Fn=a.a.createElement("path",{className:"icon-leave_svg__fill",fill:"#7B53EF",fillRule:"evenodd",d:"M12 2a1 1 0 01.117 1.993L12 4H4a1 1 0 00-.993.883L3 5v14a1 1 0 00.883.993L4 20h8a1 1 0 01.117 1.993L12 22H4a3 3 0 01-2.995-2.824L1 19V5a3 3 0 012.824-2.995L4 2h8zm6.613 5.21l.094.083 4 4a1 1 0 01.083 1.32l-.083.094-4 4a1 1 0 01-1.497-1.32l.083-.094 1.792-1.793H7.5a1 1 0 01-.117-1.993L7.5 11.5h12.585l-2.792-2.793a1 1 0 01-.083-1.32l.083-.094a1 1 0 011.32-.083z"});function jn(e){return a.a.createElement("svg",xn({viewBox:"0 0 24 24"},e),Fn)}function Hn(){return(Hn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Gn=a.a.createElement("path",{className:"icon-members_svg__fill",fill:"#7B53EF",fillRule:"evenodd",d:"M13 14a5 5 0 014.995 4.783L18 19v2a1 1 0 01-1.993.117L16 21v-2a3 3 0 00-2.824-2.995L13 16H5a3 3 0 00-2.995 2.824L2 19v2a1 1 0 01-1.993.117L0 21v-2a5 5 0 014.783-4.995L5 14h8zm7.25.162a5 5 0 013.745 4.611L24 19v2a1 1 0 01-1.993.117L22 21v-2a3 3 0 00-2.25-2.902 1 1 0 11.5-1.936zM9 2a5 5 0 110 10A5 5 0 019 2zm7.248.161a5 5 0 010 9.688 1 1 0 01-.496-1.938 3 3 0 000-5.812 1 1 0 11.496-1.938zM9 4a3 3 0 100 6 3 3 0 000-6z"});function Bn(e){return a.a.createElement("svg",Hn({viewBox:"0 0 24 24"},e),Gn)}function zn(){return(zn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Vn=a.a.createElement("path",{className:"icon-notifications_svg__fill",fill:"#7B53EF",fillRule:"evenodd",d:"M13.73 20a1 1 0 01.865 1.502 3 3 0 01-5.19 0 1 1 0 01.752-1.496L10.27 20h3.46zM12 1a8 8 0 017.996 7.75L20 9v5a2 2 0 001.85 1.995l.283.012c1.111.12 1.154 1.73.128 1.965l-.128.021L22 18H2l-.133-.007c-1.156-.124-1.156-1.862 0-1.986l.282-.012a2 2 0 001.845-1.838L4 14V9a8 8 0 018-8zm0 2a6 6 0 00-5.996 5.775L6 9v5c0 .586-.126 1.142-.352 1.643l-.103.212-.082.145h13.073l-.08-.145a3.973 3.973 0 01-.43-1.402l-.021-.253L18 14V9a6 6 0 00-6-6z"});function qn(e){return a.a.createElement("svg",zn({viewBox:"0 0 24 24"},e),Vn)}function Yn(){return(Yn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Kn=a.a.createElement("path",{className:"icon-photo_svg__fill",fill:"#7B53EF",fillRule:"evenodd",d:"M19 2a3 3 0 013 3v14a3 3 0 01-3 3H4.941v-.002l-.117-.003A3 3 0 012 19V5a3 3 0 013-3zm-3 9.415L7.414 20H19a1 1 0 00.993-.883L20 19v-3.585l-4-4zM19 4H5a1 1 0 00-1 1v14a1 1 0 00.65.937L15.292 9.293a1 1 0 011.32-.083l.094.083L20 12.585V5a1 1 0 00-.883-.993L19 4zM8.5 6a2.5 2.5 0 110 5 2.5 2.5 0 010-5zm0 2a.5.5 0 100 1 .5.5 0 000-1z"});function Wn(e){return a.a.createElement("svg",Yn({viewBox:"0 0 24 24"},e),Kn)}function Qn(){return(Qn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Jn=a.a.createElement("g",{fill:"none",fillRule:"evenodd"},a.a.createElement("circle",{cx:28,cy:28,r:28,fill:"#FFF",fillOpacity:.88}),a.a.createElement("path",{className:"icon-play_svg__fill",fill:"#000",fillOpacity:.55,d:"M38.91 29.987c1.009-.63 1.007-1.664.007-2.304l-17.29-11.055c-1.006-.643-1.809-.2-1.793 1.004l.277 21.891c.015 1.198.847 1.657 1.855 1.029L38.91 29.987z"}));function $n(e){return a.a.createElement("svg",Qn({viewBox:"0 0 56 56"},e),Jn)}function Xn(){return(Xn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Zn=a.a.createElement("path",{className:"icon-plus_svg__fill",fill:"#7B53EF",fillRule:"evenodd",d:"M13 11h7c1.333 0 1.333 2 0 2h-7v7c0 1.333-2 1.333-2 0v-7H4c-1.333 0-1.333-2 0-2h7V4c0-1.333 2-1.333 2 0v7z"});function er(e){return a.a.createElement("svg",Xn({viewBox:"0 0 24 24"},e),Zn)}function tr(){return(tr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var nr=a.a.createElement("path",{className:"icon-read_svg__fill",fill:"#2EBA9F",fillRule:"evenodd",d:"M2.207 11.793l5 5a1 1 0 01-1.414 1.414l-5-5a1 1 0 011.414-1.414zm19.586-6a1 1 0 011.414 1.414l-11 11a1 1 0 01-1.414 0l-5-5a1 1 0 011.414-1.414l4.293 4.293zm-3.586 0a1 1 0 010 1.414l-5.999 5.999a1 1 0 01-1.414-1.414l5.999-6a1 1 0 011.414 0z"});function rr(e){return a.a.createElement("svg",tr({viewBox:"0 0 24 24"},e),nr)}function ar(){return(ar=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ir=a.a.createElement("path",{className:"icon-refresh_svg__fill",fill:"#7B53EF",fillRule:"evenodd",d:"M14.419 4.51l.175.167 2.073 1.927V4.167c0-.428.321-.78.736-.828l.097-.006c.427 0 .78.322.828.736l.005.098v5c0 .427-.321.78-.736.827L17.5 10h-5a.833.833 0 01-.097-1.661l.097-.006h3.578L13.44 5.88a5.982 5.982 0 00-7.05-.986C4.083 6.15 2.898 8.756 3.48 11.286c.58 2.534 2.792 4.385 5.425 4.537 2.635.152 5.05-1.433 5.928-3.883a.833.833 0 011.569.561c-1.127 3.15-4.223 5.18-7.593 4.986-3.37-.195-6.206-2.57-6.954-5.828-.748-3.261.778-6.617 3.738-8.229 2.884-1.57 6.453-1.118 8.826 1.08z"});function sr(e){return a.a.createElement("svg",ar({width:20,height:20},e),ir)}function or(){return(or=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var lr=a.a.createElement("path",{className:"icon-send_svg__fill",fillRule:"evenodd",d:"M20.554 10.117L2.52 1.024C1.613.619.605 1.428 1.008 2.337l2.115 5.685a2 2 0 001.545 1.275l10.345 1.73-10.345 1.728a2 2 0 00-1.545 1.275l-2.115 5.685c-.302.91.605 1.718 1.511 1.213l18.035-9.094c.706-.303.706-1.313 0-1.717z"});function ur(e){return a.a.createElement("svg",or({viewBox:"0 0 22 22"},e),lr)}function cr(){return(cr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var dr=a.a.createElement("path",{className:"icon-sent_svg__fill",fillOpacity:.38,fillRule:"evenodd",d:"M4.707 11.793a1 1 0 10-1.414 1.414l5 5a1 1 0 001.414 0l11-11a1 1 0 10-1.414-1.414L9 16.086l-4.293-4.293z"});function fr(e){return a.a.createElement("svg",cr({viewBox:"0 0 24 24"},e),dr)}function hr(){return(hr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var pr=a.a.createElement("path",{className:"icon-shevron_svg__fill",fill:"#7B53EF",fillRule:"evenodd",d:"M8.293 17.293a1 1 0 001.414 1.414l6-6a1 1 0 000-1.414l-6-6a1 1 0 00-1.414 1.414L13.586 12l-5.293 5.293z"});function mr(e){return a.a.createElement("svg",hr({viewBox:"0 0 24 24"},e),pr)}function gr(){return(gr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var yr=a.a.createElement("path",{className:"icon-shevron-down_svg__fill",fill:"#7B53EF",fillRule:"evenodd",d:"M6.045 8.205a1.125 1.125 0 10-1.59 1.59l6.75 6.75c.439.44 1.151.44 1.59 0l6.75-6.75a1.125 1.125 0 10-1.59-1.59L12 14.159 6.045 8.205z"});function _r(e){return a.a.createElement("svg",gr({viewBox:"0 0 24 24"},e),yr)}function vr(){return(vr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Er=a.a.createElement("path",{className:"icon-spinner-small_svg__fill",fill:"#7B53EF",fillRule:"evenodd",d:"M12 22.5c5.799 0 10.5-4.701 10.5-10.5S17.799 1.5 12 1.5 1.5 6.201 1.5 12a1.432 1.432 0 002.864 0A7.636 7.636 0 1112 19.636a1.432 1.432 0 000 2.864z"});function br(e){return a.a.createElement("svg",vr({viewBox:"0 0 24 24"},e),Er)}function Cr(){return(Cr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Nr=a.a.createElement("path",{className:"icon-spinner-large_svg__fill",fill:"#7B53EF",fillRule:"evenodd",d:"M24 48c13.255 0 24-10.745 24-24S37.255 0 24 0 0 10.745 0 24a2.323 2.323 0 104.645 0C4.645 13.31 13.311 4.645 24 4.645c10.69 0 19.355 8.666 19.355 19.355 0 10.69-8.666 19.355-19.355 19.355A2.323 2.323 0 0024 48z"});function Sr(e){return a.a.createElement("svg",Cr({viewBox:"0 0 48 48"},e),Nr)}function Tr(){return(Tr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Or=a.a.createElement("path",{className:"icon-user_svg__fill",fill:"#7B53EF",fillRule:"evenodd",d:"M16 14a5 5 0 014.995 4.783L21 19v2a1 1 0 01-1.993.117L19 21v-2a3 3 0 00-2.824-2.995L16 16H8a3 3 0 00-2.995 2.824L5 19v2a1 1 0 01-1.993.117L3 21v-2a5 5 0 014.783-4.995L8 14h8zM12 2a5 5 0 110 10 5 5 0 010-10zm0 2a3 3 0 100 6 3 3 0 000-6z"});function wr(e){return a.a.createElement("svg",Tr({viewBox:"0 0 24 24"},e),Or)}function kr(){return(kr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ar=a.a.createElement("g",{className:"icon-operator_svg__fill",fill:"none",fillRule:"evenodd"},a.a.createElement("path",{stroke:"#7B53EF",strokeLinejoin:"round",strokeWidth:2,d:"M2 6l5 4 5-7 5 7 5-4-3 14H5z"}),a.a.createElement("circle",{cx:12,cy:14,r:2,fill:"#7B53EF"}));function Rr(e){return a.a.createElement("svg",kr({viewBox:"0 0 24 24"},e),Ar)}function Ir(){return(Ir=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Mr=a.a.createElement("path",{className:"icon-banned_svg__fill",fill:"#7B53EF",fillRule:"evenodd",d:"M12 1c6.075 0 11 4.925 11 11s-4.925 11-11 11S1 18.075 1 12 5.925 1 12 1zm0 2a9 9 0 10.001 18.001A9 9 0 0012 3zm4 8a1 1 0 010 2H8a1 1 0 010-2h8z"});function Pr(e){return a.a.createElement("svg",Ir({viewBox:"0 0 24 24"},e),Mr)}function Ur(){return(Ur=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Lr=a.a.createElement("path",{className:"icon-muted_svg__fill",fill:"#7B53EF",fillRule:"evenodd",d:"M20.857 7.357l.026.045A9.96 9.96 0 0122 12a9.937 9.937 0 01-1.074 4.51c-.38 1.021-.463 1.817-.25 2.386.265.713.598 1.308.997 1.784.578.594.39 1.01-.565 1.249-.763.19-2.073 0-3.929-.571l-.333-.105-.598-.198A9.965 9.965 0 0112 22a9.952 9.952 0 01-4.622-1.13l-.022-.011 1.5-1.5c.982.42 2.046.641 3.144.641 1.073 0 2.114-.21 3.079-.613l.318-.142.722-.339 1.355.449.26.082c.228.07.445.133.65.19l.298.08.182.045-.063-.157-.075-.223c-.295-.974-.189-2.057.225-3.275l.1-.284.04-.107.198-.406A7.949 7.949 0 0020 12a7.97 7.97 0 00-.64-3.143l1.497-1.5zM12 2c2.401 0 4.604.846 6.328 2.257l1.965-1.964a1 1 0 011.497 1.32l-.083.094-18 18a1 1 0 01-1.497-1.32l.083-.094 1.963-1.965a9.956 9.956 0 01-2.25-5.998L2 12C2 6.477 6.477 2 12 2zm0 2a8 8 0 00-6.32 12.906L16.905 5.68a7.957 7.957 0 00-4.607-1.675L12 4z"});function Dr(e){return a.a.createElement("svg",Ur({viewBox:"0 0 24 24"},e),Lr)}function xr(){return(xr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Fr=a.a.createElement("path",{className:"icon-muted-foreground_svg__fill",fill:"#FFF",fillOpacity:.88,fillRule:"evenodd",d:"M13.904 4.904l.018.03c.476.919.745 1.96.745 3.066a6.628 6.628 0 01-.716 3.006c-.253.682-.309 1.212-.168 1.591.178.476.4.872.666 1.19.385.396.26.674-.377.832-.503.125-1.361.003-2.576-.367l-.266-.083-.398-.132c-.86.404-1.82.63-2.832.63a6.632 6.632 0 01-3.082-.754l-.014-.007 1-1c.655.28 1.364.427 2.096.427a5.32 5.32 0 001.999-.386l.266-.117.481-.226.903.299.174.055c.152.047.296.089.433.126l.199.054.121.03-.042-.105-.05-.149c-.192-.635-.129-1.34.133-2.132l.084-.24.026-.071.132-.271a5.294 5.294 0 00.474-2.2c0-.732-.147-1.44-.427-2.096l.998-1zm.567-3.375c.24.24.26.618.056.88l-.056.062-12 12a.666.666 0 01-.998-.88l.056-.062 1.31-1.31a6.636 6.636 0 01-1.5-3.94L1.333 8A6.667 6.667 0 0112.22 2.838l1.309-1.31c.26-.26.682-.26.942 0zM8 2.667a5.332 5.332 0 00-4.213 8.603l7.484-7.484a5.32 5.32 0 00-3.006-1.113L8 2.667z"});function jr(e){return a.a.createElement("svg",xr({viewBox:"0 0 16 16"},e),Fr)}function Hr(){return(Hr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Gr=a.a.createElement("path",{className:"icon-freeze_svg__fill",fill:"#7B53EF",fillRule:"evenodd",d:"M9.613 1.21l.095.083L12 3.585l2.293-2.292a1 1 0 011.32-.083l.095.083a1 1 0 01.083 1.32l-.083.094L13 5.414v4.853l4.203-2.427.992-3.697a1 1 0 011.957.395l-.025.123-.84 3.131 3.133.84c.492.132.8.61.732 1.102l-.025.123c-.132.492-.61.8-1.102.732l-.123-.025-3.698-.991L14.001 12l4.203 2.426 3.698-.99.123-.025c.492-.068.97.24 1.102.732l.025.123a1 1 0 01-.732 1.102l-3.133.839.84 3.132.025.123a1 1 0 01-1.957.395l-.992-3.698L13 13.732v4.853l2.708 2.708a1 1 0 01-1.32 1.497l-.095-.083L12 20.414l-2.292 2.293a1 1 0 01-1.32.083l-.095-.083a1 1 0 01-.083-1.32l.083-.094L11 18.585v-4.853l-4.203 2.427-.99 3.698a1.002 1.002 0 01-1.958-.395l.025-.123.839-3.131-3.132-.84c-.492-.132-.8-.61-.732-1.102l.025-.123c.132-.492.61-.8 1.102-.732l.123.025 3.697.99 4.203-2.427-4.203-2.426-3.697.991-.123.025c-.492.068-.97-.24-1.102-.732L.85 9.734a1 1 0 01.732-1.102l3.132-.84-.839-3.131-.025-.123a1 1 0 011.957-.395l.991 3.697L11 10.267V5.414L8.293 2.707a1 1 0 011.32-1.497z"});function Br(e){return a.a.createElement("svg",Hr({viewBox:"0 0 24 24"},e),Gr)}function zr(){return(zr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Vr=a.a.createElement("g",{className:"icon-toggleon_svg__fill",fill:"none",fillRule:"evenodd"},a.a.createElement("rect",{width:40,height:20,x:2,y:2,fill:"#7B53EF",rx:10}),a.a.createElement("circle",{cx:32,cy:12,r:6,fill:"#FFF"}),a.a.createElement("path",{fill:"#7B53EF",d:"M32 0H12C5.373 0 0 5.373 0 12s5.373 12 12 12h20c6.627 0 12-5.373 12-12S38.627 0 32 0zm0 2c5.523 0 10 4.477 10 10s-4.477 10-10 10H12C6.477 22 2 17.523 2 12S6.477 2 12 2h20z"}));function qr(e){return a.a.createElement("svg",zr({viewBox:"0 0 44 24"},e),Vr)}function Yr(){return(Yr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Kr=a.a.createElement("g",{className:"icon-toggleoff_svg__fill",fill:"none",fillRule:"evenodd"},a.a.createElement("rect",{width:40,height:20,x:2,y:2,fill:"#A8A8A8",rx:10}),a.a.createElement("circle",{cx:12,cy:12,r:6,fill:"#FFF"}),a.a.createElement("path",{fill:"#A8A8A8",d:"M32 2c5.523 0 10 4.477 10 10s-4.477 10-10 10H12C6.477 22 2 17.523 2 12S6.477 2 12 2h20zm0 1H12a9 9 0 00-.265 17.996L12 21h20a9 9 0 00.265-17.996L32 3z"}),a.a.createElement("path",{fill:"#FFF",d:"M32 0H12C5.373 0 0 5.373 0 12s5.373 12 12 12h20c6.627 0 12-5.373 12-12S38.627 0 32 0zm0 2c5.523 0 10 4.477 10 10s-4.477 10-10 10H12C6.477 22 2 17.523 2 12S6.477 2 12 2h20z"}));function Wr(e){return a.a.createElement("svg",Yr({viewBox:"0 0 44 24"},e),Kr)}var Qr={DEFAULT:"DEFAULT",PRIMARY:"PRIMARY",SECONDARY:"SECONDARY",CONTENT:"CONTENT",CONTENT_INVERSE:"CONTENT_INVERSE",WHITE:"WHITE",SENT:"SENT",READ:"READ",ON_BACKGROUND_3:"ON_BACKGROUND_3"};function Jr(e){switch(e){case Qr.PRIMARY:return"sendbird-color--primary";case Qr.SECONDARY:return"sendbird-color--secondary";case Qr.CONTENT:return"sendbird-color--content";case Qr.CONTENT_INVERSE:return"sendbird-color--content-inverse";case Qr.WHITE:return"sendbird-color--white";case Qr.SENT:return"sendbird-color--sent";case Qr.READ:return"sendbird-color--read";case Qr.ON_BACKGROUND_3:return"sendbird-color--on-background";default:return""}}function $r(e){var t=e.type,n=e.width,r=e.height,i=e.children,s=e.className,o=e.onClick,l=e.fillColor,u={width:"string"===typeof n?n:"".concat(n,"px"),height:"string"===typeof r?r:"".concat(r,"px")},c=Array.isArray(s)?s:[s];return a.a.createElement("div",{onClick:o,onKeyDown:o,role:"button",tabIndex:"0",className:[].concat(S(c),["sendbird-icon",Jr(l)]).join(" "),style:u},i||function(e){switch(e){case Me.ADD:return a.a.createElement(Le,null);case Me.ARROW_LEFT:return a.a.createElement(Ge,null);case Me.CAMERA:return a.a.createElement(dt,null);case Me.ATTACH:return a.a.createElement(Fe,null);case Me.AVATAR_DARK:return a.a.createElement(ke,null);case Me.AVATAR_LIGHT:return a.a.createElement(Se,null);case Me.BROADCAST_LARGE_DARK:return a.a.createElement(Ve,null);case Me.BROADCAST_LARGE_LIGHT:return a.a.createElement(Ke,null);case Me.BROADCAST_DARK:return a.a.createElement(Je,null);case Me.BROADCAST_LIGHT:return a.a.createElement(Ze,null);case Me.BROADCAST:return a.a.createElement(nt,null);case Me.FROZEN_DARK:return a.a.createElement(it,null);case Me.FROZEN_LIGHT:return a.a.createElement(lt,null);case Me.MORE:return a.a.createElement(pt,null);case Me.MUTE:return a.a.createElement(yt,null);case Me.NO_THUMBNAIL:return a.a.createElement(Et,null);case Me.CHECKBOX:return a.a.createElement(Nt,null);case Me.CHECKBOX_OFF:return a.a.createElement(Ot,null);case Me.CLOSE:return a.a.createElement(At,null);case Me.COPY:return a.a.createElement(Mt,null);case Me.CHAT:return a.a.createElement(Lt,null);case Me.SUPER_GROUP:return a.a.createElement(Ft,null);case Me.CREATE:return a.a.createElement(Gt,null);case Me.DELETE:return a.a.createElement(Vt,null);case Me.DISCONNECTED:return a.a.createElement(_n,null);case Me.DUMMY:return a.a.createElement(Kt,null);case Me.EDIT:return a.a.createElement(Jt,null);case Me.ERROR:return a.a.createElement(Zt,null);case Me.ERROR_FILLED:return a.a.createElement(nn,null);case Me.EMOJI_FAILED:return a.a.createElement(sn,null);case Me.EMOJI_REACTIONS_ADD:return a.a.createElement(un,null);case Me.EMOJI_REACTIONS_ADD_GRAY:return a.a.createElement(fn,null);case Me.DELIVERED:return a.a.createElement(mn,null);case Me.DOCUMENT:return a.a.createElement(bn,null);case Me.DOWNLOAD:return a.a.createElement(Sn,null);case Me.FILE_AUDIO:return a.a.createElement(wn,null);case Me.FILE_DOCUMENT:return a.a.createElement(Rn,null);case Me.GIF:return a.a.createElement(Pn,null);case Me.INFO:return a.a.createElement(Dn,null);case Me.LEAVE:return a.a.createElement(jn,null);case Me.MEMBERS:return a.a.createElement(Bn,null);case Me.NOTIFICATIONS:return a.a.createElement(qn,null);case Me.PHOTO:return a.a.createElement(Wn,null);case Me.PLAY:return a.a.createElement($n,null);case Me.PLUS:return a.a.createElement(er,null);case Me.READ:return a.a.createElement(rr,null);case Me.REFRESH:return a.a.createElement(sr,null);case Me.SEND:return a.a.createElement(ur,null);case Me.SENT:return a.a.createElement(fr,null);case Me.SHEVRON:return a.a.createElement(mr,null);case Me.SHEVRON_DOWN:return a.a.createElement(_r,null);case Me.SPINNER:return a.a.createElement(br,null);case Me.SPINNER_LARGE:return a.a.createElement(Sr,null);case Me.USER:return a.a.createElement(wr,null);case Me.ICON_OPERATOR:return a.a.createElement(Rr,null);case Me.ICON_BANNED:return a.a.createElement(Pr,null);case Me.ICON_MUTED:return a.a.createElement(Dr,null);case Me.ICON_MUTED_FG:return a.a.createElement(jr,null);case Me.ICON_FREEZE:return a.a.createElement(Br,null);case Me.TOGGLE_ON:return a.a.createElement(qr,null);case Me.TOGGLE_OFF:return a.a.createElement(Wr,null);default:return null}}(t))}$r.propTypes={type:s.a.oneOfType([s.a.oneOf(Object.keys(Me)),s.a.string]).isRequired,width:s.a.oneOfType([s.a.string,s.a.number]),height:s.a.oneOfType([s.a.string,s.a.number]),onClick:s.a.func,children:s.a.element,className:s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string)]),fillColor:s.a.oneOf(Object.keys(Qr))},$r.defaultProps={onClick:function(){},width:26,height:26,children:null,className:"",fillColor:Qr.DEFAULT};var Xr=Me,Zr=Qr,ea=function(e,t){return e&&e.coverUrl&&!new RegExp("^https://static.sendbird.com/sample/cover/cover_").test(e.coverUrl)?e.coverUrl:e&&e.members?e.members.filter(function(e){return e.userId!==t}).map(function(e){return e.profileUrl}):[]},ta=function(e){return!e||!e.coverUrl||!!new RegExp("^https://static.sendbird.com/sample/cover/cover_").test(e.coverUrl)};function na(e){var t=e.channel,n=e.userId,i=e.theme,s=e.height,o=void 0===s?56:s,l=e.width,u=void 0===l?56:l,c=t.isBroadcast,d=Object(r.useMemo)(function(){return c?ta(t)?"dark"===i?a.a.createElement($r,{type:Xr.BROADCAST_LARGE_DARK,width:u,height:o,className:"sendbird-chat-header__default--broadcast-channel-dark"}):a.a.createElement($r,{type:Xr.BROADCAST_LARGE_LIGHT,width:u,height:o,className:"sendbird-chat-header__default--broadcast-channel-light"}):a.a.createElement(Ie,{className:"sendbird-chat-header__avatar--broadcast-channel",src:ea(t,n),width:u,height:o}):a.a.createElement(Ie,{className:"sendbird-chat-header__avatar--group-channel",src:ea(t,n),width:u+"px",height:o+"px"})},[t.members,t.coverUrl,i]);return a.a.createElement(a.a.Fragment,null,d)}var ra={H_1:"H_1",H_2:"H_2",SUBTITLE_1:"SUBTITLE_1",SUBTITLE_2:"SUBTITLE_2",BODY_1:"BODY_1",BODY_2:"BODY_2",BUTTON_1:"BUTTON_1",BUTTON_2:"BUTTON_2",CAPTION_1:"CAPTION_1",CAPTION_2:"CAPTION_2",CAPTION_3:"CAPTION_3"},aa={ONBACKGROUND_1:"ONBACKGROUND_1",ONBACKGROUND_2:"ONBACKGROUND_2",ONBACKGROUND_3:"ONBACKGROUND_3",ONCONTENT_1:"ONCONTENT_1",ONCONTENT_2:"ONCONTENT_2",PRIMARY:"PRIMARY",ERROR:"ERROR"};var ia="sendbird-label";function sa(e){var t=e.type,n=e.color,r=e.children,i=e.className,s=Array.isArray(i)?[ia].concat(S(i)):[ia,i];return t&&s.push(function(e){switch(e){case ra.H_1:return"sendbird-label--h-1";case ra.H_2:return"sendbird-label--h-2";case ra.SUBTITLE_1:return"sendbird-label--subtitle-1";case ra.SUBTITLE_2:return"sendbird-label--subtitle-2";case ra.BODY_1:return"sendbird-label--body-1";case ra.BODY_2:return"sendbird-label--body-2";case ra.BUTTON_1:return"sendbird-label--button-1";case ra.BUTTON_2:return"sendbird-label--button-2";case ra.CAPTION_1:return"sendbird-label--caption-1";case ra.CAPTION_2:return"sendbird-label--caption-2";case ra.CAPTION_3:return"sendbird-label--caption-3";default:return null}}(t)),n&&s.push(function(e){switch(e){case aa.ONBACKGROUND_1:return"sendbird-label--color-onbackground-1";case aa.ONBACKGROUND_2:return"sendbird-label--color-onbackground-2";case aa.ONBACKGROUND_3:return"sendbird-label--color-onbackground-3";case aa.ONCONTENT_1:return"sendbird-label--color-oncontent-1";case aa.ONCONTENT_2:return"sendbird-label--color-oncontent-2";case aa.PRIMARY:return"sendbird-label--color-primary";case aa.ERROR:return"sendbird-label--color-error";default:return null}}(n)),a.a.createElement("div",{className:s.join(" ")},r)}sa.propTypes={type:s.a.oneOf([].concat(S(Object.keys(ra)),[""])),color:s.a.oneOf([].concat(S(Object.keys(aa)),[""])),children:s.a.oneOfType([s.a.string,s.a.number,s.a.element,s.a.any]),className:s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string)])},sa.defaultProps={type:"",color:"",className:[],children:null};var oa=ra,la=aa,ua=function(e){var t={en:{TRYING_TO_CONNECT:"Trying to connect\u2026",CHANNEL_LIST__TITLE:"Channels",CHANNEL__MESSAGE_INPUT__PLACE_HOLDER:"Enter message",CHANNEL__MESSAGE_INPUT__PLACE_HOLDER__DISABLED:"Chat is unavailable in this channel",CHANNEL__MESSAGE_INPUT__PLACE_HOLDER__MUTED:"Chat is unavailable because you are being muted",CHANNEL__MESSAGE_LIST__NOTIFICATION__NEW_MESSAGE:"new message(s) since",CHANNEL__MESSAGE_LIST__NOTIFICATION__ON:"on",CHANNEL_SETTING__HEADER__TITLE:"Channel information",CHANNEL_SETTING__PROFILE__EDIT:"Edit",CHANNEL_SETTING__MEMBERS__TITLE:"Members",CHANNEL_SETTING__MEMBERS__SEE_ALL_MEMBERS:"All members",CHANNEL_SETTING__MEMBERS__INVITE_MEMBER:"Invite users",CHANNEL_SETTING__LEAVE_CHANNEL__TITLE:"Leave channel",CHANNEL_SETTING__OPERATORS__TITLE:"Operators",CHANNEL_SETTING__OPERATORS__TITLE_ALL:"All operators",CHANNEL_SETTING__OPERATORS__TITLE_ADD:"Add operator",CHANNEL_SETTING__MUTED_MEMBERS__TITLE:"Muted members",CHANNEL_SETTING__MUTED_MEMBERS__TITLE_ALL:"All muted members",CHANNEL_SETTING__BANNED_MEMBERS__TITLE:"Banned members",CHANNEL_SETTING__BANNED_MEMBERS__TITLE_ALL:"All banned members",CHANNEL_SETTING__FREEZE_CHANNEL:"Freeze Channel",BUTTON__CANCEL:"Cancel",BUTTON__DELETE:"Delete",BUTTON__SAVE:"Save",BUTTON__CREATE:"Create",BUTTON__INVITE:"Invite",BUTTON__CLOSE:"Close",BADGE__OVER:"+",MODAL__DELETE_MESSAGE__TITLE:"Delete this message?",MODAL__CHANNEL_INFORMATION__TITLE:"Edit channel information",MODAL__CHANNEL_INFORMATION__CHANNEL_IMAGE:"Channel image",MODAL__CHANNEL_INFORMATION__UPLOAD:"Upload",MODAL__CHANNEL_INFORMATION__CHANNEL_NAME:"Channel name",MODAL__CHANNEL_INFORMATION__INPUT__PLACE_HOLDER:"Enter name",MODAL__INVITE_MEMBER__TITLE:"Invite member",MODAL__INVITE_MEMBER__SELECTEC:"selected",MODAL__CREATE_CHANNEL__TITLE:"New channel",MODAL__CREATE_CHANNEL__SELECTED:"selected",MODAL__USER_LIST__TITLE:"members",TYPING_INDICATOR__IS_TYPING:"is typing...",TYPING_INDICATOR__AND:"and",TYPING_INDICATOR__ARE_TYPING:"are typing...",TYPING_INDICATOR__MULTIPLE_TYPING:"Several people are typing...",MESSAGE_STATUS__SENDING_FAILED:"Couldn't send message.",MESSAGE_STATUS__TRY_AGAIN:"Try again",MESSAGE_STATUS__OR:"or",MESSAGE_STATUS__DELETE:"delete",PLACE_HOLDER__NO_CHANNEL:"No channels",CHANNEL_FROZEN:"Channel frozen",MUTED_PL:"Channel frozen",PLACE_HOLDER__WRONG:"Something went wrong",PLACE_HOLDER__RETRY_TO_CONNECT:"Retry",NO_TITLE:"No title",NO_NAME:"(No name)",NO_MEMBERS:"(No members)",TOOLTIP__AND_YOU:", and you",TOOLTIP__YOU:"you",TOOLTIP__UNKOWN_USER:"(no name)",UNKNOWN__UNKNOWN_MESSAGE_TYPE:"(Unknown message type)",UNKNOWN__CANNOT_READ_MESSAGE:"Cannot read this message.",MESSAGE_EDITED:"(edited)"}};return t&&t[e]?t[e]:{}}("en");function ca(e){var t=e.count,n=e.maxLevel,r=e.className,i=parseInt("9".repeat(n>6?6:n),10),s=Array.isArray(r)?r:[r];return a.a.createElement("div",{className:[].concat(S(s),["sendbird-badge"]).join(" ")},a.a.createElement("div",{className:"sendbird-badge__text"},a.a.createElement(sa,{type:oa.CAPTION_2,color:la.ONCONTENT_1},t>i?"".concat(i).concat(ua.BADGE__OVER):t)))}ca.propTypes={count:s.a.number.isRequired,maxLevel:s.a.number,className:s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string)])},ca.defaultProps={maxLevel:2,className:[]};var da={PENDING:"PENDING",SENT:"SENT",DELIVERED:"DELIVERED",READ:"READ",FAILED:"FAILED"},fa=function(e,t){if(null===e||void 0===e)return"";if(e.length<=t)return e;var n=t-"...".length,r=Math.ceil(n/2),a=Math.floor(n/2);return e.substr(0,r)+"..."+e.substr(e.length-a)},ha=function(e){return e===da.SENT||e===da.DELIVERED||e===da.READ},pa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return e&&(e.name||e.members)?e.name&&"Group Channel"!==e.name?e.name:1===e.members.length?ua.NO_MEMBERS:e.members.filter(function(e){return e.userId!==t}).map(function(e){return e.nickname||ua.NO_NAME}).join(", "):ua.NO_TITLE},ma=function(e){if(!e||!e.lastMessage)return"";var t=c()(e.lastMessage.createdAt);switch(t.calendar().split(" ")[0]){case"Today":return t.format("LT");case"Yesterday":return"Yesterday";default:return t.format("ll").split(",")[0]}},ga=function(e){return e&&e.memberCount?e.memberCount:0},ya=function(e){return e&&e.lastMessage?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.messageType,n=e.name;return"file"===t?fa(n,30):e.message}(e.lastMessage):""},_a=function(e){return e&&e.unreadMessageCount?e.unreadMessageCount:0};function va(e){var t=e.channel,n=e.isActive,r=e.ChannelAction,i=e.theme,s=e.onClick,o=e.tabIndex,l=e.currentUser.userId,u=t.isBroadcast,c=t.isFrozen;return a.a.createElement("div",{role:"link",tabIndex:o,onClick:s,onKeyPress:s,className:"\n        sendbird-channel-preview\n        ".concat(n?"sendbird-channel-preview--active":null,"\n      ")},a.a.createElement("div",{className:"sendbird-channel-preview__avatar"},a.a.createElement(na,{channel:t,userId:l,theme:i})),a.a.createElement("div",{className:"sendbird-channel-preview__content"},a.a.createElement("div",{className:"sendbird-channel-preview__content__upper"},a.a.createElement("div",{className:"sendbird-channel-preview__content__upper__header"},u&&a.a.createElement("div",{className:"sendbird-channel-preview__broadcast-icon"},a.a.createElement($r,{type:"dark"===i?Xr.BROADCAST_DARK:Xr.BROADCAST_LIGHT,height:12,width:12})),a.a.createElement(sa,{className:"sendbird-channel-preview__content__upper__header__channel-name",type:oa.SUBTITLE_2,color:la.ONBACKGROUND_1},pa(t,l)),a.a.createElement(sa,{className:"sendbird-channel-preview__content__upper__header__total-members",type:oa.CAPTION_2,color:la.ONBACKGROUND_2},ga(t)),c&&a.a.createElement("div",{title:"Frozen",className:"sendbird-channel-preview__frozen-icon"},a.a.createElement($r,{type:"dark"===i?Xr.FROZEN_DARK:Xr.FROZEN_LIGHT,height:12,width:12}))),a.a.createElement(sa,{className:"sendbird-channel-preview__content__upper__last-message-at",type:oa.CAPTION_3,color:la.ONBACKGROUND_2},ma(t))),a.a.createElement("div",{className:"sendbird-channel-preview__content__lower"},a.a.createElement(sa,{className:"sendbird-channel-preview__content__lower__last-message",type:oa.BODY_2,color:la.ONBACKGROUND_3},ya(t)),a.a.createElement("div",{className:"sendbird-channel-preview__content__lower__unread-message-count"},_a(t)?a.a.createElement(ca,{count:_a(t)}):null))),a.a.createElement("div",{className:"sendbird-channel-preview__action"},r))}va.propTypes={isActive:s.a.bool,theme:s.a.string,channel:s.a.shape({members:s.a.arrayOf(s.a.shape({})),coverUrl:s.a.string,isBroadcast:s.a.bool,isFrozen:s.a.bool}),ChannelAction:s.a.element.isRequired,onClick:s.a.func,tabIndex:s.a.number,currentUser:s.a.shape({userId:s.a.string})},va.defaultProps={channel:{},isActive:!1,theme:"light",onClick:function(){},tabIndex:0,currentUser:{}};var Ea=a.a.forwardRef(function(e,t){var n=e.children,i=e.className,s=e.disabled,o=void 0!==s&&s,l=e.type,u=e.height,c=e.width,d=e.onClick,f=N(Object(r.useState)(""),2),h=f[0],p=f[1],m=Array.isArray(i)?i:[i];return m.unshift("sendbird-iconbutton"),a.a.createElement("button",{className:"".concat(m.join(" ")," ").concat(h),disabled:o,ref:t,type:l,style:{height:u,width:c},onClick:function(e){o||(p("sendbird-iconbutton--pressed"),d(e))},onBlur:function(){p("")}},a.a.createElement("span",{className:"sendbird-iconbutton__inner"},n))});function ba(e){var t=e.title,n=e.iconButton;return a.a.createElement("div",{className:"sendbird-channel-header"},a.a.createElement("div",{className:"sendbird-channel-header__title"},a.a.createElement(sa,{type:oa.H_2,color:la.ONBACKGROUND_1},t||ua.CHANNEL_LIST__TITLE)),a.a.createElement("div",{className:"sendbird-channel-header__right-icon"},n))}Ea.propTypes={height:s.a.string,width:s.a.string,className:s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string)]),children:s.a.oneOfType([s.a.element,s.a.arrayOf(s.a.element),s.a.any]).isRequired,type:s.a.string,disabled:s.a.bool,onClick:s.a.func},Ea.defaultProps={height:"56px",width:"56px",className:"",type:"button",disabled:!1,onClick:function(){}},ba.propTypes={title:s.a.string,iconButton:s.a.oneOfType([s.a.element,s.a.instanceOf(Ea)])},ba.defaultProps={title:"",iconButton:null};var Ca={LOADING:"LOADING",NO_CHANNELS:"NO_CHANNELS",WRONG:"WRONG"},Na="sendbird-modal-root",Sa={PRIMARY:"PRIMARY",SECONDARY:"SECONDARY",DANGER:"DANGER",DISABLED:"DISABLED"},Ta={BIG:"BIG",SMALL:"SMALL"};function Oa(e){switch(e){case Sa.PRIMARY:return"sendbird-button--primary";case Sa.SECONDARY:return"sendbird-button--secondary";case Sa.DANGER:return"sendbird-button--danger";case Sa.DISABLED:return"sendbird-button--disabled";default:return null}}function wa(e){switch(e){case Ta.BIG:return"sendbird-button--big";case Ta.SMALL:return"sendbird-button--small";default:return null}}function ka(e){var t=e.type,n=e.size,r=e.children,i=e.disabled,s=e.onClick,o=e.className,l=["sendbird-button",i?"sendbird-button__disabled":"",Oa(t),wa(n)].concat(S(Array.isArray(o)?o:[o])).join(" ");return a.a.createElement("button",{type:"button",className:l,onClick:s,disabled:i},a.a.createElement(sa,{className:"sendbird-button__text",type:oa.BUTTON_1,color:la.ONCONTENT_1},r))}ka.propTypes={children:s.a.oneOfType([s.a.string,s.a.element,s.a.arrayOf(s.a.element)]),disabled:s.a.bool,type:s.a.oneOf(Object.keys(Sa)),size:s.a.oneOf(Object.keys(Ta)),onClick:s.a.func,className:s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string)])},ka.defaultProps={children:"Button",type:Sa.PRIMARY,disabled:!1,size:Ta.BIG,onClick:function(){},className:""};var Aa=function(e){var t=e.titleText;return a.a.createElement("div",{className:"sendbird-modal-header"},a.a.createElement(sa,{type:oa.H_1,color:la.ONBACKGROUND_1},t))};Aa.propTypes={titleText:s.a.string.isRequired};var Ra=function(e){var t=e.children;return a.a.createElement("div",{className:"sendbird-modal-body"},t)};Ra.propTypes={children:s.a.oneOfType([s.a.element.isRequired,s.a.arrayOf(s.a.element.isRequired)])},Ra.defaultProps={children:null};var Ia=function(e){var t=e.onSubmit,n=e.onCancel,r=e.disabled,i=void 0!==r&&r,s=e.submitText,o=e.type;return a.a.createElement("div",{className:"sendbird-modal-footer"},a.a.createElement(ka,{type:Sa.SECONDARY,onClick:n},a.a.createElement(sa,{type:oa.BUTTON_1,color:la.ONBACKGROUND_1},ua.BUTTON__CANCEL)),a.a.createElement(ka,{type:o,disabled:i,onClick:t},s))};function Ma(e){var t=e.children,n=e.onCancel,r=e.onSubmit,i=e.disabled,s=e.submitText,o=e.titleText,l=e.hideFooter,u=e.type;return Object(d.createPortal)(a.a.createElement("div",{className:"sendbird-modal"},a.a.createElement("div",{className:"sendbird-modal-content"},a.a.createElement(Aa,{titleText:o}),a.a.createElement(Ra,null,t),!l&&a.a.createElement(Ia,{disabled:i,onCancel:n,onSubmit:r,submitText:s,type:u}),a.a.createElement("div",{className:"sendbird-modal-close"},a.a.createElement(Ea,{width:"32px",height:"32px",onClick:n},a.a.createElement($r,{type:Xr.CLOSE,fillColor:Zr.SECONDARY,width:"24px",height:"24px"})))),a.a.createElement("div",{className:"sendbird-modal-backdrop"})),document.getElementById(Na))}function Pa(e){var t=e.height,n=void 0===t?24:t,r=e.width,i=void 0===r?24:r;return a.a.createElement("div",{className:"sendbird-muted-avatar",style:{height:n+"px",width:i+"px"}},a.a.createElement("div",{className:"sendbird-muted-avatar__icon"},a.a.createElement("div",{className:"sendbird-muted-avatar__bg",style:{height:n+"px",width:i+"px"}}),a.a.createElement($r,{fillColor:Zr.WHITE,type:Xr.ICON_MUTED,width:n-8+"px",height:i-8+"px"})))}function Ua(e){var t=e.id,n=e.checked,i=e.onChange,s=N(Object(r.useState)(n),2),o=s[0],l=s[1];return a.a.createElement("label",{className:"sendbird-checkbox",htmlFor:t},a.a.createElement("input",{id:t,type:"checkbox",checked:o,onClick:function(){return l(!o)},onChange:i}),a.a.createElement("span",{className:"sendbird-checkbox--checkmark"}))}Ia.propTypes={onCancel:s.a.func.isRequired,onSubmit:s.a.func.isRequired,submitText:s.a.string.isRequired,disabled:s.a.bool,type:s.a.string},Ia.defaultProps={disabled:!1,type:Sa.DANGER},Ma.propTypes={children:s.a.oneOfType([s.a.element,s.a.arrayOf(s.a.element)]),onCancel:s.a.func.isRequired,onSubmit:s.a.func.isRequired,hideFooter:s.a.bool,disabled:s.a.bool,type:s.a.string},Ma.defaultProps={children:null,hideFooter:!1,disabled:!1,type:Sa.DANGER},Ua.propTypes={id:s.a.string,checked:s.a.bool,onChange:s.a.func},Ua.defaultProps={id:"sendbird-checkbox-input",checked:!1,onChange:function(){}};var La="sendbird-user-list-item";function Da(e){var t=e.user,n=e.className,r=e.checkBox,i=e.currentUser,s=e.checked,o=e.onChange,l=e.action,u=Array.isArray(n)?n:[n],c=t.userId,d=a.a.useRef(null),f=a.a.useRef(null);return a.a.createElement("div",{ref:f,className:[La].concat(S(u)).join(" ")},t.isMuted&&a.a.createElement(Pa,{height:40,width:40}),a.a.createElement(Ie,{className:"".concat(La,"__avatar"),src:t.profileUrl,width:"40px",height:"40px"}),a.a.createElement(sa,{className:"".concat(La,"__title"),type:oa.SUBTITLE_1,color:la.ONBACKGROUND_1},t.nickname||ua.NO_NAME,i===t.userId&&" (You)"),!t.nickname&&a.a.createElement(sa,{className:"".concat(La,"__subtitle"),type:oa.CAPTION_3,color:la.ONBACKGROUND_2},t.userId),r&&a.a.createElement("label",{className:"".concat(La,"__checkbox"),htmlFor:c},a.a.createElement(Ua,{id:c,checked:s,onChange:function(e){return o(e)}})),"operator"===t.role&&a.a.createElement(sa,{className:"".concat(La,"__operator"),type:oa.SUBTITLE_2,color:la.ONBACKGROUND_2},"Operator"),l&&a.a.createElement("div",{ref:d,className:"".concat(La,"__action")},l({actionRef:d,parentRef:f})))}Da.propTypes={user:s.a.shape({userId:s.a.string,role:s.a.string,isMuted:s.a.bool,nickname:s.a.string,profileUrl:s.a.string}).isRequired,className:s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string)]),currentUser:s.a.string,action:s.a.element,checkBox:s.a.bool,checked:s.a.bool,onChange:s.a.func},Da.defaultProps={className:"",currentUser:"",checkBox:!1,checked:!1,action:null,onChange:function(){}};var xa=function(e){var t=e.userQueryCreator,n=e.closeModal,i=e.onSubmit,s=e.submitText,o=e.titleText,l=e.idsToFilter,u=e.swapParams,c=N(Object(r.useState)([]),2),d=c[0],f=c[1],h=N(Object(r.useState)({}),2),p=h[0],g=h[1],_=N(Object(r.useState)({}),2),v=_[0],E=_[1],b=Object.keys(p).length;return Object(r.useEffect)(function(){var e=t();E(e),e.next(function(e,t){var n=e,r=t;u&&(r=n=t),r||f(n)})},[]),a.a.createElement(Ma,{onCancel:n,onSubmit:function(){var e=Object.keys(p);e.length>0&&(i(e),n())},submitText:s,titleText:o,type:Sa.PRIMARY},a.a.createElement("div",null,a.a.createElement(sa,{color:b>0?la.PRIMARY:la.ONBACKGROUND_3,type:oa.CAPTION_1},"".concat(b," ").concat(ua.MODAL__INVITE_MEMBER__SELECTEC)),a.a.createElement("div",{className:"sendbird-create-channel--scroll",onScroll:function(e){var t=v.hasNext,n=e.target.clientHeight+e.target.scrollTop===e.target.scrollHeight;t&&n&&v.next(function(e,t){t||f([].concat(S(d),S(e)))})}},d.map(function(e){return!function(e){return function(t){return e.includes(t)}}(l)(e.userId)&&a.a.createElement(Da,{key:e.userId,user:e,checkBox:!0,checked:p[e.userId],onChange:function(e){var t=y({},p,m({},e.target.id,e.target.checked));e.target.checked||delete t[e.target.id],g(t)}})}))))};xa.propTypes={idsToFilter:s.a.arrayOf(s.a.string),swapParams:s.a.bool,userQueryCreator:s.a.func.isRequired,closeModal:s.a.func.isRequired,onSubmit:s.a.func.isRequired,submitText:s.a.string,titleText:s.a.string},xa.defaultProps={swapParams:!1,submitText:"create",titleText:"Create new channel",idsToFilter:[]};var Fa=function(e){var t=e.sdk,n=e.userFilledApplicationUserListQuery,r=void 0===n?{}:n,a=t.createApplicationUserListQuery();return r&&Object.keys(r).forEach(function(e){a[e]=r[e]}),a},ja=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).appInfo,t=(void 0===e?{}:e).applicationAttributes;return void 0===t?[]:t},Ha=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=ja(e);return!!Array.isArray(t)&&t.includes("allow_broadcast_channel")},Ga=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=ja(e);return!!Array.isArray(t)&&t.includes("allow_super_group_channel")},Ba=function(e,t){return"broadcast"===t&&(e.isBroadcast=!0),"supergroup"===t&&(e.isSuper=!0),e},za=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"group";return new Promise(function(i,s){if(n){var o=n(t);return Ba(o,a),void e.GroupChannel.createChannel(o,function(t,n){var r=t,a=n;e.getErrorFirstCallback()&&(r=n,a=t),a&&s(a),i(r)})}var l=new e.GroupChannelParams;l.addUserIds(t),l.isDistinct=!1,r&&(l.operatorUserIds=[r]),Ba(l,a),e.GroupChannel.createChannel(l,function(t,n){var r=t,a=n;e.getErrorFirstCallback()&&(r=n,a=t),a&&s(a),i(r)})})};function Va(e){var t=e.sdk,n=e.disabled,i=e.channelListDispatcher,s=e.onBeforeCreateChannel,o=e.userId,l=e.userFilledApplicationUserListQuery,u=e.userListQuery,c=N(Object(r.useState)(!1),2),d=c[0],f=c[1],h=N(Object(r.useState)(0),2),p=h[0],m=h[1],g=N(Object(r.useState)("group"),2),y=g[0],_=g[1];if(!t||!t.createApplicationUserListQuery)return null;var v=Ha(t),E=Ga(t);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ea,{height:"32px",width:"32px",onClick:function(){f(!0)},disabled:n},a.a.createElement($r,{type:Xr.CREATE,fillColor:Zr.PRIMARY,width:"24px",height:"24px"})),d&&0===p&&a.a.createElement(Ma,{titleText:"New channel",hideFooter:!0,onCancel:function(){f(!1)},onSubmit:function(){}},a.a.createElement("div",{className:"sendbird-add-channel__rectangle-wrap"},a.a.createElement("div",{className:"sendbird-add-channel__rectangle",onClick:function(){_("group"),m(1)},role:"button",tabIndex:0,onKeyDown:function(){_("group"),m(1)}},a.a.createElement($r,{type:Xr.CHAT}),a.a.createElement(sa,{type:oa.SUBTITLE_1,color:la.ONBACKGROUND_1},"Group")),E&&a.a.createElement("div",{className:"sendbird-add-channel__rectangle",onClick:function(){_("supergroup"),m(1)},role:"button",tabIndex:0,onKeyDown:function(){_("supergroup"),m(1)}},a.a.createElement($r,{type:Xr.SUPER_GROUP}),a.a.createElement(sa,{type:oa.SUBTITLE_1,color:la.ONBACKGROUND_1},"Super group")),v&&a.a.createElement("div",{className:"sendbird-add-channel__rectangle",onClick:function(){_("broadcast"),m(1)},role:"button",tabIndex:0,onKeyDown:function(){_("broadcast"),m(1)}},a.a.createElement($r,{type:Xr.BROADCAST}),a.a.createElement(sa,{type:oa.SUBTITLE_1,color:la.ONBACKGROUND_1},"Broadcast")))),d&&1===p&&a.a.createElement(xa,{swapParams:t&&t.getErrorFirstCallback&&t.getErrorFirstCallback(),titleText:ua.MODAL__CREATE_CHANNEL__TITLE,submitText:ua.BUTTON__CREATE,closeModal:function(){m(0),f(!1)},idsToFilter:[o],userQueryCreator:function(){return u&&"function"===typeof u?u():Fa({sdk:t,userFilledApplicationUserListQuery:l})},onSubmit:function(e){return za(t,e,s,o,y).then(function(e){i({type:J,payload:e})})}}))}Va.propTypes={sdk:s.a.shape({getErrorFirstCallback:s.a.func,createApplicationUserListQuery:s.a.func}).isRequired,disabled:s.a.bool,channelListDispatcher:s.a.func.isRequired,userFilledApplicationUserListQuery:s.a.shape({}),onBeforeCreateChannel:s.a.func,userId:s.a.string.isRequired,userListQuery:s.a.func},Va.defaultProps={disabled:!1,userFilledApplicationUserListQuery:{},onBeforeCreateChannel:null,userListQuery:null};var qa=function(e){function t(e){var n;return f(this,t),m(b(n=C(this,v(t).call(this,e))),"showParent",function(){var e=n.props.parentContainRef,t=void 0===e?{}:e,r=t.current;t&&r&&r.classList.add("sendbird-icon--pressed")}),m(b(n),"hideParent",function(){var e=n.props.parentContainRef,t=void 0===e?{}:e,r=t.current;t&&r&&r.classList.remove("sendbird-icon--pressed")}),m(b(n),"setupEvents",function(){var e=n.props.closeDropdown,t=b(n).menuRef,r=function(n){t.current&&!t.current.contains(n.target)&&e()};n.setState({handleClickOutside:r}),document.addEventListener("mousedown",r)}),m(b(n),"cleanUpEvents",function(){var e=n.state.handleClickOutside;document.removeEventListener("mousedown",e)}),m(b(n),"getMenuPosition",function(){var e=n.props,t=e.parentRef,r=e.openLeft,a=t.current.getBoundingClientRect(),i=a.x||a.left,s=a.y||a.top,o={top:s,left:i};if(!n.menuRef.current)return o;var l=window,u=l.innerWidth,c=l.innerHeight,d=n.menuRef.current.getBoundingClientRect();if(s+d.height>c&&(o.top-=d.height),i+d.width>u&&!r&&(o.left-=d.width),o.top<0&&(o.top=d.height<c?(c-d.height)/2:0),o.left<0&&(o.left=d.width<u?(u-d.width)/2:0),o.top+=32,r){var f=Number.isNaN(d.width-30)?108:d.width-30;o.left-=f}return n.setState({menuStyle:o})}),n.menuRef=a.a.createRef(),n.state={menuStyle:{},handleClickOutside:function(){}},n}return _(t,r["Component"]),p(t,[{key:"componentDidMount",value:function(){this.setupEvents(),this.getMenuPosition(),this.showParent()}},{key:"componentWillUnmount",value:function(){this.cleanUpEvents(),this.hideParent()}},{key:"render",value:function(){var e=this.state.menuStyle,t=this.props.children;return Object(d.createPortal)(a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"sendbird-dropdown__menu-backdrop"}),a.a.createElement("ul",{className:"sendbird-dropdown__menu",ref:this.menuRef,style:{display:"inline-block",position:"fixed",left:"".concat(Math.round(e.left),"px"),top:"".concat(Math.round(e.top),"px")}},t)),document.getElementById("sendbird-dropdown-portal"))}}]),t}();qa.propTypes={closeDropdown:s.a.func.isRequired,children:s.a.oneOfType([s.a.element,s.a.arrayOf(s.a.element)]).isRequired,parentRef:s.a.oneOfType([s.a.func,s.a.shape({current:s.a.instanceOf(Element)})]).isRequired,parentContainRef:s.a.oneOfType([s.a.func,s.a.shape({current:s.a.instanceOf(Element)})]).isRequired,openLeft:s.a.bool},qa.defaultProps={openLeft:!1};var Ya="sendbird-sort-by-row";function Ka(e){var t=e.className,n=e.maxItemCount,r=e.itemWidth,i=e.itemHeight,s=e.children,o=Array.isArray(t)?t:[t];if(o.unshift(Ya),s.length>n){for(var l=[],u=0;u<s.length;u+=n)l.push(a.a.createElement("div",{className:o.join(" "),style:{width:r*n,height:i},key:t+u},s.slice(u,u+n)));return l}return a.a.createElement("div",{className:o.join(" "),style:{width:r*s.length,height:i}},s)}Ka.propTypes={className:s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string)]),maxItemCount:s.a.number.isRequired,itemWidth:s.a.number.isRequired,itemHeight:s.a.number.isRequired,children:s.a.oneOfType([s.a.element,s.a.arrayOf(s.a.element),s.a.string,s.a.arrayOf(s.a.string)]).isRequired},Ka.defaultProps={className:""};var Wa=function(e){function t(e){var n;return f(this,t),m(b(n=C(this,v(t).call(this,e))),"showParent",function(){var e=n.props.parentContainRef,t=void 0===e?{}:e,r=t.current;t&&r&&r.classList.add("sendbird-reactions--pressed")}),m(b(n),"hideParent",function(){var e=n.props.parentContainRef,t=void 0===e?{}:e,r=t.current;t&&r&&r.classList.remove("sendbird-reactions--pressed")}),m(b(n),"setupEvents",function(){var e=n.props.closeDropdown,t=b(n).reactionRef,r=function(n){t.current&&!t.current.contains(n.target)&&e()};n.setState({handleClickOutside:r}),document.addEventListener("mousedown",r)}),m(b(n),"cleanUpEvents",function(){var e=n.state.handleClickOutside;document.removeEventListener("mousedown",e)}),m(b(n),"getBarPosition",function(){var e=n.props,t=e.parentRef,r=e.spaceFromTrigger,a=r.x||0,i=r.y||0,s=t.current.getBoundingClientRect(),o=s.x||s.left,l={top:s.y||s.top,left:o};if(!n.reactionRef.current)return l;var u=n.reactionRef.current.getBoundingClientRect();l.top<u.height?(l.top+=s.height,l.top+=i):(l.top-=u.height,l.top-=i),l.left-=u.width/2,l.left+=s.height/2-2,l.left+=a;var c=window.innerWidth-u.width;return c<l.left&&(l.left=c),l.left<0&&(l.left=0),n.setState({reactionStyle:l})}),n.reactionRef=a.a.createRef(),n.state={reactionStyle:{},handleClickOutside:function(){}},n}return _(t,r["Component"]),p(t,[{key:"componentDidMount",value:function(){this.setupEvents(),this.getBarPosition(),this.showParent()}},{key:"componentWillUnmount",value:function(){this.cleanUpEvents(),this.hideParent()}},{key:"render",value:function(){var e=this.state.reactionStyle,t=this.props.children;return Object(d.createPortal)(a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"sendbird-dropdown__menu-backdrop"}),a.a.createElement("ul",{className:"sendbird-dropdown__reaction-bar",ref:this.reactionRef,style:{display:"inline-block",position:"fixed",left:"".concat(Math.round(e.left),"px"),top:"".concat(Math.round(e.top),"px")}},a.a.createElement(Ka,{className:"sendbird-dropdown__reaction-bar__row",maxItemCount:8,itemWidth:44,itemHeight:40},t))),document.getElementById("sendbird-emoji-list-portal"))}}]),t}();Wa.propTypes={closeDropdown:s.a.func.isRequired,children:s.a.oneOfType([s.a.element,s.a.arrayOf(s.a.element)]).isRequired,parentRef:s.a.oneOfType([s.a.func,s.a.shape({current:s.a.instanceOf(Element)})]).isRequired,parentContainRef:s.a.oneOfType([s.a.func,s.a.shape({current:s.a.instanceOf(Element)})]).isRequired,spaceFromTrigger:s.a.shape({x:s.a.number,y:s.a.number})},Wa.defaultProps={spaceFromTrigger:{}};var Qa=qa,Ja=Wa,$a=function(e){var t=e.children,n=e.onClick,r=e.className,i=Array.isArray(r)?r:[r];return a.a.createElement("li",{tabIndex:0,className:[].concat(S(i),["sendbird-dropdown__menu-item"]).join(" "),onClick:n,onKeyPress:function(e){13===e.keyCode&&n(e)},role:"menuitem"},a.a.createElement(sa,{type:oa.SUBTITLE_2,color:la.ONBACKGROUND_1,className:"sendbird-dropdown__menu-item__text"},t))};function Xa(e){var t=e.menuTrigger,n=e.menuItems,i=N(Object(r.useState)(!1),2),s=i[0],o=i[1];return a.a.createElement("div",{className:"sendbird-context-menu",style:{display:"inline"}},t(function(){return o(!s)}),s&&n(function(){return o(!1)}))}$a.propTypes={onClick:s.a.func.isRequired,className:s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string)]),children:s.a.oneOfType([s.a.string,s.a.element]).isRequired},$a.defaultProps={className:""},Xa.propTypes={menuTrigger:s.a.func.isRequired,menuItems:s.a.func.isRequired};var Za=function(e){var t=e.onCloseModal,n=e.onLeaveChannel;return a.a.createElement(Ma,{onCancel:t,onSubmit:n,submitText:"Leave",titleText:"Leave this channel?"})};function ei(e){var t=e.disabled,n=e.onLeaveChannel,i=Object(r.useRef)(null),s=N(Object(r.useState)(!1),2),o=s[0],l=s[1];return a.a.createElement("div",{role:"button",style:{display:"inline-block"},onKeyDown:function(e){e.stopPropagation()},tabIndex:0,onClick:function(e){e.stopPropagation()}},a.a.createElement(Xa,{menuTrigger:function(e){return a.a.createElement(Ea,{ref:i,onClick:e,height:"32px",width:"32px"},a.a.createElement($r,{type:Xr.MORE,fillColor:Zr.PRIMARY,width:"24px",height:"24px"}))},menuItems:function(e){return a.a.createElement(Qa,{parentRef:i,parentContainRef:i,closeDropdown:e},a.a.createElement($a,{onClick:function(){t||(l(!0),e())}},ua.CHANNEL_SETTING__LEAVE_CHANNEL__TITLE))}}),o&&a.a.createElement(Za,{onCloseModal:function(){return l(!1)},onLeaveChannel:n}))}function ti(e){var t=e.children,n=e.className,r=e.width,i=e.height,s=Array.isArray(n)?n:[n];return a.a.createElement("div",{className:[].concat(S(s),["sendbird-loader"]).join(" "),style:{width:"string"===typeof r?r:"".concat(r,"px"),height:"string"===typeof i?i:"".concat(i,"px")}},t)}function ni(e){var t=e.className,n=e.type,r=e.retryToConnect,i=Array.isArray(t)?t:[t];return a.a.createElement("div",{className:[].concat(S(i),["sendbird-place-holder"]).join(" ")},n===Ca.LOADING?a.a.createElement(ti,{width:"48px",height:"48px"},a.a.createElement($r,{type:Xr.SPINNER_LARGE,width:"48px",height:"48px"})):null,n===Ca.NO_CHANNELS||n===Ca.WRONG?a.a.createElement("div",{className:"sendbird-place-holder__body"},n===Ca.NO_CHANNELS&&a.a.createElement($r,{className:"sendbird-place-holder__body__icon",type:Xr.CHAT,fillColor:Zr.ON_BACKGROUND_3,width:"64px",height:"64px"}),n===Ca.WRONG&&a.a.createElement($r,{className:"sendbird-place-holder__body__icon",type:Xr.ERROR,fillColor:Zr.ON_BACKGROUND_3,width:"64px",height:"64px"}),a.a.createElement(sa,{className:"sendbird-place-holder__body__text",type:oa.BODY_1,color:la.ONBACKGROUND_2},n===Ca.NO_CHANNELS?ua.PLACE_HOLDER__NO_CHANNEL:ua.PLACE_HOLDER__WRONG),r?a.a.createElement("div",{className:"sendbird-place-holder__body__reconnect",role:"button",tabIndex:0,onClick:r,onKeyPress:r},a.a.createElement($r,{className:"sendbird-place-holder__body__reconnect__icon",type:Xr.REFRESH,fillColor:Zr.PRIMARY,width:"20px",height:"20px"}),a.a.createElement(sa,{className:"sendbird-place-holder__body__reconnect__text",type:oa.BUTTON_1,color:la.PRIMARY},ua.PLACE_HOLDER__RETRY_TO_CONNECT)):null):null)}function ri(e){var t=e.type;return a.a.createElement("div",{className:"sendbird-channel-list"},a.a.createElement(ni,{type:t}))}Za.propTypes={onCloseModal:s.a.func.isRequired,onLeaveChannel:s.a.func.isRequired},ei.propTypes={disabled:s.a.bool,onLeaveChannel:s.a.func.isRequired},ei.defaultProps={disabled:!1},ti.propTypes={children:s.a.element,className:s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string)]),width:s.a.oneOfType([s.a.string,s.a.number]),height:s.a.oneOfType([s.a.string,s.a.number])},ti.defaultProps={children:a.a.createElement($r,{type:Xr.SPINNER,width:"26px",height:"26px"}),className:"",width:"26px",height:"26px"},ni.propTypes={className:s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string)]),type:s.a.oneOfType([s.a.oneOf(Object.keys(Ca)),s.a.string]).isRequired,retryToConnect:s.a.func},ni.defaultProps={className:"",retryToConnect:null},ri.propTypes={type:s.a.string.isRequired};var ai="SEND_MESSAGE_START",ii="UPDATE_USER_MESSAGE",si=function(e){var t=e.sdk,n=e.sdkChannelHandlerId,r=e.channelListDispatcher,a=e.logger,i=new t.ChannelHandler;i.onChannelChanged=function(e){a.info("ChannelList: onChannelChanged",e),r({type:de,payload:e})},i.onChannelDeleted=function(e){a.info("ChannelList: onChannelDeleted",e),r({type:le,payload:e})},i.onUserJoined=function(e){a.info("ChannelList: onUserJoined",e),e.lastMessage&&r({type:oe,payload:e})},i.onUserBanned=function(e,n){var i=t.currentUser;a.info("Channel | useHandleChannelEvents: onUserBanned",e),n.userId===i.userId?r({type:ce,payload:{channel:e,isMe:!0}}):r({type:ce,payload:{channel:e,isMe:!1}})},i.onUserLeft=function(e,n){var i=t.currentUser.userId===n.userId;a.info("ChannelList: onUserLeft",e),r({type:ce,payload:{channel:e,isMe:i}})},i.onReadStatus=function(e){a.info("ChannelList: onReadStatus",e),r({type:me,payload:e})},i.onDeliveryReceiptUpdated=function(e){a.info("ChannelList: onDeliveryReceiptUpdated",e),e.lastMessage&&r({type:ge,payload:e})},i.onMessageUpdated=function(e,t){e.lastMessage.isEqual(t)&&(a.info("ChannelList: onMessageUpdated",e),r({type:ue,payload:e}))},i.onChannelHidden=function(e){a.info("ChannelList: onChannelHidden",e),r({type:fe,payload:e.url})},i.onChannelFrozen=function(e){a.info("ChannelList: onChannelFrozen",e),r({type:he,payload:e})},i.onChannelUnfrozen=function(e){a.info("ChannelList: onChannelUnfrozen",e),r({type:pe,payload:e})},a.info("ChannelList: Added channelHandler"),t.addChannelHandler(n,i)},oi=function(e){var t=e.sdk,n=e.userFilledChannelListQuery,r=void 0===n?{}:n,a=t.GroupChannel.createMyGroupChannelListQuery();return a.includeEmpty=!1,a.order="latest_last_message",a.limit=20,r&&Object.keys(r).forEach(function(e){a[e]=r[e]}),a};var li=function(e){e.forEach(function(e){try{e.remove()}catch(t){}})},ui=function(e,t){var n=new Map;return e?(n.set("CREATE_CHANNEL",e.subscribe("CREATE_CHANNEL",function(e){var n=e.channel;t({type:"CREATE_CHANNEL",payload:n})})),n.set(ii,e.subscribe(ii,function(e){var n=e.channel,r=e.message,a=n;a.lastMessage=r,n&&t({type:ue,payload:a})})),n.set("LEAVE_CHANNEL",e.subscribe("LEAVE_CHANNEL",function(e){var n=e.channel;t({type:$,payload:n.url})})),n.set(ai,e.subscribe(ai,function(e){var n=e.channel;t({type:ye,payload:n})})),n):n};function ci(e){var t=e.stores,n=t.sdkStore,i=void 0===n?{}:n,s=t.userStore,o=void 0===s?{}:s,l=e.config,u=l.userId,c=l.isOnline,d=l.userListQuery,f=l.logger,h=l.pubSub,p=l.theme,m=e.queries,g=void 0===m?{}:m,y=e.renderChannelPreview,_=e.onBeforeCreateChannel,v=e.onChannelSelect,E=i.sdk,b=void 0===E?{}:E,C=g.channelListQuery,S=g.applicationUserListQuery,T=i.error,O=o.user,w=void 0===O?{}:O,k=i.initialized,A=N(Object(r.useReducer)(ve,_e),2),R=A[0],I=A[1],M=N(Object(r.useState)({}),2),P=M[0],U=M[1],L=N(Object(r.useState)(null),2),D=L[0],x=L[1],F=R.loading,H=R.currentChannel;Object(r.useEffect)(function(){var e=ui(h,I);return function(){li(e)}},[k]),Object(r.useEffect)(function(){return x(j),k?(f.info("ChannelList: Setup channelHandlers"),function(e){var t=e.sdk,n=e.sdkChannelHandlerId,r=e.channelListDispatcher,a=e.setChannelSource,i=e.onChannelSelect,s=e.userFilledChannelListQuery,o=e.logger;si({sdk:t,channelListDispatcher:r,sdkChannelHandlerId:n,logger:o}),o.info("ChannelList - creating query",{userFilledChannelListQuery:s});var l=oi({sdk:t,userFilledChannelListQuery:s});o.info("ChannelList - created query",l),a(l),r({type:ae}),o.info("ChannelList - fetching channels"),l.hasNext?l.next(function(e,n){var a=e,s=n;if(t.getErrorFirstCallback()&&(a=n,s=e),o.info("ChannelList - fetched channels",a),s)return o.error("ChannelList - couldnt fetch channels",s),void r({type:se});o.info("ChannelList - highlight channel",a[0]),i(a[0]),r({type:ie,payload:a}),a&&"function"===typeof a.forEach&&(o.info("ChannelList - mark all channels as delivered"),a.forEach(function(e){return e.markAsDelivered()}))}):o.warning("ChannelList - there are no more channels")}({sdk:b,sdkChannelHandlerId:D,channelListDispatcher:I,setChannelSource:U,onChannelSelect:v,userFilledChannelListQuery:C,logger:f})):(f.info("ChannelList: Removing channelHandlers"),b&&b.removeChannelHandler&&b.removeChannelHandler(D),U({}),I({type:Q})),function(){f.info("ChannelList: Removing channelHandlers"),b&&b.removeChannelHandler&&b.removeChannelHandler(D)}},[k,C]);var G=R.allChannels;return Object(r.useEffect)(function(){b&&b.GroupChannel&&b.GroupChannel.getChannel(H,function(e){v(e||null)})},[H]),a.a.createElement("div",{className:"sendbird-channel-list"},a.a.createElement("div",{className:"sendbird-channel-list__header"},a.a.createElement(ba,{title:"Channels",iconButton:a.a.createElement(Va,{disabled:!c,userListQuery:d,sdk:b,channelListDispatcher:I,userId:u,userFilledApplicationUserListQuery:S,onBeforeCreateChannel:_})})),a.a.createElement("div",{className:"sendbird-channel-list__body",onScroll:function(e){e.target.clientHeight+e.target.scrollTop===e.target.scrollHeight&&P.hasNext&&(f.info("ChannelList: Fetching more channels"),I({type:te}),P.next(function(e,t){var n=e,r=t;if(b.getErrorFirstCallback()&&(n=t,r=e),r)return f.info("ChannelList: Fetching channels failed",r),void I({type:re,payload:n});f.info("ChannelList: Fetching channels successful",n),I({type:ne,payload:n}),n&&"function"===typeof n.forEach&&(f.info("ChannelList: Marking all channels as read"),n.forEach(function(e){return e.markAsDelivered()}))}))}},T&&a.a.createElement(ri,{type:Ca.WRONG}),a.a.createElement("div",null,G&&G.map(function(e,t){var n=function(t,n){f.info("ChannelList: Leaving channel",t),t.leave().then(function(t){f.info("ChannelList: Leaving channel success",t),n&&"function"===typeof n&&n(t,null),I({type:$,payload:e.url})}).catch(function(e){f.error("ChannelList: Leaving channel failed",e),n&&"function"===typeof n&&n(null,e)})},r=function(){c&&(f.info("ChannelList: Clicked on channel:",e),I({type:X,payload:e.url}))};return y?a.a.createElement("div",{key:e.url,onClick:r},y({channel:e,onLeaveChannel:n})):a.a.createElement(va,{key:e.url,tabIndex:t,onClick:r,channel:e,currentUser:w,theme:p,isActive:e.url===H,ChannelAction:a.a.createElement(ei,{disabled:!c,onLeaveChannel:function(){return n(e)}})})})),(!k||F)&&a.a.createElement(ri,{type:Ca.LOADING}),(!G||0===G.length)&&a.a.createElement(ri,{type:Ca.NO_CHANNELS})))}ci.propTypes={stores:s.a.shape({sdkStore:s.a.shape({initialized:s.a.bool}),userStore:s.a.shape({user:s.a.shape({})})}).isRequired,config:s.a.shape({userId:s.a.string.isRequired,userListQuery:s.a.func,theme:s.a.string,isOnline:s.a.bool,logger:s.a.shape({info:s.a.func,error:s.a.func,warning:s.a.func}),pubSub:s.a.shape({subscribe:s.a.func,publish:s.a.func})}).isRequired,queries:s.a.shape({channelListQuery:s.a.shape({channelNameContainsFilter:s.a.string,channelUrlsFilter:s.a.arrayOf(s.a.string),customTypesFilter:s.a.arrayOf(s.a.string),customTypeStartsWithFilter:s.a.string,hiddenChannelFilter:s.a.string,includeEmpty:s.a.bool,limit:s.a.number,memberStateFilter:s.a.string,metadataOrderKeyFilter:s.a.string,nicknameContainsFilter:s.a.string,order:s.a.string,publicChannelFilter:s.a.string,superChannelFilter:s.a.string,unreadChannelFilter:s.a.string,userIdsExactFilter:s.a.arrayOf(s.a.string),userIdsIncludeFilter:s.a.arrayOf(s.a.string),userIdsIncludeFilterQueryType:s.a.string}),applicationUserListQuery:s.a.shape({limit:s.a.number,userIdsFilter:s.a.arrayOf(s.a.string),metaDataKeyFilter:s.a.string,metaDataValuesFilter:s.a.arrayOf(s.a.string)})}),onBeforeCreateChannel:s.a.func,renderChannelPreview:s.a.oneOfType([s.a.element,s.a.func]),onChannelSelect:s.a.func},ci.defaultProps={onBeforeCreateChannel:null,renderChannelPreview:null,queries:{},onChannelSelect:function(){}};var di=O(ci),fi="RESET_MESSAGES",hi="RESET_STATE",pi="CLEAR_SENT_MESSAGES",mi="GET_PREV_MESSAGES_START",gi="GET_PREV_MESSAGES_SUCESS",yi="SEND_MESSAGEGE_START",_i="SEND_MESSAGEGE_SUCESS",vi="SEND_MESSAGEGE_FAILURE",Ei="RESEND_MESSAGEGE_START",bi="ON_MESSAGE_RECEIVED",Ci="ON_MESSAGE_UPDATED",Ni="ON_MESSAGE_DELETED",Si="ON_MESSAGE_DELETED_BY_REQ_ID",Ti="SET_CURRENT_CHANNEL",Oi="SET_CHANNEL_INVALID",wi="MARK_AS_READ",ki="ON_REACTION_UPDATED",Ai="SET_EMOJI_CONTAINER",Ri="SET_READ_STATUS",Ii=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!(n>10))try{var r=document.querySelectorAll(t);r[r.length-1].scrollIntoView(!1)}catch(a){setTimeout(function(){e(t,n+1)},500*n)}},Mi=function(e,t){return"failed"===e.requestState?da.FAILED:"pending"===e.requestState?da.PENDING:"succeeded"===e.requestState?t?0===t.getReadReceipt(e)?da.READ:0===t.getDeliveryReceipt(e)?da.DELIVERED:da.SENT:da.SENT:null},Pi=function(){return"operator"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).myRole},Ui=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.isFrozen&&!Pi(e)},Li=function(){return"muted"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).myMutedState},Di=function(){for(var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).emojiCategories,t=void 0===e?[]:e,n=[],r=0;r<t.length;r+=1)for(var a=t[r].emojis,i=0;i<a.length;i+=1)n.push(a[i]);return n},xi={initialized:!1,loading:!1,allMessages:[],currentGroupChannel:{members:[]},hasMore:!1,lastMessageTimeStamp:0,emojiContainer:{},readStatus:{},unreadCount:0,unreadSince:null,isInvalid:!1},Fi=function(e){return null===e||void 0===e};function ji(e,t){return!Fi(e)&&!Fi(t)&&e.toString()===t.toString()}function Hi(e,t){switch(t.type){case hi:return xi;case fi:return y({},e,{hasMore:!1,allMessages:[]});case mi:return y({},e,{loading:!0});case pi:return y({},e,{allMessages:S(e.allMessages.filter(function(e){return"succeeded"!==e.sendingStatus}))});case gi:var n=t.payload.messages||[],r=t.payload.currentGroupChannel,a=void 0===r?{}:r,i=(e.currentGroupChannel||{}).url;if(a.url!==i)return e;var s=e.allMessages.filter(function(e){return!n.find(function(t){return ji(t.messageId,e.messageId)})});return y({},e,{loading:!1,initialized:!0,hasMore:t.payload.hasMore,lastMessageTimeStamp:t.payload.lastMessageTimeStamp,allMessages:[].concat(S(n),S(s))});case yi:return y({},e,{allMessages:[].concat(S(e.allMessages),[y({},t.payload)])});case _i:return y({},e,{allMessages:e.allMessages.map(function(e){return ji(e.reqId,t.payload.reqId)?t.payload:e})});case vi:return t.payload.failed=!0,y({},e,{allMessages:e.allMessages.map(function(e){return ji(e.reqId,t.payload.reqId)?t.payload:e})});case Ti:return y({},e,{currentGroupChannel:t.payload,isInvalid:!1});case Oi:return y({},e,{isInvalid:!0});case bi:var o=t.payload,l=o.channel,u=o.message,d=e.currentGroupChannel,f=void 0===d?{}:d,h=e.unreadCount,p=e.unreadSince,m=f.url;return ji(l.url,m)&&e.allMessages.map(function(e){return e.messageId}).indexOf(u.messageId)<0?u.isAdminMessage&&u.isAdminMessage()?y({},e,{allMessages:[].concat(S(e.allMessages),[u])}):y({},e,{unreadCount:h+1,unreadSince:0===h?c()().format("LT MMM DD"):p,allMessages:[].concat(S(e.allMessages),[u])}):e;case Ci:return y({},e,{allMessages:e.allMessages.map(function(e){return ji(e.messageId,t.payload.messageId)?t.payload:e})});case Ei:return y({},e,{allMessages:e.allMessages.map(function(e){return ji(e.reqId,t.payload.reqId)?t.payload:e})});case wi:return y({},e,{unreadCount:0,unreadSince:null});case Ni:return y({},e,{allMessages:e.allMessages.filter(function(e){return!ji(e.messageId,t.payload)})});case Si:return y({},e,{allMessages:e.allMessages.filter(function(e){return!ji(e.reqId,t.payload)})});case Ai:return y({},e,{emojiContainer:t.payload});case Ri:return y({},e,{readStatus:t.payload});case ki:return y({},e,{allMessages:e.allMessages.map(function(e){return ji(e.messageId,t.payload.messageId)?(e.applyReactionEvent&&"function"===typeof e.applyReactionEvent&&e.applyReactionEvent(t.payload),e):e})});default:return e}}var Gi=a.a.forwardRef(function(e,t){var n=e.children,r=e.width,i=e.height,s=e.onClick,o=e.selected,l=e.className,u=Array.isArray(l)?l:[l];return a.a.createElement("div",{ref:t,className:"sendbird-reaction-button".concat(o?"--selected":""," ").concat(u.join(" ")),style:{width:"".concat("string"===typeof r?r.slice(0,-2)-2:r-2,"px"),height:"".concat("string"===typeof i?i.slice(0,-2)-2:i-2,"px")},onClick:function(e){return s(e)},role:"button",onKeyDown:function(e){return s(e)},tabIndex:0},a.a.createElement("div",{className:"sendbird-reaction-button__inner"},n))});Gi.propTypes={children:s.a.element.isRequired,onClick:s.a.func,selected:s.a.bool,width:s.a.oneOfType([s.a.number,s.a.string]),height:s.a.oneOfType([s.a.number,s.a.string]),className:s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string)])},Gi.defaultProps={selected:!1,width:"36px",height:"36px",onClick:function(){},className:""};var Bi=function(){},zi=function(e){return c()(e.createdAt).format("LT")},Vi=function(e){return e.sender&&(e.sender.friendName||e.sender.nickname||e.sender.userId)},qi=function(e){return e.sender&&e.sender.profileUrl};function Yi(e){var t=e.message,n=e.status,r=e.className,i=e.onDelete,s=e.onResend,o=Array.isArray(r)?r:[r],l=t&&"function"===typeof t.isResendable&&t.isResendable(),u={PENDING:a.a.createElement(ti,{className:"sendbird-message-status__icon",width:"16px",height:"16px"},a.a.createElement($r,{type:Xr.SPINNER,width:"16px",height:"16px"})),SENT:a.a.createElement($r,{className:"sendbird-message-status__icon",width:"16px",height:"16px",type:Xr.SENT,fillColor:Zr.SENT}),DELIVERED:a.a.createElement($r,{className:"sendbird-message-status__icon",width:"16px",height:"16px",type:Xr.DELIVERED,fillColor:Zr.SENT}),READ:a.a.createElement($r,{className:"sendbird-message-status__icon",width:"16px",height:"16px",type:Xr.READ,fillColor:Zr.READ}),FAILED:a.a.createElement($r,{className:"sendbird-message-status__icon",width:"16px",height:"16px",type:Xr.ERROR})};return a.a.createElement("div",{className:[].concat(S(o),["sendbird-message-status"]).join(" ")},function(){switch(n){case da.PENDING:return null;case da.SENT:case da.DELIVERED:case da.READ:return a.a.createElement(sa,{className:"sendbird-message-status__text",type:oa.CAPTION_3,color:la.ONBACKGROUND_2},zi(t));case da.FAILED:return a.a.createElement(sa,{className:"sendbird-message-status__text",type:oa.CAPTION_3,color:la.ERROR},ua.MESSAGE_STATUS__SENDING_FAILED,l&&a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:"sendbird-message-status__text__try-again",role:"button",tabIndex:0,onClick:s,onKeyPress:s},ua.MESSAGE_STATUS__TRY_AGAIN),ua.MESSAGE_STATUS__OR),a.a.createElement("span",{className:"sendbird-message-status__text__delete",role:"button",tabIndex:0,onClick:i,onKeyPress:i},ua.MESSAGE_STATUS__DELETE));default:return null}}(),u[n])}Yi.propTypes={message:s.a.objectOf(s.a.oneOfType([s.a.string,s.a.number,s.a.bool,s.a.array,s.a.object])),status:s.a.string,className:s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string)]),onDelete:s.a.func,onResend:s.a.func},Yi.defaultProps={message:null,status:"",className:"",onDelete:function(){},onResend:function(){}};var Ki=a.a.forwardRef(function(e,t){var n=e.className,r=e.children,i=e.count,s=e.selected,o=e.isAdd,l=e.onClick,u=Array.isArray(n)?n:[n];return s&&!o?u.unshift("sendbird-reaction-badge--selected"):o?u.push("sendbird-reaction-badge--is-add"):u.unshift("sendbird-reaction-badge"),a.a.createElement("div",{ref:t,tabIndex:0,role:"button",className:u.join(" "),onClick:l,onKeyDown:l},a.a.createElement("div",{className:"sendbird-reaction-badge__inner"},a.a.createElement("div",{className:"sendbird-reaction-badge__inner__icon"},r),a.a.createElement(sa,{className:r&&i?"sendbird-reaction-badge__inner__count":"",type:oa.CAPTION_3,color:la.ONBACKGROUND_1},i)))});Ki.propTypes={children:s.a.element.isRequired,count:s.a.oneOfType([s.a.number,s.a.string]),selected:s.a.bool,className:s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string)]),isAdd:s.a.bool,onClick:s.a.func},Ki.defaultProps={className:"",count:"",selected:!1,isAdd:!1,onClick:function(){}};var Wi="sendbird-tooltip";function Qi(e){var t=e.className,n=e.children,r=Array.isArray(t)?t:[t];return r.unshift(Wi),a.a.createElement("div",{className:r.join(" ")},a.a.createElement(sa,{className:"".concat(Wi,"__text")},n))}Qi.propTypes={className:s.a.string,children:s.a.oneOfType([s.a.element,s.a.arrayOf(s.a.string),s.a.string])},Qi.defaultProps={className:"",children:""};var Ji="sendbird-tooltip-wrapper",$i=8;function Xi(e){var t=e.className,n=e.children,i=e.hoverTooltip,s=Array.isArray(t)?[Ji].concat(S(t)):[Ji,t],o=N(Object(r.useState)(!1),2),l=o[0],u=o[1],c=Object(r.useRef)(null);return a.a.createElement("div",{className:s.join(" "),onMouseOver:function(){u(!0)},onFocus:function(){u(!0)},onMouseOut:function(){u(!1)},onBlur:function(){u(!1)}},a.a.createElement("div",{className:"".concat(Ji,"__children"),ref:c},n),l&&a.a.createElement("div",{className:"".concat(Ji,"__hover-tooltip"),style:{bottom:"calc(100% + ".concat($i,"px)")}},a.a.createElement("div",{className:"".concat(Ji,"__hover-tooltip__inner")},a.a.createElement("div",{className:"".concat(Ji,"__hover-tooltip__inner__tooltip-container"),style:{left:c.current&&"calc(".concat(c.current.offsetWidth/2,"px - 50%)")}},i))))}function Zi(e){var t=e.className,n=e.userId,i=e.message,s=e.emojiAllMap,o=e.membersMap,l=e.toggleReaction,u=e.memoizedEmojiListItems,c=Array.isArray(t)?t:[t];c.unshift("sendbird-emoji-reactions");var d=u,f=Object(r.useRef)(null),h=i.reactions,p=void 0===h?[]:h;return a.a.createElement("div",{className:c.join(" ")},a.a.createElement("div",{className:"sendbird-emoji-reactions--inner"},p&&p.map(function(e){var t=e.userIds,r=void 0===t?[]:t,u=s.get(e.key)||"",c=r.length,d=!(r.indexOf(n)<0),f=r.filter(function(e){return e!==n}).map(function(e){return o.get(e)||ua.TOOLTIP__UNKOWN_USER}),h=f.length>0?ua.TOOLTIP__AND_YOU:ua.TOOLTIP__YOU;return a.a.createElement(Xi,{className:"sendbird-emoji-reactions__emoji-reaction",key:e.key,hoverTooltip:r.length>0&&a.a.createElement(Qi,null,a.a.createElement(a.a.Fragment,null,"".concat(f.join(", ")).concat(d?h:"")))},a.a.createElement(Ki,{count:c,selected:d,onClick:function(){return l(i,e.key,d)}},a.a.createElement(Ee,{circle:!0,url:u,width:"20px",height:"20px",defaultComponent:a.a.createElement($r,{width:"20px",height:"20px",type:Xr.EMOJI_FAILED})})))}),p.length<s.size&&a.a.createElement(Xa,{menuTrigger:function(e){return a.a.createElement(Ki,{isAdd:!0,onClick:e,className:"sendbird-emoji-reactions__emoji-reaction-add",ref:f},a.a.createElement($r,{width:"20px",height:"20px",fillColor:Zr.ON_BACKGROUND_3,type:Xr.EMOJI_REACTIONS_ADD}))},menuItems:function(e){return a.a.createElement(d,{message:i,parentRef:f,parentContainRef:f,closeDropdown:e,spaceFromTrigger:{y:4}})}})))}Xi.propTypes={className:s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string)]),children:s.a.element.isRequired,hoverTooltip:s.a.oneOfType([s.a.element,s.a.func]).isRequired},Xi.defaultProps={className:""},Zi.propTypes={userId:s.a.string,className:s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string)]),message:s.a.shape({reactions:s.a.arrayOf(s.a.shape({}))}).isRequired,emojiAllMap:s.a.instanceOf(Map).isRequired,membersMap:s.a.instanceOf(Map),toggleReaction:s.a.func,memoizedEmojiListItems:s.a.func},Zi.defaultProps={className:"",membersMap:new Map,userId:"",toggleReaction:function(){},memoizedEmojiListItems:function(){return""}};var es=function(e){if(window.clipboardData&&window.clipboardData.setData)return window.clipboardData.setData("Text",e);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var t=document.createElement("textarea");t.textContent=e,t.style.position="fixed",document.body.appendChild(t),t.select();try{return document.execCommand("copy")}catch(n){return!1}finally{document.body.removeChild(t)}}return!1},ts=function(e){return c()(e.createdAt).format("LT")},ns=function(e){return e.sender&&(e.sender.friendName||e.sender.nickname||e.sender.userId)},rs=function(e){return e.sender&&e.sender.profileUrl},as=function(e){return e===da.SENT||e===da.DELIVERED||e===da.READ},is="sendbird-link-label",ss=/https?:\/\//;function os(e){var t=e.className,n=e.src,r=e.type,i=e.color,s=e.children,o=Array.isArray(t)?t:[t],l=ss.test(n)?n:"http://".concat(n);return a.a.createElement("a",{className:"".concat(is," ").concat(o.join(" ")),href:l},a.a.createElement(sa,{type:r,color:i,className:"".concat(is,"__label")},s))}os.propTypes={className:s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string)]),children:s.a.oneOfType([s.a.string,s.a.element,s.a.arrayOf(s.a.string),s.a.arrayOf(s.a.element)]).isRequired,src:s.a.string.isRequired,type:s.a.oneOf(Object.keys(oa)).isRequired,color:s.a.oneOf(Object.keys(la)).isRequired},os.defaultProps={className:""};var ls,us=function(e){return e===da.SENT||e===da.DELIVERED||e===da.READ},cs=function(e){try{if(window.clipboardData&&window.clipboardData.setData)return window.clipboardData.setData("Text",e);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var t=document.createElement("textarea");t.textContent=e,t.style.position="fixed",document.body.appendChild(t),t.select();try{return document.execCommand("copy")}catch(n){return!1}finally{document.body.removeChild(t)}}return!1}catch(r){return r}},ds=function(e){return e.sender&&e.sender.profileUrl},fs=function(e){return e.sender&&(e.sender.friendName||e.sender.nickname||e.sender.userId)},hs=function(e){return c()(e.createdAt).format("LT")},ps=function(e){var t=e.ogMetaData;return!!t&&!!t.url},ms="sendbird-outgoing-og-message",gs="sendbird-incoming-og-message",ys=oa.BODY_1,_s=la.ONBACKGROUND_1,vs=la.ONBACKGROUND_2,Es=(ls=/[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/,function(e){return ls.test(e)});function bs(e){var t=e.message,n=e.updatedAt,i=e.className;return Object(r.useMemo)(function(){return function(){var e=t.split(" ").map(function(e){return Es(e)?a.a.createElement(os,{key:j(),className:i,src:e,type:ys,color:_s},e):a.a.createElement(sa,{key:j(),className:i,type:ys,color:_s},e)});return n>0&&e.push(a.a.createElement(sa,{key:j(),className:i,type:ys,color:vs},ua.MESSAGE_EDITED)),e}},[t,n,i])}var Cs=function(){},Ns=4,Ss=32;function Ts(e){var t=e.isByMe,n=e.userId,r=e.message,i=e.className,s=e.resendMessage,o=e.disabled,l=e.showEdit,u=e.showRemove,c=e.status,d=e.useReaction,f=e.emojiAllMap,h=e.membersMap,p=e.toggleReaction,m=e.memoizedEmojiListItems;if(!r)return null;var g=Array.isArray(i)?i:[i];g.push("sendbird-message".concat(t?"--outgoing":"--incoming"));var y=bs({message:r.message,updatedAt:r.updatedAt,className:"sendbird-user-message-word"});return a.a.createElement("div",{className:[].concat(S(g),["sendbird-message"]).join(" ")},t?a.a.createElement(Os,{userId:n,message:r,resendMessage:s,disabled:o,showEdit:l,showRemove:u,status:c,useReaction:d,emojiAllMap:f,membersMap:h,toggleReaction:p,memoizedMessageText:y,memoizedEmojiListItems:m}):a.a.createElement(ws,{userId:n,message:r,useReaction:d,emojiAllMap:f,membersMap:h,toggleReaction:p,memoizedMessageText:y,memoizedEmojiListItems:m}))}function Os(e){var t=e.userId,n=e.message,i=e.showEdit,s=e.disabled,o=e.showRemove,l=e.status,u=e.resendMessage,c=e.useReaction,d=e.emojiAllMap,f=e.membersMap,h=e.toggleReaction,p=e.memoizedMessageText,m=e.memoizedEmojiListItems,g=p,y=m,_=Object(r.useRef)(null),v=Object(r.useRef)(null),E=Object(r.useRef)(null),b=as(l);return a.a.createElement("div",{className:"sendbird-user-message--outgoing",style:{paddingLeft:"".concat(Ns+(c?2*Ss:Ss),"px")}},a.a.createElement("div",{className:"sendbird-user-message__more",ref:E},a.a.createElement(Xa,{menuTrigger:function(e){return a.a.createElement(Ea,{className:"sendbird-user-message__more__menu",ref:v,width:"32px",height:"32px",onClick:e},a.a.createElement($r,{width:"24px",height:"24px",type:Xr.MORE,fillColor:Zr.CONTENT_INVERSE}))},menuItems:function(e){return a.a.createElement(Qa,{parentRef:v,parentContainRef:E,closeDropdown:e,openLeft:!0},b&&a.a.createElement($a,{className:"sendbird-user-message--copy",onClick:function(){es(n.message),e()}},"Copy"),b&&a.a.createElement($a,{onClick:function(){s||(i(!0),e())}},"Edit"),a.a.createElement($a,{onClick:function(){s||(o(!0),e())}},"Delete"))}}),b&&c&&d.size>0&&a.a.createElement(Xa,{menuTrigger:function(e){return a.a.createElement(Ea,{className:"sendbird-user-message__more__add-reaction",ref:_,width:"32px",height:"32px",onClick:e},a.a.createElement($r,{width:"24px",height:"24px",type:Xr.EMOJI_REACTIONS_ADD,fillColor:Zr.CONTENT_INVERSE}))},menuItems:function(e){return a.a.createElement(y,{message:n,parentRef:_,parentContainRef:E,closeDropdown:e,spaceFromTrigger:{y:2}})}})),a.a.createElement("div",{className:"sendbird-user-message__text-balloon"},a.a.createElement("div",{className:"sendbird-user-message__text-balloon__inner"},a.a.createElement("div",{className:"sendbird-user-message__text-balloon__inner__text-place"},a.a.createElement(sa,{className:"sendbird-user-message__text-balloon__inner__text-place__text",type:oa.BODY_1,color:la.ONBACKGROUND_1},a.a.createElement(g,null))),c&&n.reactions&&n.reactions.length>0&&a.a.createElement(Zi,{className:"sendbird-user-message__text-balloon__inner__emoji-reactions",userId:t,message:n,emojiAllMap:d,membersMap:f,toggleReaction:h,memoizedEmojiListItems:m}))),a.a.createElement("div",{className:"sendbird-user-message__status"},a.a.createElement(Yi,{message:n,status:l,onDelete:function(){o(!0)},onResend:function(){return u(n)}})))}function ws(e){var t=e.userId,n=e.message,i=e.useReaction,s=e.emojiAllMap,o=e.membersMap,l=e.toggleReaction,u=e.memoizedMessageText,c=e.memoizedEmojiListItems,d=u,f=c,h=Object(r.useRef)(null),p=Object(r.useRef)(null),m=Object(r.useRef)(null),g=i&&s&&s.size>0;return a.a.createElement("div",{className:"sendbird-user-message--incoming",style:{paddingRight:"".concat(Ns+(g?2*Ss:Ss),"px")}},a.a.createElement(Ie,{className:"sendbird-user-message__avatar",src:rs(n),width:"28px",height:"28px"}),a.a.createElement(sa,{className:"sendbird-user-message__sender-name",type:oa.CAPTION_2,color:la.ONBACKGROUND_2},ns(n)),a.a.createElement("div",{className:"sendbird-user-message__text-balloon"},a.a.createElement("div",{className:"sendbird-user-message__text-balloon__inner"},a.a.createElement("div",{className:"sendbird-user-message__text-balloon__inner__text-place"},a.a.createElement(sa,{className:"sendbird-user-message__text-balloon__inner__text-place__text",type:oa.BODY_1,color:la.ONBACKGROUND_1},a.a.createElement(d,null))),i&&n.reactions&&n.reactions.length>0&&a.a.createElement(Zi,{className:"sendbird-user-message__text-balloon__inner__emoji-reactions",userId:t,message:n,emojiAllMap:s,membersMap:o,toggleReaction:l,memoizedEmojiListItems:c}))),a.a.createElement(sa,{className:"sendbird-user-message__sent-at",type:oa.CAPTION_3,color:la.ONBACKGROUND_2},ts(n)),a.a.createElement("div",{className:"sendbird-user-message__more",ref:m},g&&a.a.createElement(Xa,{menuTrigger:function(e){return a.a.createElement(Ea,{ref:h,width:"32px",height:"32px",onClick:e},a.a.createElement($r,{width:"24px",height:"24px",type:Xr.EMOJI_REACTIONS_ADD,fillColor:Zr.CONTENT_INVERSE}))},menuItems:function(e){return a.a.createElement(f,{parentRef:h,parentContainRef:m,closeDropdown:e,message:n,spaceFromTrigger:{y:2}})}}),a.a.createElement(Xa,{menuTrigger:function(e){return a.a.createElement(Ea,{ref:p,width:"32px",height:"32px",onClick:e},a.a.createElement($r,{width:"24px",height:"24px",type:Xr.MORE,fillColor:Zr.CONTENT_INVERSE}))},menuItems:function(e){return a.a.createElement(Qa,{parentRef:p,parentContainRef:m,closeDropdown:e},a.a.createElement($a,{className:"sendbird-user-message--copy",onClick:function(){es(n.message),e()}},"Copy"))}})))}function ks(e){var t=e.className,n=e.message;if(!n.messageType||"admin"!==n.messageType)return null;var r=Array.isArray(t)?t:[t];return a.a.createElement("div",{className:[].concat(S(r),["sendbird-admin-message"]).join(" ")},a.a.createElement(sa,{className:"sendbird-admin-message__text",type:oa.CAPTION_2,color:la.ONBACKGROUND_2},n.message))}Ts.propTypes={isByMe:s.a.bool,disabled:s.a.bool,userId:s.a.string,message:s.a.objectOf(s.a.oneOfType([s.a.string,s.a.number,s.a.bool,s.a.array,s.a.object])).isRequired,className:s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string)]),showEdit:s.a.func,status:s.a.string,showRemove:s.a.func,resendMessage:s.a.func,useReaction:s.a.bool.isRequired,emojiAllMap:s.a.instanceOf(Map),membersMap:s.a.instanceOf(Map),toggleReaction:s.a.func,memoizedEmojiListItems:s.a.func},Ts.defaultProps={isByMe:!1,disabled:!1,userId:"",resendMessage:Cs,className:"",showEdit:Cs,showRemove:Cs,status:"",emojiAllMap:new Map,membersMap:new Map,toggleReaction:Cs,memoizedEmojiListItems:function(){return""}},ws.propTypes={userId:s.a.string.isRequired,message:s.a.objectOf(s.a.oneOfType([s.a.string,s.a.number,s.a.bool,s.a.array,s.a.object])),useReaction:s.a.bool.isRequired,emojiAllMap:s.a.instanceOf(Map),membersMap:s.a.instanceOf(Map),toggleReaction:s.a.func,memoizedMessageText:s.a.func.isRequired,memoizedEmojiListItems:s.a.func},ws.defaultProps={message:{},emojiAllMap:new Map,membersMap:new Map,toggleReaction:Cs,memoizedEmojiListItems:function(){return""}},Os.propTypes={userId:s.a.string.isRequired,message:s.a.objectOf(s.a.oneOfType([s.a.string,s.a.number,s.a.bool,s.a.array,s.a.object])),showEdit:s.a.func,showRemove:s.a.func,disabled:s.a.bool,resendMessage:s.a.func,status:s.a.string.isRequired,useReaction:s.a.bool.isRequired,emojiAllMap:s.a.instanceOf(Map),membersMap:s.a.instanceOf(Map),toggleReaction:s.a.func,memoizedMessageText:s.a.func.isRequired,memoizedEmojiListItems:s.a.func},Os.defaultProps={message:{},resendMessage:Cs,showEdit:Cs,showRemove:Cs,disabled:!1,emojiAllMap:new Map,membersMap:new Map,toggleReaction:Cs,memoizedEmojiListItems:function(){return""}},ks.propTypes={message:s.a.objectOf(s.a.oneOfType([s.a.string,s.a.number,s.a.bool,s.a.array,s.a.object])),className:s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string)])},ks.defaultProps={message:{},className:""};var As=function(e){return c()(e.createdAt).format("LT")},Rs=function(e){return e===da.SENT||e===da.DELIVERED||e===da.READ},Is={IMAGE:["image/jpeg","image/jpg","image/png","image/gif","image/webp"],VIDEO:["video/mpeg","video/ogg","video/webm","video/mp4"]},Ms=function(e){return Is.IMAGE.includes(e)},Ps=function(e){return Is.VIDEO.includes(e)},Us=function(e){return!(Ms(e)||Ps(e))},Ls=function(){},Ds=4,xs=32;function Fs(e){var t=e.message,n=void 0===t?{}:t,i=e.userId,s=e.disabled,o=e.isByMe,l=e.onClick,u=e.showRemove,c=e.status,d=e.resendMessage,f=e.useReaction,h=e.emojiAllMap,p=e.membersMap,m=e.toggleReaction,g=e.memoizedEmojiListItems,y=n.type,_=n.url,v=Object(r.useRef)(null),E=Object(r.useRef)(null),b=Object(r.useRef)(null),C=f&&h&&h.size>0,N=g,S=Rs(c);return a.a.createElement("div",{className:["sendbird-thumbnail",o?"":"sendbird-thumbnail--incoming"].join(" ")},!o&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Ie,{className:"sendbird-thumbnail__avatar",src:qi(n),width:"28px",height:"28px"}),a.a.createElement(sa,{className:"sendbird-thumbnail__sender-name",type:oa.CAPTION_2,color:la.ONBACKGROUND_2},Vi(n)||"")),a.a.createElement("div",{className:"sendbird-thumbnail__body"},o&&a.a.createElement("div",{className:"sendbird-thumbnail__more",ref:v,style:{left:"-".concat(Ds+(C?2*xs:xs),"px")}},a.a.createElement(Xa,{menuTrigger:function(e){return a.a.createElement(Ea,{ref:E,width:"32px",height:"32px",onClick:e},a.a.createElement($r,{width:"24px",height:"24px",type:Xr.MORE,color:Zr.CONTENT_INVERSE}))},menuItems:function(e){return a.a.createElement(Qa,{parentRef:E,parentContainRef:v,closeDropdown:e,openLeft:!0},a.a.createElement($a,{onClick:function(){s||(u(!0),e())}},"Delete"))}}),S&&C&&a.a.createElement(Xa,{menuTrigger:function(e){return a.a.createElement(Ea,{ref:b,onClick:e,width:"32px",height:"32px"},a.a.createElement($r,{width:"24px",height:"24px",type:Xr.EMOJI_REACTIONS_ADD,color:Zr.CONTENT_INVERSE}))},menuItems:function(e){return a.a.createElement(N,{message:n,parentRef:b,parentContainRef:v,closeDropdown:e,spaceFromTrigger:{y:2}})}})),a.a.createElement("div",{className:"sendbird-thumbnail__wrap"},a.a.createElement("div",{className:"sendbird-thumbnail__wrap__inner",onClick:S?function(){return l(!0)}:function(){},onKeyDown:S?function(){return l(!0)}:function(){},tabIndex:0,role:"button"},Ps(y)&&a.a.createElement(a.a.Fragment,null,a.a.createElement("video",{className:"sendbird-thumbnail__video"},a.a.createElement("source",{src:_,type:y})),a.a.createElement($r,{className:"sendbird-thumbnail__video-icon",width:"56px",height:"56px",type:Xr.PLAY})),Ms(y)&&a.a.createElement("div",{className:"sendbird-thumbnail__img",style:{backgroundImage:"url(".concat(_,")"),height:"280px",width:"404px",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),Us(y)&&a.a.createElement("div",{className:"sendbird-thumbnail__other"},"Unknown type"),a.a.createElement("div",{className:"sendbird-thumbnail__wrap-overlay"})),f&&n.reactions&&n.reactions.length>0&&a.a.createElement(Zi,{className:"sendbird-thumbnail__wrap__emoji-reactions",userId:i,message:n,emojiAllMap:h,membersMap:p,toggleReaction:m,memoizedEmojiListItems:g})),o?a.a.createElement("div",{className:"sendbird-thumbnail__status"},a.a.createElement(Yi,{message:n,status:c,onDelete:function(){u(!0)},onResend:function(){return d(n)}})):a.a.createElement(sa,{className:"sendbird-thumbnail__sent-at",type:oa.CAPTION_3,color:la.ONBACKGROUND_2},As(n)),!o&&C&&a.a.createElement("div",{className:"sendbird-thumbnail__more",ref:v,style:{right:"-".concat(Ds+xs,"px")}},a.a.createElement(Xa,{menuTrigger:function(e){return a.a.createElement(Ea,{ref:b,onClick:e,width:"32px",height:"32px"},a.a.createElement($r,{width:"24px",height:"24px",type:Xr.EMOJI_REACTIONS_ADD,color:Zr.CONTENT_INVERSE}))},menuItems:function(e){return a.a.createElement(N,{message:n,parentRef:b,parentContainRef:v,closeDropdown:e,spaceFromTrigger:{y:2}})}}))))}Fs.propTypes={message:s.a.shape({type:s.a.string,url:s.a.string}).isRequired,userId:s.a.string,resendMessage:s.a.func,status:s.a.string,isByMe:s.a.bool,disabled:s.a.bool,onClick:s.a.func,showRemove:s.a.func,useReaction:s.a.bool.isRequired,emojiAllMap:s.a.instanceOf(Map),membersMap:s.a.instanceOf(Map),toggleReaction:s.a.func,memoizedEmojiListItems:s.a.func},Fs.defaultProps={isByMe:!1,disabled:!1,resendMessage:Ls,onClick:Ls,showRemove:Ls,status:"",userId:"",emojiAllMap:new Map,membersMap:new Map,toggleReaction:Ls,memoizedEmojiListItems:function(){return""}};var js={ONBACKGROUND_1:"ONBACKGROUND_1",ONBACKGROUND_2:"ONBACKGROUND_2",ONBACKGROUND_3:"ONBACKGROUND_3",ONBACKGROUND_4:"ONBACKGROUND_4",ONCONTENT_1:"ONCONTENT_1",PRIMARY:"PRIMARY",ERROR:"ERROR"};function Hs(e){switch(e){case js.ONBACKGROUND_1:return"sendbird-color--onbackground-1";case js.ONBACKGROUND_2:return"sendbird-color--onbackground-2";case js.ONBACKGROUND_3:return"sendbird-color--onbackground-3";case js.ONBACKGROUND_4:return"sendbird-color--onbackground-4";case js.ONCONTENT_1:return"sendbird-color--oncontent-1";case js.PRIMARY:return"sendbird-color--primary";case js.ERROR:return"sendbird-color--error";default:return null}}function Gs(e){var t=e.color,n=e.children,r=e.disabled,i=e.className,s=e.onClick,o=e.notUnderline,l=Array.isArray(i)?i:[i];return a.a.createElement("div",{role:"button",tabIndex:0,className:[].concat(S(l),[Hs(t),o?"sendbird-textbutton--not-underline":"sendbird-textbutton",r?"sendbird-textbutton--disabled":""]).join(" "),onClick:s,onKeyPress:s},n)}Gs.propTypes={color:s.a.string,children:s.a.oneOfType([s.a.string,s.a.element]).isRequired,className:s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string)]),onClick:s.a.func,notUnderline:s.a.bool,disabled:s.a.bool},Gs.defaultProps={color:js.ONBACKGROUND_1,className:"",onClick:function(){},notUnderline:!1,disabled:!1};var Bs=40,zs=4,Vs=32,qs=function(){};function Ys(e){var t=null;return/(\.gif|\.jpg|\.jpeg|\.txt|\.pdf)$/i.test(e)?t=Xr.FILE_DOCUMENT:/(\.mp3)$/i.test(e)&&(t=Xr.FILE_AUDIO),t}function Ks(e){var t=e.message,n=e.userId,i=e.status,s=e.showRemove,o=e.disabled,l=e.resendMessage,u=e.useReaction,c=e.emojiAllMap,d=e.membersMap,f=e.toggleReaction,h=e.memoizedEmojiListItems,p=t.url,m=Object(r.useRef)(null),g=Object(r.useRef)(null),y=Object(r.useRef)(null),_=u&&c&&c.size>0,v=h,E=ha(i);return a.a.createElement("div",{className:"sendbird-file-message__outgoing",style:{paddingLeft:"".concat(zs+(_?2*Vs:Vs),"px")}},a.a.createElement("div",{className:"sendbird-file-message__more",ref:m},a.a.createElement(Xa,{menuTrigger:function(e){return a.a.createElement(Ea,{ref:g,width:"32px",height:"32px",onClick:e},a.a.createElement($r,{width:"24px",height:"24px",type:Xr.MORE}))},menuItems:function(e){return a.a.createElement(Qa,{parentRef:g,parentContainRef:m,closeDropdown:e,openLeft:!0},a.a.createElement($a,{onClick:function(){o||(s(!0),e())}},"Delete"))}}),_&&a.a.createElement(Xa,{menuTrigger:function(e){return a.a.createElement(Ea,{ref:y,width:"32px",height:"32px",onClick:e},a.a.createElement($r,{width:"24px",height:"24px",type:Xr.EMOJI_REACTIONS_ADD,fillColor:Zr.CONTENT_INVERSE}))},menuItems:function(e){return a.a.createElement(v,{message:t,parentRef:y,parentContainRef:m,closeDropdown:e,spaceFromTrigger:{y:2}})}})),a.a.createElement("div",{className:"sendbird-file-message__tooltip"},a.a.createElement("div",{className:"sendbird-file-message__tooltip__inner"},Ys(p)?a.a.createElement($r,{className:"sendbird-file-message__tooltip__icon",width:"28px",height:"28px",type:Ys(p)}):null,a.a.createElement(Gs,{className:"sendbird-file-message__tooltip__text",onClick:function(){window.open(p)}},a.a.createElement(sa,{type:oa.BODY_1,color:la.ONBACKGROUND_1},fa(t.url,Bs)))),E&&u&&t.reactions&&t.reactions.length>0&&a.a.createElement(Zi,{className:"sendbird-file-message__tooltip__emoji-reactions",userId:n,message:t,emojiAllMap:c,membersMap:d,toggleReaction:f,memoizedEmojiListItems:h})),a.a.createElement("div",{className:"sendbird-file-message__status"},a.a.createElement(Yi,{message:t,status:i,onDelete:function(){s(!0)},onResend:function(){return l(t)}})))}function Ws(e){var t=e.message,n=e.userId,i=e.useReaction,s=e.emojiAllMap,o=e.membersMap,l=e.toggleReaction,u=e.memoizedEmojiListItems,c=Object(r.useRef)(null),d=Object(r.useRef)(null),f=i&&s&&s.size>0,h=u;return a.a.createElement("div",{className:"sendbird-file-message__incoming",style:{paddingRight:"".concat(f?Vs+zs:0,"px")}},a.a.createElement(Ie,{className:"sendbird-file-message__avatar",src:qi(t),width:"28px",height:"28px"}),a.a.createElement(sa,{className:"sendbird-file-message__sender-name",type:oa.CAPTION_2,color:la.ONBACKGROUND_2},Vi(t)),a.a.createElement("div",{className:"sendbird-file-message__tooltip"},a.a.createElement("div",{className:"sendbird-file-message__tooltip__inner"},Ys(t.url)?a.a.createElement($r,{className:"sendbird-file-message__tooltip__icon",width:"28px",height:"28px",type:Ys(t.url)}):null,a.a.createElement(Gs,{className:"sendbird-file-message__tooltip__text",onClick:function(){window.open(t.url)}},a.a.createElement(sa,{type:oa.BODY_1,color:la.ONBACKGROUND_1},fa(t.url,Bs)))),i&&t.reactions&&t.reactions.length>0&&a.a.createElement(Zi,{className:"sendbird-file-message__tooltip__emoji-reactions",userId:n,message:t,emojiAllMap:s,membersMap:o,toggleReaction:l,memoizedEmojiListItems:u})),a.a.createElement(sa,{className:"sendbird-file-message__sent-at",type:oa.CAPTION_3,color:la.ONBACKGROUND_2},zi(t)),f&&a.a.createElement("div",{className:"sendbird-file-message__more",ref:c},a.a.createElement(Xa,{menuTrigger:function(e){return a.a.createElement(Ea,{ref:d,width:"32px",height:"32px",onClick:e},a.a.createElement($r,{width:"24px",height:"24px",type:Xr.EMOJI_REACTIONS_ADD,fillColor:Zr.CONTENT_INVERSE}))},menuItems:function(e){return a.a.createElement(h,{message:t,parentRef:d,parentContainRef:c,closeDropdown:e,spaceFromTrigger:{y:2}})}})))}Ks.propTypes={message:s.a.objectOf(s.a.oneOfType([s.a.string,s.a.number,s.a.bool,s.a.array,s.a.object])),userId:s.a.string,status:s.a.string,showRemove:s.a.func,resendMessage:s.a.func,useReaction:s.a.bool.isRequired,disabled:s.a.bool,emojiAllMap:s.a.instanceOf(Map),membersMap:s.a.instanceOf(Map),toggleReaction:s.a.func,memoizedEmojiListItems:s.a.func},Ks.defaultProps={status:"",showRemove:qs,resendMessage:qs,message:{},userId:"",disabled:!1,emojiAllMap:new Map,membersMap:new Map,toggleReaction:qs,memoizedEmojiListItems:function(){return""}},Ws.propTypes={message:s.a.objectOf(s.a.oneOfType([s.a.string,s.a.number,s.a.bool,s.a.array,s.a.object])),userId:s.a.string,useReaction:s.a.bool.isRequired,emojiAllMap:s.a.instanceOf(Map),membersMap:s.a.instanceOf(Map),toggleReaction:s.a.func,memoizedEmojiListItems:s.a.func},Ws.defaultProps={message:{},userId:"",emojiAllMap:new Map,membersMap:new Map,toggleReaction:qs,memoizedEmojiListItems:function(){return""}};var Qs=function(e){var t=e.message,n=e.userId,r=e.disabled,i=e.isByMe,s=e.showRemove,o=e.status,l=e.resendMessage,u=e.useReaction,c=e.emojiAllMap,d=e.membersMap,f=e.toggleReaction,h=e.memoizedEmojiListItems;return a.a.createElement("div",{className:"sendbird-file-message".concat(i?"--outgoing":"--incoming")},i?a.a.createElement(Ks,{message:t,userId:n,disabled:r,showRemove:s,status:o,resendMessage:l,useReaction:u,emojiAllMap:c,membersMap:d,toggleReaction:f,memoizedEmojiListItems:h}):a.a.createElement(Ws,{userId:n,message:t,useReaction:u,emojiAllMap:c,membersMap:d,toggleReaction:f,memoizedEmojiListItems:h}))};function Js(e){var t=e.className,n=e.children,r=e.separatorColor,i=Array.isArray(t)?t:[t];return a.a.createElement("div",{className:[].concat(S(i),["sendbird-separator"]).join(" ")},a.a.createElement("div",{className:["".concat(Hs(r),"--background-color"),"sendbird-separator__left"].join(" ")}),a.a.createElement("div",{className:"sendbird-separator__text"},n),a.a.createElement("div",{className:["".concat(Hs(r),"--background-color"),"sendbird-separator__right"].join(" ")}))}Qs.propTypes={message:s.a.shape({}),userId:s.a.string,isByMe:s.a.bool,disabled:s.a.bool,showRemove:s.a.func,resendMessage:s.a.func,status:s.a.string.isRequired,useReaction:s.a.bool.isRequired,emojiAllMap:s.a.instanceOf(Map),membersMap:s.a.instanceOf(Map),toggleReaction:s.a.func,memoizedEmojiListItems:s.a.func},Qs.defaultProps={message:{},isByMe:!1,disabled:!1,showRemove:qs,resendMessage:qs,userId:"",emojiAllMap:new Map,membersMap:new Map,toggleReaction:qs,memoizedEmojiListItems:function(){return""}},Js.propTypes={className:s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string)]),children:s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string),s.a.element]),separatorColor:s.a.string},Js.defaultProps={className:"",children:a.a.createElement(sa,{type:oa.CAPTION_2,color:la.ONBACKGROUND_2},"Date Separator"),separatorColor:js.ONBACKGROUND_4};var $s=function(){},Xs=16,Zs=13,eo=a.a.forwardRef(function(e,t){var n=e.isEdit,i=e.disabled,s=e.value,o=e.name,l=e.placeholder,u=e.maxLength,c=e.onFileUpload,d=e.onSendMessage,f=e.onCancelEdit,h=e.onStartTyping,p=Object(r.useRef)(null),m=N(Object(r.useState)(s),2),g=m[0],y=m[1],_=N(Object(r.useState)(!1),2),v=_[0],E=_[1],b=function(){var e=t.current,n=.6*window.document.body.offsetHeight;e.scrollHeight>=76?n<e.scrollHeight?(e.style.height="auto",e.style.height="".concat(n,"px")):(e.style.height="auto",e.style.height="".concat(e.scrollHeight,"px")):e.style.height=""};Object(r.useEffect)(function(){return b(),b},[g]);var C,S=function(){if(g){var e=g.trim();n?d(o,e,function(){f()}):(d(e),y(""))}};return a.a.createElement("form",{className:"\n        ".concat(n?"sendbird-message-input__edit":"","\n        ").concat(i?"sendbird-message-input-form__disabled":"","\n      ")},a.a.createElement("div",{className:"\n          sendbird-message-input\n          ".concat(i?"sendbird-message-input__disabled":"","\n        ")},a.a.createElement("textarea",{disabled:i,ref:t,name:o,value:g,className:"sendbird-message-input--textarea",maxLength:u,onChange:function(e){y(e.target.value),h()},onKeyDown:function(e){e.keyCode===Xs&&E(!0),v||e.keyCode!==Zs||(e.preventDefault(),S())},onKeyUp:function(e){e.keyCode===Xs&&E(!1)}}),!g&&a.a.createElement(sa,{type:oa.BODY_1,color:la.ONBACKGROUND_3,className:"sendbird-message-input--placeholder"},l||ua.CHANNEL__MESSAGE_INPUT__PLACE_HOLDER),!n&&!g&&a.a.createElement(Ea,{className:"sendbird-message-input--attach",height:"32px",width:"32px",onClick:function(){p.current.click()}},a.a.createElement($r,{type:Xr.ATTACH,width:"20px",height:"20px"}),a.a.createElement("input",{type:"file",ref:p,onChange:(C=c,function(e){e.target.files&&e.target.files[0]&&C(e.target.files[0]),e.target.value=""}),className:"sendbird-message-input--attach-input"})),!n&&g&&a.a.createElement(Ea,{className:"sendbird-message-input--send",height:"32px",width:"32px",onClick:S},a.a.createElement($r,{type:Xr.SEND,fillColor:Zr.PRIMARY,width:"20px",height:"20px"}))),n&&a.a.createElement("div",{className:"sendbird-message-input--edit-action"},a.a.createElement(ka,{className:"sendbird-message-input--edit-action__cancel",type:Sa.SECONDARY,size:Ta.SMALL,onClick:f},ua.BUTTON__CANCEL),a.a.createElement(ka,{className:"sendbird-message-input--edit-action__save",type:Sa.PRIMARY,size:Ta.SMALL,onClick:function(){if(g){var e=g.trim();d(o,e,function(){f()})}}},ua.BUTTON__SAVE)))});eo.propTypes={placeholder:s.a.oneOfType([s.a.string,s.a.bool]),isEdit:s.a.bool,name:s.a.oneOfType([s.a.string,s.a.number]),value:s.a.string,disabled:s.a.bool,maxLength:s.a.number,onFileUpload:s.a.func,onSendMessage:s.a.func,onStartTyping:s.a.func,onCancelEdit:s.a.func},eo.defaultProps={value:"",onSendMessage:$s,name:"sendbird-message-input",isEdit:!1,disabled:!1,placeholder:"",maxLength:5e3,onFileUpload:$s,onCancelEdit:$s,onStartTyping:$s};var to=function(e){var t=e.profileUrl,n=e.nickname,r=e.type,i=e.url,s=e.name,o=e.onClose,l=e.onDelete,u=e.isByMe;return a.a.createElement("div",{className:"sendbird-fileviewer"},a.a.createElement("div",{className:"sendbird-fileviewer__header"},a.a.createElement("div",{className:"sendbird-fileviewer__header-left"},a.a.createElement("div",{className:"sendbird-fileviewer__header-avatar"},a.a.createElement(Ie,{height:"32px",width:"32px",src:t})),a.a.createElement(sa,{className:"sendbird-fileviewer__header-filename",type:oa.H_2,color:la.ONBACKGROUND_1},s),a.a.createElement(sa,{className:"sendbird-fileviewer__header-sendername",type:oa.BODY_1,color:la.ONBACKGROUND_2},n)),a.a.createElement("div",{className:"sendbird-fileviewer__header-right"},!Us(r)&&a.a.createElement("div",{className:"sendbird-fileviewer__header-actions"},a.a.createElement("a",{href:i,rel:"noopener noreferrer",target:"_blank",className:"sendbird-fileviewer__header-download"},a.a.createElement($r,{type:Xr.DOWNLOAD,height:"24px",width:"24px"})),l&&u&&a.a.createElement("div",{className:"sendbird-fileviewer__header-delete"},a.a.createElement($r,{type:Xr.DELETE,height:"24px",width:"24px",onClick:l}))),a.a.createElement("div",{className:"sendbird-fileviewer__header-close"},a.a.createElement($r,{type:Xr.CLOSE,height:"24px",width:"24px",onClick:o})))),a.a.createElement("div",{className:"sendbird-fileviewer__content"},Ps(r)&&a.a.createElement("video",{controls:!0,className:"sendbird-fileviewer__video"},a.a.createElement("source",{src:i,type:r})),Ms(r)&&a.a.createElement("img",{src:i,alt:s,className:"sendbird-fileviewer__img"}),Us(r)&&a.a.createElement("div",{className:"sendbird-fileviewer__unsupported"},a.a.createElement(sa,{type:oa.H_1,color:la.ONBACKGROUND_1},"Unsupoprted message"))))};function no(e){var t=e.onClose,n=e.message,r=e.onDelete,i=e.isByMe,s=n.sender,o=n.type,l=n.url,u=n.name,c=void 0===u?"":u,f=s.profileUrl,h=s.nickname,p=void 0===h?"":h;return Object(d.createPortal)(a.a.createElement(to,{profileUrl:f,nickname:p,type:o,url:l,name:c,onClose:t,onDelete:r,isByMe:i}),document.getElementById(Na))}to.propTypes={profileUrl:s.a.string.isRequired,nickname:s.a.string.isRequired,type:s.a.string.isRequired,url:s.a.string.isRequired,name:s.a.string.isRequired,onClose:s.a.func.isRequired,onDelete:s.a.func.isRequired,isByMe:s.a.bool},to.defaultProps={isByMe:!0},no.propTypes={onClose:s.a.func.isRequired,message:s.a.shape({sender:s.a.shape({profileUrl:s.a.string,nickname:s.a.string}),type:s.a.string,url:s.a.string,name:s.a.string}).isRequired,onDelete:s.a.func.isRequired,isByMe:s.a.bool},no.defaultProps={isByMe:!0};var ro=function(e){var t=e.onCloseModal,n=e.onDeleteMessage;return a.a.createElement(Ma,{onCancel:t,onSubmit:n,submitText:"Delete",titleText:ua.MODAL__DELETE_MESSAGE__TITLE})};ro.propTypes={onCloseModal:s.a.func.isRequired,onDeleteMessage:s.a.func.isRequired};var ao=function(e){return c()(e.createdAt).format("LT")},io="sendbird-unknown-message";function so(e){var t=e.message,n=e.isByMe,r=e.status,i=e.className,s=e.showRemove,o=Array.isArray(i)?i:[i];return o.unshift(io),o.push("".concat(io).concat(n?"--outgoing":"--incoming")),a.a.createElement("div",{className:o.join(" ")},n?a.a.createElement(oo,{message:t,status:r,showRemove:s}):a.a.createElement(lo,{message:t}))}function oo(e){var t=e.message,n=e.status,i=e.showRemove,s="sendbird-outgoing-unknown-message",o=Object(r.useRef)(null),l=Object(r.useRef)(null);return a.a.createElement("div",{className:s},a.a.createElement("div",{className:"".concat(s,"__more"),ref:o},a.a.createElement(Xa,{menuTrigger:function(e){return a.a.createElement(Ea,{className:"".concat(s,"__more__menu"),ref:l,width:"32px",height:"32px",onClick:e},a.a.createElement($r,{width:"24px",height:"24px",type:Xr.MORE,fillColor:Zr.CONTENT_INVERSE}))},menuItems:function(e){return a.a.createElement(Qa,{parentRef:l,parentContainRef:o,closeDropdown:e,openLeft:!0},a.a.createElement($a,{onClick:function(){i(!0),e()}},"Delete"))}})),a.a.createElement("div",{className:"".concat(s,"__body")},a.a.createElement("div",{className:"".concat(s,"__body__text-balloon")},a.a.createElement(sa,{className:"".concat(s,"__body__text-balloon__header"),type:oa.BODY_1,color:la.ONBACKGROUND_1},ua.UNKNOWN__UNKNOWN_MESSAGE_TYPE),a.a.createElement(sa,{className:"".concat(s,"__body__text-balloon__description"),type:oa.BODY_1,color:la.ONBACKGROUND_2},ua.UNKNOWN__CANNOT_READ_MESSAGE)),a.a.createElement("div",{className:"".concat(s,"__body__message-status")},a.a.createElement(Yi,{message:t,status:n}))))}function lo(e){var t=e.message,n="sendbird-incoming-unknown-message",r=t.sender;return a.a.createElement("div",{className:n},a.a.createElement("div",{className:"".concat(n,"__left")},a.a.createElement(Ie,{className:"".concat(n,"__left__sender-profile-image"),src:r.profileUrl||"",width:"26px",height:"26px",alt:"sender-profile-image"})),a.a.createElement("div",{className:"".concat(n,"__body")},a.a.createElement(sa,{className:"".concat(n,"__body__sender-name"),type:oa.CAPTION_2,color:la.ONBACKGROUND_2},r.nickname||ua.NO_NAME),a.a.createElement("div",{className:"".concat(n,"__body__text-balloon")},a.a.createElement(sa,{className:"".concat(n,"__body__text-balloon__header"),type:oa.BODY_1,color:la.ONBACKGROUND_1},ua.UNKNOWN__UNKNOWN_MESSAGE_TYPE),a.a.createElement(sa,{className:"".concat(n,"__body__text-balloon__description"),type:oa.BODY_1,color:la.ONBACKGROUND_2},ua.UNKNOWN__CANNOT_READ_MESSAGE)),a.a.createElement(sa,{className:"".concat(n,"__body__sent-at"),type:oa.CAPTION_3,color:la.ONBACKGROUND_2},ao(t))))}so.propTypes={message:s.a.shape({}).isRequired,isByMe:s.a.bool,status:s.a.string,className:s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string)]),showRemove:s.a.func},so.defaultProps={isByMe:!1,status:"",className:"",showRemove:function(){}},oo.propTypes={message:s.a.shape({}).isRequired,status:s.a.string.isRequired,showRemove:s.a.func},oo.defaultProps={showRemove:function(){}},lo.propTypes={message:s.a.shape({sender:s.a.shape({nickname:s.a.string,profileUrl:s.a.string})}).isRequired};var uo=4,co=32,fo=function(e){var t=e.isByMe,n=e.userId,r=e.status,i=e.message,s=e.disabled,o=e.showEdit,l=e.className,u=e.membersMap,c=e.showRemove,d=e.useReaction,f=e.emojiAllMap,h=e.resendMessage,p=e.toggleReaction,m=e.memoizedEmojiListItems,g=i.ogMetaData,y=Array.isArray(l)?l:[l],_=bs({message:i.message,updatedAt:i.updatedAt,className:"sendbird-og-message-word"}),v=function(){if(ps(i)){var e=g.url;window.open(e)}};return a.a.createElement("div",{className:"".concat("sendbird-og-message"," ").concat("sendbird-og-message").concat(t?"--outgoing":"--incoming"," ").concat(y.join(" "))},t?a.a.createElement(ho,{status:r,userId:n,message:i,disabled:s,openLink:v,showEdit:o,showRemove:c,membersMap:u,useReaction:d,emojiAllMap:f,resendMessage:h,toggleReaction:p,memoizedMessageText:_,memoizedEmojiListItems:m}):a.a.createElement(po,{userId:n,message:i,openLink:v,membersMap:u,useReaction:d,emojiAllMap:f,toggleReaction:p,memoizedMessageText:_,memoizedEmojiListItems:m}))};function ho(e){var t=e.status,n=e.userId,i=e.message,s=e.disabled,o=e.openLink,l=e.showEdit,u=e.showRemove,c=e.membersMap,d=e.emojiAllMap,f=e.useReaction,h=e.resendMessage,p=e.toggleReaction,m=e.memoizedMessageText,g=e.memoizedEmojiListItems,y=i.ogMetaData,_=y.defaultImage,v=m,E=g,b=Object(r.useRef)(null),C=Object(r.useRef)(null),N=Object(r.useRef)(null),S=us(t),T=f&&i.reactions&&i.reactions.length>0;return a.a.createElement("div",{className:ms,style:{paddingLeft:"".concat(uo+(f?2*co:co),"px")}},a.a.createElement("div",{className:"".concat(ms,"__more"),ref:N},a.a.createElement(Xa,{menuTrigger:function(e){return a.a.createElement(Ea,{className:"".concat(ms,"__more__menu"),ref:C,width:"32px",height:"32px",onClick:e},a.a.createElement($r,{width:"24px",height:"24px",type:Xr.MORE,fillColor:Zr.CONTENT_INVERSE}))},menuItems:function(e){return a.a.createElement(Qa,{parentRef:C,parentContainRef:N,closeDropdown:e,openLeft:!0},S&&a.a.createElement($a,{className:"".concat(ms,"__more__menu__copy"),onClick:function(){cs(i.message),e()}},"Copy"),S&&a.a.createElement($a,{onClick:function(){s||(l(!0),e())}},"Edit"),a.a.createElement($a,{onClick:function(){s||(u(!0),e())}},"Delete"))}}),S&&f&&d.size>0&&a.a.createElement(Xa,{menuTrigger:function(e){return a.a.createElement(Ea,{className:"".concat(ms,"__more__add-reaction"),ref:b,width:"32px",height:"32px",onClick:e},a.a.createElement($r,{width:"24px",height:"24px",type:Xr.EMOJI_REACTIONS_ADD,fillColor:Zr.CONTENT_INVERSE}))},menuItems:function(e){return a.a.createElement(E,{message:i,parentRef:b,parentContainRef:N,closeDropdown:e,spaceFromTrigger:{y:2}})}})),a.a.createElement("div",{className:"".concat(ms,"__text-balloon")},a.a.createElement(v,null)),a.a.createElement("div",{className:"".concat(ms,"__thumbnail ").concat(ps(i)?"":"".concat(ms,"__thumbnail--disabled")),onClick:o,onKeyDown:o,role:"button",tabIndex:0},_&&a.a.createElement(Ee,{url:_.url||"",alt:_.alt,className:"".concat(ms,"__thumbnail__image"),width:"320px",height:"180px",defaultComponent:a.a.createElement("div",{className:"".concat(ms,"__thumbnail__image__placeholder")},a.a.createElement($r,{width:"56px",height:"56px",type:Xr.NO_THUMBNAIL}))})),a.a.createElement("div",{className:"".concat(ms,"__og-tag ").concat(ps(i)?"":"".concat(ms,"__og-tag--disabled")),onClick:o,onKeyDown:o,role:"button",tabIndex:0},y.title&&a.a.createElement("div",{className:"".concat(ms,"__og-tag__title")},a.a.createElement(sa,{type:oa.SUBTITLE_2,color:la.ONBACKGROUND_1},y.title)),y.description&&a.a.createElement("div",{className:"".concat(ms,"__og-tag__description")},a.a.createElement(sa,{type:oa.BODY_2,color:la.ONBACKGROUND_1,className:"".concat(ms,"__og-tag__description__label")},y.description)),y.url&&a.a.createElement("div",{className:"".concat(ms,"__og-tag__url")},a.a.createElement(sa,{type:oa.CAPTION_3,color:la.ONBACKGROUND_2,className:"".concat(ms,"__og-tag__url__label")},y.url)),T&&a.a.createElement("div",{className:"".concat(ms,"__og-tag__emoji-reactions--wrapper"),onClick:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},role:"button",tabIndex:0},a.a.createElement(Zi,{className:"".concat(ms,"__og-tag__emoji-reactions"),userId:n,message:i,membersMap:c,emojiAllMap:d,toggleReaction:p,memoizedEmojiListItems:g}))),a.a.createElement("div",{className:"".concat(ms,"__message-status")},a.a.createElement(Yi,{message:i,status:t,onDelete:function(){u(!0)},onResend:function(){return h(i)}})))}function po(e){var t=e.userId,n=e.message,i=e.openLink,s=e.membersMap,o=e.useReaction,l=e.emojiAllMap,u=e.toggleReaction,c=e.memoizedMessageText,d=e.memoizedEmojiListItems,f=n.ogMetaData,h=f.defaultImage,p=c,m=d,g=Object(r.useRef)(null),y=Object(r.useRef)(null),_=Object(r.useRef)(null),v=o&&n.reactions&&n.reactions.length>0,E=o&&l&&l.size>0;return a.a.createElement("div",{className:gs,style:{paddingRight:"".concat(uo+(E?2*co:co),"px")}},a.a.createElement(Ie,{className:"".concat(gs,"__avatar"),src:ds(n),width:"28px",height:"28px"}),a.a.createElement(sa,{className:"".concat(gs,"__sender-name"),type:oa.CAPTION_2,color:la.ONBACKGROUND_2},fs(n)),a.a.createElement("div",{className:"".concat(gs,"__text-balloon")},a.a.createElement(p,null)),a.a.createElement("div",{className:"".concat(gs,"__thumbnail ").concat(ps(n)?"":"".concat(gs,"__thumbnail--disabled")),onClick:i,onKeyDown:i,role:"button",tabIndex:0},h&&a.a.createElement(Ee,{url:h.url||"",alt:h.alt||"",className:"".concat(gs,"__thumbnail__image"),width:"320px",height:"180px",defaultComponent:a.a.createElement("div",{className:"".concat(gs,"__thumbnail__image__placeholder")},a.a.createElement($r,{width:"56px",height:"56px",type:Xr.NO_THUMBNAIL}))})),a.a.createElement("div",{className:"".concat(gs,"__og-tag ").concat(ps(n)?"":"".concat(gs,"__og-tag--disabled")),onClick:i,onKeyDown:i,role:"button",tabIndex:0},f.title&&a.a.createElement("div",{className:"".concat(gs,"__og-tag__title")},a.a.createElement(sa,{type:oa.SUBTITLE_2,color:la.ONBACKGROUND_1},f.title)),f.description&&a.a.createElement("div",{className:"".concat(gs,"__og-tag__description")},a.a.createElement(sa,{type:oa.BODY_2,color:la.ONBACKGROUND_1,className:"".concat(gs,"__og-tag__description__label")},f.description)),f.url&&a.a.createElement("div",{className:"".concat(gs,"__og-tag__url")},a.a.createElement(sa,{type:oa.CAPTION_3,color:la.ONBACKGROUND_2,className:"".concat(gs,"__og-tag__url__label")},f.url)),v&&a.a.createElement("div",{className:"".concat(gs,"__og-tag__emoji-reactions--wrapper"),onClick:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},role:"button",tabIndex:0},a.a.createElement(Zi,{className:"".concat(gs,"__og-tag__emoji-reactions"),userId:t,message:n,membersMap:s,emojiAllMap:l,toggleReaction:u,memoizedEmojiListItems:d}))),a.a.createElement(sa,{className:"".concat(gs,"__sent-at"),type:oa.CAPTION_3,color:la.ONBACKGROUND_2},hs(n)),a.a.createElement("div",{className:"".concat(gs,"__more"),ref:_},E&&a.a.createElement(Xa,{menuTrigger:function(e){return a.a.createElement(Ea,{ref:g,width:"32px",height:"32px",onClick:e},a.a.createElement($r,{width:"24px",height:"24px",type:Xr.EMOJI_REACTIONS_ADD,fillColor:Zr.CONTENT_INVERSE}))},menuItems:function(e){return a.a.createElement(m,{parentRef:g,parentContainRef:_,closeDropdown:e,message:n,spaceFromTrigger:{y:2}})}}),a.a.createElement(Xa,{menuTrigger:function(e){return a.a.createElement(Ea,{ref:y,width:"32px",height:"32px",onClick:e},a.a.createElement($r,{width:"24px",height:"24px",type:Xr.MORE,fillColor:Zr.CONTENT_INVERSE}))},menuItems:function(e){return a.a.createElement(Qa,{parentRef:y,parentContainRef:_,closeDropdown:e},a.a.createElement($a,{className:"".concat(gs,"__more__menu__copy"),onClick:function(){cs(n.message),e()}},"Copy"))}})))}var mo=function(){};fo.propTypes={isByMe:s.a.bool.isRequired,userId:s.a.string.isRequired,message:s.a.shape({message:s.a.string,ogMetaData:s.a.shape({title:s.a.string,description:s.a.string,url:s.a.string,defaultImage:s.a.shape({url:s.a.string,alt:s.a.string})}),reactions:s.a.array,updatedAt:s.a.number}).isRequired,useReaction:s.a.bool.isRequired,className:s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string)]),status:s.a.string,disabled:s.a.bool,showEdit:s.a.func,showRemove:s.a.func,resendMessage:s.a.func,toggleReaction:s.a.func,membersMap:s.a.instanceOf(Map),emojiAllMap:s.a.instanceOf(Map),memoizedEmojiListItems:s.a.func},fo.defaultProps={className:"",status:"",disabled:!1,showEdit:mo,showRemove:mo,resendMessage:mo,toggleReaction:mo,membersMap:new Map,emojiAllMap:new Map,memoizedEmojiListItems:mo},ho.propTypes={status:s.a.string,userId:s.a.string.isRequired,message:s.a.shape({message:s.a.string,ogMetaData:s.a.shape({title:s.a.string,description:s.a.string,url:s.a.string,defaultImage:s.a.shape({url:s.a.string,alt:s.a.string})}),reactions:s.a.array,updatedAt:s.a.number}).isRequired,disabled:s.a.bool.isRequired,openLink:s.a.func.isRequired,showEdit:s.a.func.isRequired,showRemove:s.a.func.isRequired,membersMap:s.a.instanceOf(Map).isRequired,emojiAllMap:s.a.instanceOf(Map).isRequired,useReaction:s.a.bool.isRequired,resendMessage:s.a.func.isRequired,toggleReaction:s.a.func.isRequired,memoizedMessageText:s.a.func.isRequired,memoizedEmojiListItems:s.a.func.isRequired},ho.defaultProps={status:""},po.propTypes={userId:s.a.string.isRequired,message:s.a.shape({message:s.a.string,ogMetaData:s.a.shape({title:s.a.string,description:s.a.string,url:s.a.string,defaultImage:s.a.shape({url:s.a.string,alt:s.a.string})}),reactions:s.a.array,updatedAt:s.a.number}).isRequired,openLink:s.a.func.isRequired,membersMap:s.a.instanceOf(Map).isRequired,emojiAllMap:s.a.instanceOf(Map).isRequired,useReaction:s.a.bool.isRequired,toggleReaction:s.a.func.isRequired,memoizedMessageText:s.a.func.isRequired,memoizedEmojiListItems:s.a.func.isRequired};var go={ADMIN:"ADMIN",USER:"USER",FILE:"FILE",THUMBNAIL:"THUMBNAIL",OG:"OG"},yo=function(e){return e.isUserMessage&&e.isUserMessage()||"user"===e.messageType?e.ogMetaData?go.OG:go.USER:e.isAdminMessage&&e.isAdminMessage()?go.ADMIN:e.isFileMessage&&e.isFileMessage()||"file"===e.messageType?Ms(e.type)||Ps(e.type)?go.THUMBNAIL:go.FILE:""};function _o(e){var t,n=e.message,i=e.userId,s=e.disabled,o=e.editDisabled,l=e.hasSeperator,u=e.deleteMessage,d=e.updateMessage,f=e.status,h=e.resendMessage,p=e.useReaction,g=e.emojiAllMap,y=e.membersMap,_=e.toggleReaction,v=e.memoizedEmojiListItems,E=n.sender,b=void 0===E?{}:E,C=N(Object(r.useState)(!1),2),S=C[0],T=C[1],O=N(Object(r.useState)(!1),2),w=O[0],k=O[1],A=N(Object(r.useState)(!1),2),R=A[0],I=A[1],M=Object(r.useRef)(null),P=i===b.userId||"pending"===n.requestState||"failed"===n.requestState;return S?a.a.createElement(eo,{isEdit:!0,disabled:o,ref:M,name:n.messageId,onSendMessage:d,onCancelEdit:function(){T(!1)},value:n.message}):a.a.createElement("div",{className:"sendbird-msg-hoc sendbird-msg--scroll-ref"},l&&a.a.createElement(Js,null,a.a.createElement(sa,{type:oa.CAPTION_2,color:la.ONBACKGROUND_2},c()(n.createdAt).format("LL"))),(t={},m(t,go.ADMIN,a.a.createElement(ks,{message:n})),m(t,go.FILE,a.a.createElement(Qs,{message:n,userId:i,disabled:s,isByMe:P,showRemove:k,resendMessage:h,status:f,useReaction:p,emojiAllMap:g,membersMap:y,toggleReaction:_,memoizedEmojiListItems:v})),m(t,go.OG,a.a.createElement(fo,{message:n,status:f,isByMe:P,userId:i,showEdit:T,disabled:s,showRemove:k,resendMessage:h,useReaction:p,emojiAllMap:g,membersMap:y,toggleReaction:_,memoizedEmojiListItems:v})),m(t,go.THUMBNAIL,a.a.createElement(Fs,{disabled:s,message:n,userId:i,isByMe:P,showRemove:k,resendMessage:h,onClick:I,status:f,useReaction:p,emojiAllMap:g,membersMap:y,toggleReaction:_,memoizedEmojiListItems:v})),m(t,go.USER,a.a.createElement(Ts,{message:n,disabled:s,isByMe:P,userId:i,showEdit:T,showRemove:k,resendMessage:h,status:f,useReaction:p,emojiAllMap:g,membersMap:y,toggleReaction:_,memoizedEmojiListItems:v})),t)[yo(n)],w&&a.a.createElement(ro,{onCloseModal:function(){return k(!1)},onDeleteMessage:function(){u(n)}}),R&&a.a.createElement(no,{onClose:function(){return I(!1)},message:n,onDelete:function(){u(n,function(){I(!1)})},isByMe:P}),!(n.isFileMessage&&n.isFileMessage()||"file"===n.messageType)&&!(n.isAdminMessage&&n.isAdminMessage())&&!(n.isUserMessage&&n.isUserMessage()||"user"===n.messageType)&&!R&&a.a.createElement(so,{message:n,status:f,isByMe:P,showRemove:k}))}_o.propTypes={userId:s.a.string,message:s.a.shape({isFileMessage:s.a.func,isAdminMessage:s.a.func,isUserMessage:s.a.func,isDateSeperator:s.a.func,messageId:s.a.number,type:s.a.string,createdAt:s.a.number,message:s.a.string,requestState:s.a.string,messageType:s.a.string,sender:s.a.shape({userId:s.a.string}),ogMetaData:s.a.shape({})}),hasSeperator:s.a.bool,disabled:s.a.bool,editDisabled:s.a.bool,deleteMessage:s.a.func.isRequired,updateMessage:s.a.func.isRequired,resendMessage:s.a.func.isRequired,status:s.a.string,useReaction:s.a.bool.isRequired,emojiAllMap:s.a.instanceOf(Map).isRequired,membersMap:s.a.instanceOf(Map).isRequired,toggleReaction:s.a.func,memoizedEmojiListItems:s.a.func},_o.defaultProps={userId:"",editDisabled:!1,message:{},hasSeperator:!1,disabled:!1,status:"",toggleReaction:function(){},memoizedEmojiListItems:function(){return""}};var vo=function(e){function t(){var e,n;f(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return m(b(n=C(this,(e=v(t)).call.apply(e,[this].concat(a)))),"onScroll",function(e){var t=n.props,r=t.scrollRef,a=t.hasMore,i=t.messagesDispatcher,s=t.onScroll,o=t.currentGroupChannel,l=e.target,u=l.scrollTop,c=l.clientHeight,d=l.scrollHeight;if(0===u){if(!a)return;var f=r.current.querySelectorAll(".sendbird-msg--scroll-ref")[0];s(function(e){N(e,1)[0]&&f.scrollIntoView()})}setTimeout(function(){c+u===d&&(i({type:wi}),o.markAsRead())},500)}),n}return _(t,r["Component"]),p(t,[{key:"render",value:function(){var e=this.props,t=e.scrollRef,n=e.initialized,r=e.editDisabled,i=e.allMessages,s=e.userId,o=e.disabled,l=e.deleteMessage,u=e.updateMessage,d=e.readStatus,f=e.currentGroupChannel,h=e.resendMessage,p=e.renderChatItem,m=e.useReaction,g=e.emojiContainer,y=e.emojiAllMap,_=e.membersMap,v=e.toggleReaction,E=e.memoizedEmojiListItems;return a.a.createElement("div",{className:"sendbird-conversation__messages"},a.a.createElement("div",{ref:t,className:"sendbird-conversation__scroll-container",onScroll:this.onScroll},a.a.createElement("div",{className:"sendbird-conversation__padding"}),a.a.createElement("div",{className:"sendbird-conversation__messages-padding"},n&&i.map(function(e,t){var n=i[t-1],b=n&&n.createdAt,C=e.createdAt,N=!(b&&c()(C).isSame(c()(b),"day"));return p?a.a.createElement("div",{key:e.messageId||e.reqId,className:"sendbird-msg--scroll-ref"},p({message:e,onDeleteMessage:l,onUpdateMessage:u,onResendMessage:h,emojiContainer:g})):a.a.createElement(_o,{status:d[e.messageId]||Mi(e,f),key:e.messageId||e.reqId,message:e,userId:s,disabled:o,editDisabled:r,hasSeperator:N,deleteMessage:l,updateMessage:u,useReaction:m,resendMessage:h,emojiAllMap:y,membersMap:_,toggleReaction:v,memoizedEmojiListItems:E})}))))}}]),t}();function Eo(e){var t=e.count,n=e.time,r=e.onClick,i=n.split(" ");return i.splice(-2,0,ua.CHANNEL__MESSAGE_LIST__NOTIFICATION__ON),a.a.createElement("div",{className:"sendbird-notification",onClick:r},a.a.createElement(sa,{className:"sendbird-notification__text",color:la.ONCONTENT_1,type:oa.CAPTION_2},"".concat(t," "),ua.CHANNEL__MESSAGE_LIST__NOTIFICATION__NEW_MESSAGE," ".concat(i.join(" "))),a.a.createElement($r,{width:"24px",height:"24px",type:Xr.SHEVRON_DOWN,fillColor:Zr.CONTENT}))}vo.propTypes={scrollRef:s.a.shape({current:s.a.oneOfType([s.a.element,s.a.shape({})])}).isRequired,hasMore:s.a.bool,messagesDispatcher:s.a.func.isRequired,onScroll:s.a.func,initialized:s.a.bool,editDisabled:s.a.bool,disabled:s.a.bool,userId:s.a.string,allMessages:s.a.arrayOf(s.a.shape({createdAt:s.a.number})).isRequired,deleteMessage:s.a.func.isRequired,resendMessage:s.a.func.isRequired,updateMessage:s.a.func.isRequired,readStatus:s.a.shape({}).isRequired,currentGroupChannel:s.a.shape({markAsRead:s.a.func,members:s.a.arrayOf(s.a.shape({}))}).isRequired,renderChatItem:s.a.element,useReaction:s.a.bool,emojiContainer:s.a.shape({}),emojiAllMap:s.a.instanceOf(Map),membersMap:s.a.instanceOf(Map),toggleReaction:s.a.func,memoizedEmojiListItems:s.a.func},vo.defaultProps={hasMore:!1,editDisabled:!1,disabled:!1,initialized:!1,userId:"",renderChatItem:null,onScroll:null,useReaction:!0,emojiContainer:{},emojiAllMap:new Map,membersMap:new Map,toggleReaction:function(){},memoizedEmojiListItems:function(){return""}},Eo.propTypes={count:s.a.oneOfType([s.a.string,s.a.number]),time:s.a.string,onClick:s.a.func.isRequired},Eo.defaultProps={count:0,time:""};var bo=function(){return a.a.createElement("div",{className:"sendbird-notification sendbird-notification--frozen"},a.a.createElement(sa,{className:"sendbird-notification__text",type:oa.CAPTION_2},ua.CHANNEL_FROZEN))},Co=function(e){return e&&0!==e.length?e&&1===e.length?"".concat(e[0].nickname," ").concat(ua.TYPING_INDICATOR__IS_TYPING):e&&2===e.length?"".concat(e[0].nickname," ").concat(ua.TYPING_INDICATOR__AND," ").concat(e[1].nickname," ").concat(ua.TYPING_INDICATOR__ARE_TYPING):ua.TYPING_INDICATOR__MULTIPLE_TYPING:""};function No(e){var t=e.channelUrl,n=e.sb,i=e.logger,s=N(Object(r.useState)(j()),2),o=s[0],l=s[1],u=N(Object(r.useState)([]),2),c=u[0],d=u[1];return Object(r.useEffect)(function(){if(n&&n.ChannelHandler){n.removeChannelHandler(o);var e=j(),r=new n.ChannelHandler;r.onTypingStatusUpdated=function(e){i.info("Channel > Typing Indicator: onTypingStatusUpdated",e);var n=e.getTypingMembers();e.url===t&&d(n)},n.addChannelHandler(e,r),l(e)}return function(){d([]),n&&n.removeChannelHandler&&n.removeChannelHandler(o)}},[t]),a.a.createElement(sa,{type:oa.CAPTION_2,color:la.ONBACKGROUND_2},Co(c))}No.propTypes={channelUrl:s.a.string.isRequired,sb:s.a.shape({ChannelHandler:s.a.func,removeChannelHandler:s.a.func,addChannelHandler:s.a.func}).isRequired,logger:s.a.shape({info:s.a.func}).isRequired};var So=a.a.forwardRef(function(e,t){var n=e.channel,r=e.user,i=e.onSendMessage,s=e.onFileUpload,o=e.renderMessageInput,l=e.isOnline,u=!e.initialized||Ui(n)||Li(n)||!l,c=Pi(n),d=n.isBroadcast;return o?o({channel:n,user:r,disabled:u}):d&&!c?null:a.a.createElement(eo,{placeholder:Ui(n)&&ua.CHANNEL__MESSAGE_INPUT__PLACE_HOLDER__DISABLED||Li(n)&&ua.CHANNEL__MESSAGE_INPUT__PLACE_HOLDER__MUTED,ref:t,disabled:u,onStartTyping:function(){n.startTyping()},onSendMessage:i,onFileUpload:s})});function To(){return a.a.createElement("div",{className:"sendbird-conversation__connection-status"},a.a.createElement(sa,{type:oa.BODY_2,color:la.ONBACKGROUND_2},ua.TRYING_TO_CONNECT),a.a.createElement($r,{type:Xr.DISCONNECTED,fillColor:Zr.SENT,height:"14px",width:"14px"}))}var Oo=function(e){if(!e||!e.getReadStatus||!e.members||2!==e.members.length)return"";var t,n=S(Object.values(e.getReadStatus())),r=n.length>0?n[0].last_seen_at:0;return 0===r?"":(t=r,c()(t,"x").fromNow())},wo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return e&&(e.name||e.members)?e.name&&"Group Channel"!==e.name?e.name:1===e.members.length?ua.NO_MEMBERS:e.members.filter(function(e){return e.userId!==t}).map(function(e){return e.nickname||ua.NO_NAME}).join(", "):ua.NO_TITLE};function ko(e){var t=e.repeatFunc,n=N(Object(r.useState)(t()),2),i=n[0],s=n[1];return Object(r.useEffect)(function(){var e=setInterval(function(){i!==t()&&s(t())},1e4);return function(){clearInterval(e)}},[]),a.a.createElement("div",{className:"sendbird-repeat-text"},i)}function Ao(e){var t=e.currentGroupChannel,n=e.currentUser,r=e.title,i=e.subTitle,s=e.isActive,o=e.isMuted,l=e.onActionClick,u=e.theme,c=n.userId;return a.a.createElement("div",{className:"sendbird-chat-header"},a.a.createElement("div",{className:"sendbird-chat-header__left"},a.a.createElement(na,{theme:u,channel:t,userId:c,height:32,width:32}),a.a.createElement(sa,{className:"sendbird-chat-header__title",type:oa.H_2,color:la.ONBACKGROUND_1},r||wo(t,c)),"string"===typeof s&&"true"===s||"boolean"===typeof s&&s?a.a.createElement("div",{className:"sendbird-chat-header__active"}):null,a.a.createElement(sa,{className:"sendbird-chat-header__subtitle",type:oa.BODY_1,color:la.ONBACKGROUND_2},i||a.a.createElement(ko,{repeatFunc:function(){return Oo(t)}}))),a.a.createElement("div",{className:"sendbird-chat-header__right"},"string"===typeof o&&"true"===o||"boolean"===typeof o&&o?a.a.createElement($r,{className:"sendbird-chat-header__mute",type:Xr.MUTE,width:"24px",height:"24px"}):null,a.a.createElement(Ea,{className:"sendbird-chat-header__info",width:"32px",height:"32px",onClick:l},a.a.createElement($r,{type:Xr.INFO,fillColor:Zr.PRIMARY,width:"24px",height:"24px"}))))}ko.propTypes={repeatFunc:s.a.func.isRequired},Ao.propTypes={currentGroupChannel:s.a.shape({members:s.a.arrayOf(s.a.shape({})),coverUrl:s.a.string}),theme:s.a.string,currentUser:s.a.shape({userId:s.a.string}),title:s.a.string,subTitle:s.a.oneOfType([s.a.bool,s.a.string]),isActive:s.a.oneOfType([s.a.string,s.a.bool]),isMuted:s.a.oneOfType([s.a.string,s.a.bool]),onActionClick:s.a.func},Ao.defaultProps={currentGroupChannel:{},title:"",theme:"light",subTitle:"",isActive:!1,isMuted:!1,currentUser:{},onActionClick:function(){}};var Ro=function(e){var t=e.channelUrl,n=e.stores,i=n.sdkStore,s=n.userStore,o=e.config,l=o.userId,u=o.logger,c=o.pubSub,d=o.isOnline,f=o.theme,h=e.dispatchers.reconnect,p=e.queries,g=void 0===p?{}:p,_=e.renderChatItem,v=e.renderMessageInput,E=e.renderChatHeader,b=e.onChatHeaderActionClick,C=e.onBeforeSendUserMessage,S=e.onBeforeSendFileMessage,T=e.onBeforeUpdateUserMessage,O=i.sdk,w=i.error,k=i.initialized,A=s.user;g.messageListQuery&&console.warn("messageListQuery will be deprecared in v1.3.0, please use messageListParams instead");var R=g.messageListParams||g.messageListQuery,I=N(Object(r.useReducer)(Hi,xi),2),M=I[0],P=I[1],U=Object(r.useRef)(null),L=M.allMessages,D=M.loading,x=M.hasMore,F=M.initialized,H=M.unreadCount,G=M.unreadSince,B=M.invalidChannel,z=M.currentGroupChannel,V=void 0===z?{}:z,q=M.lastMessageTimeStamp,Y=M.emojiContainer,K=M.readStatus,W=V.isFrozen,Q=V.isBroadcast,J=O.appInfo,$=(void 0===J?{}:J).isUsingReaction&&!Q||!1,X=Object(r.useMemo)(function(){return $?function(){for(var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).emojiCategories,t=void 0===e?[]:e,n=new Map,r=0;r<t.length;r+=1)for(var a=t[r].emojis,i=0;i<a.length;i+=1){var s=a[i],o=s.key,l=s.url;n.set(o,l)}return n}(Y):new Map},[Y]),Z=Object(r.useMemo)(function(){return $?Di(Y):[]},[Y]),ee=Object(r.useMemo)(function(){return $?function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=new Map,n=0;n<e.length;n+=1){var r=e[n],a=r.userId,i=r.nickname;t.set(a,i)}return t}(V.members):new Map},[V.members]),te=function(e,t){var n=e.currentGroupChannel,a=e.lastMessageTimeStamp,i=e.userFilledMessageListQuery,s=t.hasMore,o=t.logger,l=t.messagesDispatcher,u=t.sdk;return Object(r.useCallback)(function(e){if(s){var t=new u.MessageListParams;t.prevResultSize=30,t.includeReplies=!1,t.includeReaction=!0,i&&Object.keys(i).forEach(function(e){t[e]=i[e]}),o.info("Channel: Fetching messages",{currentGroupChannel:n,userFilledMessageListQuery:i}),n.getMessagesByTimestamp(a||(new Date).getTime(),t).then(function(t){var r=t&&t.length>0,a=r?t[0].createdAt:null;l({type:gi,payload:{messages:t,hasMore:r,lastMessageTimeStamp:a,currentGroupChannel:n}}),e([t,null])}).catch(function(t){o.error("Channel: Fetching messages failed",t),l({type:gi,payload:{messages:[],hasMore:!1,lastMessageTimeStamp:0,currentGroupChannel:n}}),e([null,t])}).finally(function(){n.markAsRead()})}},[n,a])}({currentGroupChannel:V,lastMessageTimeStamp:q,userFilledMessageListQuery:R},{hasMore:x,logger:u,messagesDispatcher:P,sdk:O}),ne=function(e,t){var n=e.currentGroupChannel,a=t.logger;return Object(r.useCallback)(function(e,t,r){r?n.deleteReaction(e,t).then(function(e){a.info("Delete reaction success",e)}).catch(function(e){a.warning("Delete reaction failed",e)}):n.addReaction(e,t).then(function(e){a.info("Add reaction success",e)}).catch(function(e){a.warning("Add reaction failed",e)})},[n])}({currentGroupChannel:V},{logger:u}),re=function(e,t){var n=e.emojiContainer,i=e.toggleReaction,s=t.useReaction,o=t.logger,l=t.userId,u=t.emojiAllList;return Object(r.useMemo)(function(){return function(e){var t=e.parentRef,n=e.parentContainRef,r=e.message,c=e.closeDropdown,d=e.spaceFromTrigger,f=void 0===d?{}:d;return s&&(t||n||r||c)?a.a.createElement(Ja,{parentRef:t,parentContainRef:n,closeDropdown:c,spaceFromTrigger:f},u.map(function(e){var t=r.reactions.filter(function(t){return t.key===e.key})[0],n=!!t&&!(t.userIds.indexOf(l)<0);return a.a.createElement(Gi,{key:e.key,width:"36px",height:"36px",selected:n,onClick:function(){c(),i(r,e.key,n)}},a.a.createElement(Ee,{url:e.url,width:"28px",height:"28px",defaultComponent:a.a.createElement($r,{width:"28px",height:"28px",type:Xr.EMOJI_FAILED})}))})):(o.warning("Channel: Invalid Params in memoizedEmojiListItems"),null)}},[n,i])}({emojiContainer:Y,toggleReaction:ne},{useReaction:$,logger:u,userId:l,emojiAllList:Z});!function(e,t){var n=e.channelUrl,a=e.sdkInit,i=t.messagesDispatcher,s=t.sdk,o=t.logger;Object(r.useEffect)(function(){n&&a&&s&&s.GroupChannel&&(o.info("Channel | useSetChannel fetching channel",n),s.GroupChannel.getChannel(n).then(function(e){o.info("Channel | useSetChannel fetched channel",e),i({type:Ti,payload:e}),o.info("Channel: Mark as read",e),e.markAsRead()}).catch(function(e){o.warning("Channel | useSetChannel fetch channel failed",{channelUrl:n,e:e}),i({type:Oi})}),s.getAllEmoji(function(e,t){t?o.error("Channel: Getting emojis failed",t):(o.info("Channel: Getting emojis success",e),i({type:Ai,payload:e}))}))},[n,a])}({channelUrl:t,sdkInit:k},{messagesDispatcher:P,sdk:O,logger:u}),function(e,t){var n=e.currentGroupChannel,a=e.sdkInit,i=t.messagesDispatcher,s=t.sdk,o=t.logger,l=n&&n.url;Object(r.useEffect)(function(){var e=j();if(l&&s&&s.ChannelHandler){var t=new s.ChannelHandler;o.info("Channel | useHandleChannelEvents: Setup event handler",e),t.onMessageReceived=function(e,t){ji(e.url,n.url)&&(o.info("Channel | useHandleChannelEvents: onMessageReceived",t),i({type:bi,payload:{channel:e,message:t}}))},t.onMessageUpdated=function(e,t){o.info("Channel | useHandleChannelEvents: onMessageUpdated",t),i({type:Ci,payload:t})},t.onMessageDeleted=function(e,t){o.info("Channel | useHandleChannelEvents: onMessageDeleted",t),i({type:Ni,payload:t})},t.onReactionUpdated=function(e,t){o.info("Channel | useHandleChannelEvents: onReactionUpdated",t),i({type:ki,payload:t})},t.onChannelChanged=function(e){ji(e.url,n.url)&&(o.info("Channel | useHandleChannelEvents: onChannelChanged",e),i({type:Ti,payload:e}))},t.onChannelFrozen=function(e){ji(e.url,n.url)&&(o.info("Channel | useHandleChannelEvents: onChannelFrozen",e),i({type:Ti,payload:e}))},t.onChannelUnfrozen=function(e){ji(e.url,n.url)&&(o.info("Channel | useHandleChannelEvents: onChannelUnFrozen",e),i({type:Ti,payload:e}))},t.onUserMuted=function(e){ji(e.url,n.url)&&(o.info("Channel | useHandleChannelEvents: onUserMuted",e),i({type:Ti,payload:e}))},t.onUserUnmuted=function(e){ji(e.url,n.url)&&(o.info("Channel | useHandleChannelEvents: onUserUnmuted",e),i({type:Ti,payload:e}))},t.onUserBanned=function(e){ji(e.url,n.url)&&(o.info("Channel | useHandleChannelEvents: onUserBanned",e),i({type:Ti,payload:e}))},t.onOperatorUpdated=function(e){ji(e.url,n.url)&&(o.info("Channel | useHandleChannelEvents: onOperatorUpdated",e),i({type:Ti,payload:e}))},s.addChannelHandler(e,t)}return function(){s&&s.removeChannelHandler&&(o.info("Channel | useHandleChannelEvents: Removing message reciver handler",e),s.removeChannelHandler(e))}},[l,a])}({currentGroupChannel:V,sdkInit:k,userId:l},{messagesDispatcher:P,sdk:O,logger:u}),function(e,t){var n=e.currentGroupChannel,a=e.userFilledMessageListQuery,i=t.sdk,s=t.logger,o=t.messagesDispatcher,l=n&&n.url;Object(r.useEffect)(function(){if(s.info("Channel useInitialMessagesFetch: Setup started",n),o({type:fi}),i&&i.MessageListParams&&n&&n.getMessagesByMessageId){var e=new i.MessageListParams;e.prevResultSize=30,e.isInclusive=!0,e.includeReplies=!1,e.includeReaction=!0,a&&Object.keys(a).forEach(function(t){e[t]=a[t]}),s.info("Channel: Fetching messages",{currentGroupChannel:n,userFilledMessageListQuery:a}),n.getMessagesByTimestamp((new Date).getTime(),e).then(function(e){var t=e&&e.length>0,r=t?e[0].createdAt:null;o({type:gi,payload:{messages:e,hasMore:t,lastMessageTimeStamp:r,currentGroupChannel:n}})}).catch(function(e){s.error("Channel: Fetching messages failed",e),o({type:gi,payload:{messages:[],hasMore:!1,lastMessageTimeStamp:0,currentGroupChannel:n}})}).finally(function(){n.markAsRead(),setTimeout(function(){return Ii(".sendbird-msg--scroll-ref")})})}},[l,a])}({currentGroupChannel:V,userFilledMessageListQuery:R},{sdk:O,logger:u,messagesDispatcher:P}),Object(r.useEffect)(function(){var e=function(e,t,n){var r=new Map;return t&&t.subscribe?(r.set("SEND_USER_MESSAGE",t.subscribe("SEND_USER_MESSAGE",function(t){var r=t.channel,a=t.message;Ii(".sendbird-msg--scroll-ref"),r&&e===r.url&&n({type:_i,payload:a})})),r.set(ai,t.subscribe(ai,function(t){var r=t.channel,a=t.message;r&&e===r.url&&n({type:yi,payload:a})})),r.set("SEND_FILE_MESSAGE",t.subscribe("SEND_FILE_MESSAGE",function(t){var r=t.channel,a=t.message;Ii(".sendbird-msg--scroll-ref"),r&&e===r.url&&n({type:_i,payload:a})})),r.set(ii,t.subscribe(ii,function(t){var r=t.channel,a=t.message;t.fromSelector&&r&&e===r.url&&n({type:Ci,payload:a})})),r.set("DELETE_MESSAGE",t.subscribe("DELETE_MESSAGE",function(t){var r=t.channel,a=t.messageId;r&&e===r.url&&n({type:Ni,payload:a})})),r):r}(t,c,P);return function(){e.forEach(function(e){try{e.remove()}catch(t){}})}},[t,k]),function(e,t){var n=e.allMessages,a=e.currentGroupChannel,i=t.messagesDispatcher,s=t.sdk,o=t.logger;Object(r.useEffect)(function(){if(!s.ChannelHandler||!a.url)return function(){};var e=function(){var e=n.reduce(function(e,t){return 0!==t.messageId?y({},e,m({},t.messageId,Mi(t,a))):e},{});i({type:Ri,payload:e})};n.length>0&&e();var t=a.url,r=new s.ChannelHandler,l=function(n){t===n.url&&e()};r.onDeliveryReceiptUpdated=l,r.onReadReceiptUpdated=l;var u=j();return o.info("Channel | useSetReadStatus: Removing message reciver handler",u),s.addChannelHandler(u,r),function(){s&&s.removeChannelHandler&&(o.info("Channel | useSetReadStatus: Removing message reciver handler",u),s.removeChannelHandler(u))}},[n,a])}({allMessages:L,currentGroupChannel:V},{messagesDispatcher:P,sdk:O,logger:u}),function(e,t){var n=e.isOnline,a=t.logger,i=t.sdk,s=t.currentGroupChannel,o=t.messagesDispatcher,l=t.userFilledMessageListQuery;Object(r.useEffect)(function(){var e=!n;return function(){if(e){a.info("Refreshing conversation state");var t=i.appInfo,n=(void 0===t?{}:t).isUsingReaction||!1,r=new i.MessageListParams;r.prevResultSize=30,r.includeReplies=!1,r.includeReaction=n,l&&Object.keys(l).forEach(function(e){r[e]=l[e]}),a.info("Channel: Fetching messages",{currentGroupChannel:s,userFilledMessageListQuery:l}),o({type:mi}),i.GroupChannel.getChannel(s.url).then(function(e){var t=(new Date).getTime();e.getMessagesByTimestamp(t,r).then(function(e){o({type:pi});var t=e&&e.length>0,n=t?e[0].createdAt:null;o({type:gi,payload:{messages:e,hasMore:t,lastMessageTimeStamp:n,currentGroupChannel:s}}),setTimeout(function(){return Ii(".sendbird-msg--scroll-ref")})}).catch(function(e){a.error("Channel: Fetching messages failed",e)}).finally(function(){s.markAsRead()})})}}},[n])}({isOnline:d},{logger:u,sdk:O,currentGroupChannel:V,messagesDispatcher:P,userFilledMessageListQuery:R});var ae=function(e,t){var n=e.currentGroupChannel,a=e.messagesDispatcher,i=t.logger;return Object(r.useCallback)(function(e,t){i.info("Channel | useDeleteMessageCallback: Deleting message",e);var r=e.requestState;if(i.info("Channel | useDeleteMessageCallback: Deleting message requestState:",r),"failed"===r||"pending"===r)return i.info("Channel | useDeleteMessageCallback: Deleted message from local:",e),a({type:Si,payload:e.reqId}),void(t&&t());n.deleteMessage(e,function(n){i.info("Channel | useDeleteMessageCallback: Deleting message from remote:",r),t&&t(n),n?i.warning("Channel | useDeleteMessageCallback: Deleting message failed!",n):(i.info("Channel | useDeleteMessageCallback: Deleting message success!",e),a({type:Ni,payload:e.messageId}))})},[n,a])}({currentGroupChannel:V,messagesDispatcher:P},{logger:u}),ie=function(e,t){var n=e.currentGroupChannel,a=e.messagesDispatcher,i=e.onBeforeUpdateUserMessage,s=t.logger,o=t.pubSub,l=t.sdk;return Object(r.useCallback)(function(e,t,r){i&&"function"===typeof i&&s.info("Channel: creting params using onBeforeUpdateUserMessage",i);var u=i?i(t):function(e){var t=new l.UserMessageParams;return t.message=e,t}(t);n.updateUserMessage(e,u,function(e,t){s.info("Channel: Updating message!",u);var i=e,c=t;l.getErrorFirstCallback()&&(i=t,c=e),r&&r(c,i),c?s.warning("Channel: Updating message failed!",c):(s.info("Channel: Updating message success!",i),a({type:Ci,payload:i}),o.publish(ii,{message:i,channel:n}))})},[n.url,a,i])}({currentGroupChannel:V,messagesDispatcher:P,onBeforeUpdateUserMessage:T},{logger:u,sdk:O,pubSub:c}),se=function(e,t){var n=e.currentGroupChannel,a=e.messagesDispatcher,i=t.logger;return Object(r.useCallback)(function(e){i.info("Channel: Resending message has started",e);var t=e.messageType,r=e.file;if(e&&"function"===typeof e.isResendable&&e.isResendable()){if(e.requestState="pending",a({type:Ei,payload:e}),"user"===t)return n.resendUserMessage(e).then(function(e){i.info("Channel: Resending message success!",{message:e}),a({type:_i,payload:e})}).catch(function(t){i.warning("Channel: Resending message failed!",{e:t}),e.requestState="failed",a({type:vi,payload:e})}),e.requestState="pending",void a({type:Ei,payload:e});"file"===t&&(n.resendFileMessage(e,r).then(function(e){i.info("Channel: Resending file message success!",{message:e}),a({type:_i,payload:e})}).catch(function(t){i.warning("Channel: Resending file message failed!",{e:t}),e.requestState="failed",a({type:vi,payload:e})}),e.requestState="pending",a({type:Ei,payload:e}))}else console.error("Message is not resendable"),i.warning("Message is not resendable",e)},[n,a])}({currentGroupChannel:V,messagesDispatcher:P},{logger:u}),oe=N(function(e,t){var n=e.currentGroupChannel,a=e.onBeforeSendUserMessage,i=t.sdk,s=t.logger,o=t.pubSub,l=t.messagesDispatcher,u=Object(r.useRef)(null),c=Object(r.useCallback)(function(){var e=u.current.value;a&&"function"===typeof a&&s.info("Channel: creting params using onBeforeSendUserMessage",a);var t=a?a(e):function(e){var t=new i.UserMessageParams;return t.message=e,t}(e);s.info("Channel: Sending message has started",t);var r=n.sendUserMessage(t,function(e,t){var n=e,r=t;if(i.getErrorFirstCallback()&&(n=t,r=e),r)return s.warning("Channel: Sending message failed!",{message:n}),void l({type:vi,payload:n});s.info("Channel: Sending message success!",n),l({type:_i,payload:n})});o.publish(ai,{message:r,channel:n}),setTimeout(function(){return Ii(".sendbird-msg--scroll-ref")})},[n,a]);return[u,c]}({currentGroupChannel:V,onBeforeSendUserMessage:C},{sdk:O,logger:u,pubSub:c,messagesDispatcher:P}),2),le=oe[0],ue=oe[1],ce=N(function(e,t){var n=e.currentGroupChannel,a=e.onBeforeSendFileMessage,i=t.sdk,s=t.logger,o=t.pubSub,l=t.messagesDispatcher;return[Object(r.useCallback)(function(e){a&&"function"===typeof a&&s.info("Channel: creting params using onBeforeSendFileMessage",a);var t=a?a(e):function(e){var t=new i.FileMessageParams;return t.file=e,t}(e);s.info("Channel: Uploading file message start!",t);var r=n.sendFileMessage(t,function(t,n){var r=t,a=n;if(i.getErrorFirstCallback()&&(r=n,a=t),a)return s.error("Channel: Sending file message failed!",r),r.url=URL.createObjectURL(e),r.file=e,void l({type:vi,payload:r});s.info("Channel: Sending message success!",r),l({type:_i,payload:r})});o.publish(ai,{message:y({},r,{url:URL.createObjectURL(e),requestState:"pending"}),channel:n}),setTimeout(function(){return Ii(".sendbird-msg--scroll-ref")},1e3)},[n,a])]}({currentGroupChannel:V,onBeforeSendFileMessage:S},{sdk:O,logger:u,pubSub:c,messagesDispatcher:P}),1)[0];return w?a.a.createElement("div",{className:"sendbird-conversation"},a.a.createElement(ni,{type:Ca.WRONG,retryToConnect:function(){u.info("Channel: reconnecting"),h()}})):t?D?a.a.createElement("div",{className:"sendbird-conversation"},a.a.createElement(ni,{type:Ca.LOADING})):B?a.a.createElement("div",{className:"sendbird-conversation"},a.a.createElement(ni,{type:Ca.WRONG})):a.a.createElement("div",{className:"sendbird-conversation"},E?E({channel:V,user:A}):a.a.createElement(Ao,{theme:f,currentGroupChannel:V,currentUser:A,onActionClick:b,subTitle:V.members&&2!==V.members.length,isActive:!1,isMuted:!1}),W&&a.a.createElement(bo,null),H>0&&a.a.createElement(Eo,{count:H,onClick:function(){Ii(".sendbird-msg--scroll-ref"),0===U.current.scrollTop&&(V.markAsRead(),P({type:wi}))},time:G}),a.a.createElement(vo,{swapParams:O&&O.getErrorFirstCallback&&O.getErrorFirstCallback(),scrollRef:U,hasMore:x,disabled:!d,messagesDispatcher:P,onScroll:te,initialized:F,allMessages:L,userId:l,editDisabled:Ui(V),readStatus:K,currentGroupChannel:V,renderChatItem:_,useReaction:$,emojiContainer:Y,emojiAllMap:X,membersMap:ee,memoizedEmojiListItems:re,deleteMessage:ae,updateMessage:ie,resendMessage:se,toggleReaction:ne}),a.a.createElement("div",{className:"sendbird-conversation__footer"},a.a.createElement(So,{channel:V,user:A,ref:le,onSendMessage:ue,onFileUpload:ce,renderMessageInput:v,isOnline:d,initialized:F}),a.a.createElement("div",{className:"sendbird-conversation__typing-indicator"},a.a.createElement(No,{channelUrl:t,sb:O,logger:u})),!d&&a.a.createElement(To,{sdkInit:k,sb:O,logger:u}))):a.a.createElement("div",{className:"sendbird-conversation"},a.a.createElement(ni,{type:Ca.NO_CHANNELS}))};Ro.propTypes={channelUrl:s.a.string,stores:s.a.shape({sdkStore:s.a.shape({initialized:s.a.bool,sdk:s.a.shape({getErrorFirstCallback:s.a.func,removeChannelHandler:s.a.func,GroupChannel:s.a.any,ChannelHandler:s.a.any,addChannelHandler:s.a.func,UserMessageParams:s.a.any,FileMessageParams:s.a.any,getAllEmoji:s.a.func,appInfo:s.a.shape({})}),error:s.a.bool}),userStore:s.a.shape({user:s.a.shape({})})}).isRequired,dispatchers:s.a.shape({reconnect:s.a.func}).isRequired,config:s.a.shape({userId:s.a.string.isRequired,isOnline:s.a.bool.isRequired,theme:s.a.string,logger:s.a.shape({info:s.a.func,error:s.a.func,warning:s.a.func}),pubSub:s.a.shape({subscribe:s.a.func,publish:s.a.func})}).isRequired,queries:s.a.shape({messageListParams:s.a.shape({includeMetaArray:s.a.bool,includeParentMessageText:s.a.bool,includeReaction:s.a.bool,includeReplies:s.a.bool,includeThreadInfo:s.a.bool,limit:s.a.number,reverse:s.a.bool,senderUserIdsFilter:s.a.arrayOf(s.a.string)}),messageListQuery:s.a.shape({includeMetaArray:s.a.bool,includeParentMessageText:s.a.bool,includeReaction:s.a.bool,includeReplies:s.a.bool,includeThreadInfo:s.a.bool,limit:s.a.number,reverse:s.a.bool,senderUserIdsFilter:s.a.arrayOf(s.a.string)})}),onBeforeSendUserMessage:s.a.func,onBeforeSendFileMessage:s.a.func,onBeforeUpdateUserMessage:s.a.func,renderChatItem:s.a.oneOfType([s.a.element,s.a.func]),renderMessageInput:s.a.oneOfType([s.a.element,s.a.func]),renderChatHeader:s.a.oneOfType([s.a.element,s.a.func]),onChatHeaderActionClick:s.a.func},Ro.defaultProps={channelUrl:null,queries:{},onBeforeSendUserMessage:null,onBeforeSendFileMessage:null,onBeforeUpdateUserMessage:null,renderChatItem:null,renderMessageInput:null,renderChatHeader:null,onChatHeaderActionClick:function(){}};var Io=O(Ro),Mo=function(e){var t=e.children;return a.a.createElement(sa,{type:oa.CAPTION_3,color:la.ONBACKGROUND_1,className:"sendbird-input-label"},t)};Mo.propTypes={children:s.a.string.isRequired};var Po=a.a.forwardRef(function(e,t){var n=e.value,i=e.placeHolder,s=e.disabled,o=e.name,l=e.required,u=N(Object(r.useState)(n),2),c=u[0],d=u[1];return a.a.createElement("div",{className:"sendbird-input"},a.a.createElement("input",{required:l,ref:t,name:o,disabled:s,value:c,className:"sendbird-input--input",onChange:function(e){d(e.target.value)}}),i&&!c&&a.a.createElement(sa,{className:"sendbird-input--placeholder",type:oa.BODY_1,color:la.ONBACKGROUND_3},i))});Po.propTypes={value:s.a.string,placeHolder:s.a.string,name:s.a.string.isRequired,disabled:s.a.bool,required:s.a.bool},Po.defaultProps={value:"",placeHolder:"",disabled:!1,required:!1};var Uo=function(e){var t=e.onSubmit,n=e.onCancel,i=e.channel,s=e.userId,o=e.theme,l=Object(r.useRef)(null),u=Object(r.useRef)(null),c=Object(r.useRef)(null),d=N(Object(r.useState)(null),2),f=d[0],h=d[1],p=N(Object(r.useState)(null),2),m=p[0],g=p[1],y=i.name;return a.a.createElement(Ma,{titleText:ua.MODAL__CHANNEL_INFORMATION__TITLE,submitText:ua.BUTTON__SAVE,onCancel:n,onSubmit:function(){""===y||l.current.value?(t(m,l.current.value),n()):u.current.reportValidity&&u.current.reportValidity()},type:Sa.PRIMARY},a.a.createElement("form",{className:"channel-profile-form",ref:u,onSubmit:function(e){e.preventDefault()}},a.a.createElement("div",{className:"channel-profile-form__img-section"},a.a.createElement(Mo,null,ua.MODAL__CHANNEL_INFORMATION__CHANNEL_IMAGE),a.a.createElement("div",{className:"channel-profile-form__avatar"},f?a.a.createElement(Ie,{height:"80px",width:"80px",src:f}):a.a.createElement(na,{height:80,width:80,channel:i,userId:s,theme:o})),a.a.createElement("input",{ref:c,type:"file",accept:"image/gif, image/jpeg, image/png",style:{display:"none"},onChange:function(e){h(URL.createObjectURL(e.target.files[0])),g(e.target.files[0]),c.current.value=""}}),a.a.createElement(Gs,{className:"channel-profile-form__avatar-button",onClick:function(){return c.current.click()},notUnderline:!0},a.a.createElement(sa,{type:oa.BUTTON_1,color:la.PRIMARY},ua.MODAL__CHANNEL_INFORMATION__UPLOAD))),a.a.createElement("div",{className:"channel-profile-form__name-section"},a.a.createElement(Mo,null,ua.MODAL__CHANNEL_INFORMATION__CHANNEL_NAME),a.a.createElement(Po,{required:""!==y,name:"channel-profile-form__name",ref:l,value:y,placeHolder:ua.MODAL__CHANNEL_INFORMATION__INPUT__PLACE_HOLDER}))))};Uo.propTypes={onSubmit:s.a.func.isRequired,onCancel:s.a.func.isRequired,channel:s.a.shape({name:s.a.string}).isRequired,userId:s.a.string.isRequired,theme:s.a.string.isRequired};var Lo=function(e){var t=e.disabled,n=e.channel,i=e.userId,s=e.theme,o=e.onChannelInfoChange,l=n.name,u=N(Object(r.useState)(!1),2),c=u[0],d=u[1];return a.a.createElement("div",{className:"sendbird-channel-profile"},a.a.createElement("div",{className:"sendbird-channel-profile--inner"},a.a.createElement("div",{className:"sendbird-channel-profile__avatar"},a.a.createElement(na,{channel:n,userId:i,theme:s})),a.a.createElement(sa,{type:oa.SUBTITLE_2,color:la.ONBACKGROUND_1,className:"sendbird-channel-profile__title"},l),a.a.createElement(Gs,{disabled:t,className:"sendbird-channel-profile__edit",onClick:function(){t||d(!0)},notUnderline:!0},a.a.createElement(sa,{type:oa.BUTTON_1,color:t?la.ONBACKGROUND_2:la.PRIMARY},ua.CHANNEL_SETTING__PROFILE__EDIT)),c&&a.a.createElement(Uo,{onCancel:function(){return d(!1)},onSubmit:o,channel:n,userId:i,theme:s})))};Lo.propTypes={channel:s.a.shape({name:s.a.string}).isRequired,userId:s.a.string.isRequired,theme:s.a.string,disabled:s.a.bool,onChannelInfoChange:s.a.func},Lo.defaultProps={theme:"light",disabled:!1,onChannelInfoChange:function(){}};var Do=function(){return(Do=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function xo(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,o=i.length;s<o;s++,a++)r[a]=i[s];return r}function Fo(e){var t=e.hideModal,n=e.channel,i=e.currentUser,s=Object(r.useState)([]),o=s[0],l=s[1],u=Object(r.useState)(null),c=u[0],d=u[1];return Object(r.useEffect)(function(){var e=n.createMemberListQuery();e.limit=20,e.next(function(e,t){t||l(e)}),d(e)},[]),a.a.createElement("div",null,a.a.createElement(Ma,{hideFooter:!0,onCancel:function(){return t()},onSubmit:Bi,titleText:"All Members"},a.a.createElement("div",{className:"sendbird-more-members__popup-scroll",onScroll:function(e){var t=c.hasNext,n=e.target,r=n.clientHeight+n.scrollTop===n.scrollHeight;t&&r&&c.next(function(e,t){t||l(xo(o,e))})}},o.map(function(e){return a.a.createElement(Da,{user:e,key:e.userId,currentUser:i,action:function(t){var r=t.parentRef,i=t.actionRef;return a.a.createElement(a.a.Fragment,null,"operator"===n.myRole&&a.a.createElement(Xa,{menuTrigger:function(e){return a.a.createElement(Ea,{className:"sendbird-user-message__more__menu",width:"32px",height:"32px",onClick:e},a.a.createElement($r,{width:"24px",height:"24px",type:Xr.MORE,fillColor:Zr.CONTENT_INVERSE}))},menuItems:function(t){return a.a.createElement(Qa,{parentContainRef:r,parentRef:i,closeDropdown:t,openLeft:!0},a.a.createElement($a,{onClick:function(){"operator"!==e.role?n.addOperators([e.userId],function(){l(o.map(function(t){return t.userId===e.userId?Do(Do({},e),{role:"operator"}):t})),t()}):n.removeOperators([e.userId],function(){l(o.map(function(t){return t.userId===e.userId?Do(Do({},e),{role:""}):t})),t()})}},"operator"!==e.role?"Promote to operator":"Demote operator"),!n.isBroadcast&&a.a.createElement($a,{onClick:function(){e.isMuted?n.unmuteUser(e,function(){l(o.map(function(t){return t.userId===e.userId?Do(Do({},e),{isMuted:!1}):t})),t()}):n.muteUser(e,function(){l(o.map(function(t){return t.userId===e.userId?Do(Do({},e),{isMuted:!0}):t})),t()})}},e.isMuted?"Unmute":"Mute"),a.a.createElement($a,{onClick:function(){n.banUser(e,-1,"",function(){l(o.filter(function(t){return t.userId!==e.userId}))})}},"Ban"))}}))}})}))))}var jo=function(e){var t=e.channel,n=e.disabled,i=e.currentUser,s=e.userQueryCreator,o=e.onInviteMemebers,l=e.swapParams,u=t.members||[],c=N(Object(r.useState)(!1),2),d=c[0],f=c[1],h=N(Object(r.useState)(!1),2),p=h[0],m=h[1];return a.a.createElement("div",{className:"sendbird-members-accordion"},a.a.createElement("div",{className:"sendbird-members-accordion__list"},u.slice(0,10).map(function(e){return a.a.createElement("div",{className:"sendbird-members-accordion__member",key:e.userId},a.a.createElement("div",{className:"sendbird-members-accordion__member-avatar"},a.a.createElement(Ie,{height:"24px",width:"24px",src:e.profileUrl})),a.a.createElement(sa,{type:oa.SUBTITLE_2,color:la.ONBACKGROUND_1},e.nickname||ua.NO_NAME,i===e.userId&&" (You)"))})),a.a.createElement("div",{className:"sendbird-members-accordion__footer"},u.length>=10&&a.a.createElement(ka,{className:"sendbird-members-accordion__footer__all-members",type:Sa.SECONDARY,size:Ta.SMALL,onClick:function(){return f(!0)}},ua.CHANNEL_SETTING__MEMBERS__SEE_ALL_MEMBERS),u.length>=10&&d&&a.a.createElement(Fo,{currentUser:i,hideModal:function(){f(!1)},channel:t}),a.a.createElement(ka,{className:"sendbird-members-accordion__footer__invite-users",type:Sa.SECONDARY,size:Ta.SMALL,disabled:n,onClick:function(){n||m(!0)}},ua.CHANNEL_SETTING__MEMBERS__INVITE_MEMBER),p&&a.a.createElement(xa,{swapParams:l,titleText:ua.MODAL__INVITE_MEMBER__TITLE,submitText:ua.BUTTON__INVITE,closeModal:function(){return m(!1)},idsToFilter:u.map(function(e){return e.userId}),userQueryCreator:s,onSubmit:o})))};jo.propTypes={swapParams:s.a.bool,disabled:s.a.bool,channel:s.a.shape({members:s.a.arrayOf(s.a.shape({}))}),currentUser:s.a.string,userQueryCreator:s.a.func.isRequired,onInviteMemebers:s.a.func.isRequired},jo.defaultProps={swapParams:!1,currentUser:"",disabled:!1,channel:{}};var Ho=a.a.createContext({opened:"",setOpened:Bi}),Go=Ho.Consumer,Bo=Ho.Provider;function zo(e){var t=e.id,n=e.renderTitle,i=e.renderContent,s=e.renderFooter,o=e.className,l=Object(r.useState)(!1),u=l[0],c=l[1];return a.a.createElement(Go,null,function(e){var r=e.opened,l=e.setOpened;c(t===r);var d=function(){l(u?"":t)};return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{id:t,role:"switch","aria-checked":!1,tabIndex:0,onKeyDown:d,className:"sendbird-accordion__panel-heder "+o,onClick:d},n(),a.a.createElement($r,{type:Xr.SHEVRON,className:["sendbird-accordion__panel-icon-right","sendbird-accordion__panel-icon--chevron",u?"sendbird-accordion__panel-icon--open":""].join(" "),height:"24px",width:"24px"})),u&&a.a.createElement("div",{className:"sendbird-accordion"},a.a.createElement("div",{className:"sendbird-accordion__list"},i()),s&&a.a.createElement("div",{className:"sendbird-accordion__footer"},s())))})}var Vo=function(e){var t=e.children,n=e.className,i=void 0===n?"":n,s=Object(r.useState)(""),o=s[0],l=s[1];return a.a.createElement(Bo,{value:{opened:o,setOpened:l}},a.a.createElement("div",{className:i},t))},qo=function(e){var t=e.stores,n=(void 0===t?{}:t).sdkStore;return(void 0===n?{}:n).sdk},Yo=function(e){var t=e.config;return(void 0===t?{}:t).pubSub},Ko={getSdk:qo,getConnect:function(e){return function(t,n){return new Promise(function(r,a){var i=qo(e);i||a(new Error("Sdk not found")),n?i.connect(t,n).then(function(e){return r(e)}).catch(function(e){return a(e)}):i.connect(t).then(function(e){return r(e)}).catch(function(e){return a(e)})})}},getDisconnect:function(e){return function(){return new Promise(function(t,n){var r=qo(e);r||n(new Error("Sdk not found")),r.disconnect().then(function(e){return t(e)}).catch(function(e){return n(e)})})}},getUpdateUserInfo:function(e){return function(t,n){return new Promise(function(r,a){var i=qo(e);i||a(new Error("Sdk not found")),i.updateCurrentUserInfo(t,n).then(function(e){return r(e)}).catch(function(e){return a(e)})})}},getSendUserMessage:function(e){return function(t,n){var r=qo(e),a=Yo(e);return new Promise(function(e,i){r||i(new Error("Sdk not found")),r.GroupChannel.getChannel(t).then(function(t){e(function(){var e=null,i=new Promise(function(i,s){e=t.sendUserMessage(n,function(e,n){var o=e,l=n;r.getErrorFirstCallback()&&(o=n,l=e),l?s(l):(i(o),a.publish("SEND_USER_MESSAGE",{message:o,channel:t}))}),a.publish(ai,{message:e,channel:t})});return i.get=function(){return e},i}())}).catch(i)})}},getSendFileMessage:function(e){return function(t,n){var r=qo(e),a=Yo(e);return new Promise(function(e,i){r||i(new Error("Sdk not found")),r.GroupChannel.getChannel(t).then(function(t){e(function(){var e=null,i=new Promise(function(i,s){e=t.sendFileMessage(n,function(e,n){var o=e,l=n;r.getErrorFirstCallback()&&(o=n,l=e),l?s(l):(i(o),a.publish("SEND_FILE_MESSAGE",{message:o,channel:t}))})});return e.url=URL.createObjectURL(n.file),e.requestState="pending",a.publish(ai,{message:e,channel:t}),i.get=function(){return e},i}())}).catch(i)})}},getUpdateUserMessage:function(e){return function(t,n,r){var a=qo(e),i=Yo(e);return new Promise(function(e,s){a||s(new Error("Sdk not found")),a.GroupChannel.getChannel(t).then(function(t){t.updateUserMessage(n,r,function(n,r){var o=n,l=r;a.getErrorFirstCallback()&&(o=r,l=n),l?s(l):(e(o),i.publish(ii,{message:o,channel:t,fromSelector:!0}))})}).catch(s)})}},getDeleteMessage:function(e){return function(t,n){var r=qo(e),a=Yo(e);return new Promise(function(e,i){r||i(new Error("Sdk not found")),r.GroupChannel.getChannel(t).then(function(t){var s=n.messageId;t.deleteMessage(n,function(o,l){var u=l;r.getErrorFirstCallback()&&(u=o),u?i(u):(e(n),a.publish("DELETE_MESSAGE",{messageId:s,channel:t}))})}).catch(i)})}},getResendUserMessage:function(e){return function(t,n){var r=qo(e),a=Yo(e);return new Promise(function(e,i){r||i(new Error("Sdk not found")),r.GroupChannel.getChannel(t).then(function(t){t.resendUserMessage(n).then(function(n){e(n),a.publish("SEND_USER_MESSAGE",{message:n,channel:t})}).catch(i)}).catch(i)})}},getResendFileMessage:function(e){return function(t,n){var r=qo(e),a=Yo(e);return new Promise(function(e,i){r||i(new Error("Sdk not found")),r.GroupChannel.getChannel(t).then(function(t){t.resendFileMessage(n).then(function(n){e(n),a.publish("SEND_FILE_MESSAGE",{message:n,channel:t})}).catch(i)}).catch(i)})}},getFreezeChannel:function(e){return function(t){var n=qo(e);return new Promise(function(e,r){n||r(new Error("Sdk not found")),n.GroupChannel.getChannel(t).then(function(t){t.freeze().then(function(){e(t)}).catch(r)}).catch(r)})}},getUnFreezeChannel:function(e){return function(t){var n=qo(e);return new Promise(function(e,r){n||r(new Error("Sdk not found")),n.GroupChannel.getChannel(t).then(function(t){t.unfreeze().then(function(){e(t)}).catch(r)}).catch(r)})}},getCreateChannel:function(e){return function(t){var n=qo(e),r=Yo(e);return new Promise(function(e,a){n||a(new Error("Sdk not found")),n.GroupChannel.createChannel(t).then(function(t){e(t),r.publish("CREATE_CHANNEL",{channel:t})}).catch(a)})}},getLeaveChannel:function(e){return function(t){var n=qo(e),r=Yo(e);return new Promise(function(e,a){n||a(new Error("Sdk not found")),n.GroupChannel.getChannel(t).then(function(t){t.leave().then(function(){e(t),r.publish("LEAVE_CHANNEL",{channel:t})}).catch(a)}).catch(a)})}}},Wo="sendbird-user-list-item--small",Qo=function(e){var t=e.user,n=e.className,i=e.currentUser,s=e.action,o=Object(r.useRef)(null),l=Object(r.useRef)(null),u=Array.isArray(n)?n:[n];return a.a.createElement("div",{ref:l,className:xo([Wo],u).join(" ")},t.isMuted&&a.a.createElement(Pa,null),a.a.createElement(Ie,{className:Wo+"__avatar",src:t.profileUrl,width:24,height:24}),a.a.createElement(sa,{className:Wo+"__title",type:oa.SUBTITLE_1,color:la.ONBACKGROUND_1},t.nickname||ua.NO_NAME,i===t.userId&&" (You)"),!t.nickname&&a.a.createElement(sa,{className:Wo+"__subtitle",type:oa.CAPTION_3,color:la.ONBACKGROUND_2},t.userId),"operator"===t.role&&a.a.createElement(sa,{className:Wo+"__operator",type:oa.SUBTITLE_2,color:la.ONBACKGROUND_2},"Operator"),s&&a.a.createElement("div",{ref:o,className:Wo+"__action"},s({actionRef:o,parentRef:l})))};function Jo(e){var t=e.hideModal,n=e.channel,i=e.currentUser,s=Object(r.useState)([]),o=s[0],l=s[1],u=Object(r.useState)(null),c=u[0],d=u[1];return Object(r.useEffect)(function(){var e=n.createOperatorListQuery();e.limit=20,e.next(function(e,t){t||l(e)}),d(e)},[]),a.a.createElement("div",null,a.a.createElement(Ma,{hideFooter:!0,onCancel:function(){return t()},onSubmit:Bi,titleText:"All operators"},a.a.createElement("div",{className:"sendbird-more-members__popup-scroll",onScroll:function(e){var t=c.hasNext,n=e.target,r=n.clientHeight+n.scrollTop===n.scrollHeight;t&&r&&c.next(function(e,t){t||l(xo(o,e))})}},o.map(function(e){return a.a.createElement(Da,{currentUser:i,user:e,key:e.userId,action:function(t){var r=t.parentRef,i=t.actionRef;return a.a.createElement(Xa,{menuTrigger:function(e){return a.a.createElement(Ea,{className:"sendbird-user-message__more__menu",width:"32px",height:"32px",onClick:e},a.a.createElement($r,{width:"24px",height:"24px",type:Xr.MORE,fillColor:Zr.CONTENT_INVERSE}))},menuItems:function(t){return a.a.createElement(Qa,{parentContainRef:r,parentRef:i,closeDropdown:t,openLeft:!0},a.a.createElement($a,{onClick:function(){n.removeOperators([e.userId],function(t,n){n||l(o.filter(function(t){return t.userId!==e.userId}))}),t()}},"Dismiss operator"))}})}})}))))}function $o(e){var t=e.hideModal,n=e.channel,i=e.onSubmit,s=Object(r.useState)([]),o=s[0],l=s[1],u=Object(r.useState)({}),c=u[0],d=u[1],f=Object(r.useState)(null),h=f[0],p=f[1];Object(r.useEffect)(function(){var e=n.createMemberListQuery();e.limit=20,e.next(function(e,t){t||l(e)}),p(e)},[]);var m=Object.keys(c).filter(function(e){return c[e]}).length;return a.a.createElement("div",null,a.a.createElement(Ma,{type:Sa.PRIMARY,submitText:"Add",onCancel:function(){return t()},onSubmit:function(){var e=Object.keys(c).filter(function(e){return c[e]});i(e)},titleText:"Select members"},a.a.createElement(sa,{color:m>0?la.PRIMARY:la.ONBACKGROUND_3,type:oa.CAPTION_1},m+" "+ua.MODAL__INVITE_MEMBER__SELECTEC),a.a.createElement("div",{className:"sendbird-more-members__popup-scroll",onScroll:function(e){var t=h.hasNext,n=e.target,r=n.clientHeight+n.scrollTop===n.scrollHeight;t&&r&&h.next(function(e,t){t||l(xo(o,e))})}},o.map(function(e){return a.a.createElement(Da,{checkBox:!0,checked:c[e.userId],onChange:function(e){var t,n=Do(Do({},c),((t={})[e.target.id]=e.target.checked,t));e.target.checked||delete n[e.target.id],d(n)},user:e,key:e.userId})}))))}var Xo=O(function(e){var t=e.sdk,n=e.channel,i=Object(r.useState)([]),s=i[0],o=i[1],l=Object(r.useState)(!1),u=l[0],c=l[1],d=Object(r.useState)(!1),f=d[0],h=d[1],p=Object(r.useState)(!1),m=p[0],g=p[1];Object(r.useEffect)(function(){if(n){var e=n.createOperatorListQuery();e.limit=10,e.next(function(t,n){n||(o(t),g(e.hasNext))})}else o([])},[n]);var y=Object(r.useCallback)(function(){if(n){var e=n.createOperatorListQuery();e.limit=10,e.next(function(t,n){n||(o(t),g(e.hasNext))})}else o([])},[n]);return a.a.createElement(a.a.Fragment,null,s.map(function(e){return a.a.createElement(Qo,{key:e.userId,user:e,currentUser:t.currentUser.userId,action:function(t){var r=t.actionRef,i=t.parentRef;return a.a.createElement(Xa,{menuTrigger:function(e){return a.a.createElement(Ea,{className:"sendbird-user-message__more__menu",width:"32px",height:"32px",onClick:e},a.a.createElement($r,{width:"24px",height:"24px",type:Xr.MORE,fillColor:Zr.CONTENT_INVERSE}))},menuItems:function(t){return a.a.createElement(Qa,{parentContainRef:i,parentRef:r,closeDropdown:t,openLeft:!0},a.a.createElement($a,{onClick:function(){n.removeOperators([e.userId],function(t,n){n||o(s.filter(function(t){return t.userId!==e.userId}))}),t()}},"Dismiss operator"))}})}})}),m&&a.a.createElement("div",{className:"sendbird-channel-settings-accordion__footer"},a.a.createElement(ka,{type:Sa.SECONDARY,size:Ta.SMALL,onClick:function(){c(!0)}},ua.CHANNEL_SETTING__OPERATORS__TITLE_ALL),a.a.createElement(ka,{type:Sa.SECONDARY,size:Ta.SMALL,onClick:function(){h(!0)}},ua.CHANNEL_SETTING__OPERATORS__TITLE_ADD)),u&&a.a.createElement(Jo,{currentUser:t.currentUser.userId,hideModal:function(){c(!1),y()},channel:n}),f&&a.a.createElement($o,{hideModal:function(){return h(!1)},channel:n,onSubmit:function(e){h(!1),n.addOperators(e,function(){y()})}}))},function(e){return{sdk:qo(e)}});function Zo(e){var t=e.hideModal,n=e.userQueryCreator,i=e.onSubmit,s=Object(r.useState)([]),o=s[0],l=s[1],u=Object(r.useState)({}),c=u[0],d=u[1],f=Object(r.useState)(null),h=f[0],p=f[1];return Object(r.useEffect)(function(){var e=n();e.limit=20,e.next(function(e,t){t||l(e)}),p(e)},[]),a.a.createElement("div",null,a.a.createElement(Ma,{disabled:0===Object.keys(c).length,submitText:"Invite",type:Sa.PRIMARY,onCancel:function(){return t()},onSubmit:function(){var e=Object.keys(c).filter(function(e){return c[e]});i(e)},titleText:"Select members"},a.a.createElement("div",{className:"sendbird-more-members__popup-scroll",onScroll:function(e){var t=h.hasNext,n=e.target,r=n.clientHeight+n.scrollTop===n.scrollHeight;t&&r&&h.next(function(e,t){t||l(xo(o,e))})}},o.map(function(e){return a.a.createElement(Da,{checkBox:!0,checked:c[e.userId],onChange:function(e){var t,n=Do(Do({},c),((t={})[e.target.id]=e.target.checked,t));e.target.checked||delete n[e.target.id],d(n)},user:e,key:e.userId})}))))}var el=O(function(e){var t=e.sdk,n=e.channel,i=e.userQueryCreator,s=Object(r.useState)([]),o=s[0],l=s[1],u=Object(r.useState)(!1),c=u[0],d=u[1],f=Object(r.useState)(!1),h=f[0],p=f[1],m=Object(r.useState)(!1),g=m[0],y=m[1];Object(r.useEffect)(function(){if(n){var e=n.createMemberListQuery();e.limit=10,e.next(function(t,n){n||(l(t),d(e.hasNext))})}else l([])},[n]);var _=Object(r.useCallback)(function(){if(n){var e=n.createMemberListQuery();e.limit=10,e.next(function(t,n){n||(l(t),d(e.hasNext))})}else l([])},[n]);return a.a.createElement(a.a.Fragment,null,o.map(function(e){return a.a.createElement(Qo,{key:e.userId,user:e,currentUser:t.currentUser.userId,action:function(t){var r=t.actionRef,i=t.parentRef;return a.a.createElement(Xa,{menuTrigger:function(e){return a.a.createElement(Ea,{className:"sendbird-user-message__more__menu",width:"32px",height:"32px",onClick:e},a.a.createElement($r,{width:"24px",height:"24px",type:Xr.MORE,fillColor:Zr.CONTENT_INVERSE}))},menuItems:function(t){return a.a.createElement(Qa,{parentContainRef:i,parentRef:r,closeDropdown:t,openLeft:!0},a.a.createElement($a,{onClick:function(){"operator"!==e.role?n.addOperators([e.userId],function(){_(),t()}):n.removeOperators([e.userId],function(){_(),t()})}},"operator"!==e.role?"Promote to operator":"Demote operator"),!n.isBroadcast&&a.a.createElement($a,{onClick:function(){e.isMuted?n.unmuteUser(e,function(){_(),t()}):n.muteUser(e,function(){_(),t()})}},e.isMuted?"Unmute":"Mute"),a.a.createElement($a,{onClick:function(){n.banUser(e,-1,"",function(){_(),t()})}},"Ban"))}})}})}),a.a.createElement("div",{className:"sendbird-channel-settings-accordion__footer"},c&&a.a.createElement(ka,{type:Sa.SECONDARY,size:Ta.SMALL,onClick:function(){return p(!0)}},"All members"),a.a.createElement(ka,{type:Sa.SECONDARY,size:Ta.SMALL,onClick:function(){return y(!0)}},"Invite members")),h&&a.a.createElement(Fo,{currentUser:t.currentUser.userId,channel:n,hideModal:function(){p(!1),_()}}),g&&a.a.createElement(Zo,{userQueryCreator:i,onSubmit:function(e){n.inviteWithUserIds(e,function(){y(!1),_()})},channel:n,hideModal:function(){return y(!1)}}))},function(e){return{sdk:qo(e)}});function tl(e){var t=e.hideModal,n=e.channel,i=Object(r.useState)([]),s=i[0],o=i[1],l=Object(r.useState)(null),u=l[0],c=l[1];return Object(r.useEffect)(function(){var e=n.createBannedUserListQuery();e.next(function(e,t){t||o(e)}),c(e)},[]),a.a.createElement("div",null,a.a.createElement(Ma,{hideFooter:!0,onCancel:function(){return t()},onSubmit:Bi,titleText:"Muted members"},a.a.createElement("div",{className:"sendbird-more-members__popup-scroll",onScroll:function(e){var t=u.hasNext,n=e.target,r=n.clientHeight+n.scrollTop===n.scrollHeight;t&&r&&u.next(function(e,t){t||o(xo(s,e))})}},s.map(function(e){return a.a.createElement(Da,{user:e,key:e.userId,action:function(t){var r=t.parentRef,i=t.actionRef;return a.a.createElement(Xa,{menuTrigger:function(e){return a.a.createElement(Ea,{className:"sendbird-user-message__more__menu",width:"32px",height:"32px",onClick:e},a.a.createElement($r,{width:"24px",height:"24px",type:Xr.MORE,fillColor:Zr.CONTENT_INVERSE}))},menuItems:function(t){return a.a.createElement(Qa,{parentContainRef:r,parentRef:i,closeDropdown:t,openLeft:!0},a.a.createElement($a,{onClick:function(){n.unbanUser(e,function(){t(),o(s.filter(function(t){return t.userId!==e.userId}))})}},"Unban"))}})}})}))))}var nl=O(function(e){var t=e.channel,n=Object(r.useState)([]),i=n[0],s=n[1],o=Object(r.useState)(!1),l=o[0],u=o[1],c=Object(r.useState)(!1),d=c[0],f=c[1];Object(r.useEffect)(function(){if(t){var e=t.createBannedUserListQuery();e.next(function(t,n){n||(s(t),u(e.hasNext))})}else s([])},[t]);var h=Object(r.useCallback)(function(){if(t){var e=t.createBannedUserListQuery();e.next(function(t,n){n||(s(t),u(e.hasNext))})}else s([])},[t]);return a.a.createElement(a.a.Fragment,null,i.map(function(e){return a.a.createElement(Qo,{key:e.userId,user:e,action:function(n){var r=n.actionRef,i=n.parentRef;return a.a.createElement(Xa,{menuTrigger:function(e){return a.a.createElement(Ea,{className:"sendbird-user-message__more__menu",width:"32px",height:"32px",onClick:e},a.a.createElement($r,{width:"24px",height:"24px",type:Xr.MORE,fillColor:Zr.CONTENT_INVERSE}))},menuItems:function(n){return a.a.createElement(Qa,{parentContainRef:i,parentRef:r,closeDropdown:n,openLeft:!0},a.a.createElement($a,{onClick:function(){t.unbanUser(e,function(){n(),h()})}},"Unban"))}})}})}),i&&0===i.length&&a.a.createElement(sa,{className:"sendbird-channel-settings__empty-list",type:oa.SUBTITLE_2,color:la.ONBACKGROUND_3},"No banned members yet"),l&&a.a.createElement("div",{className:"sendbird-channel-settings-accordion__footer"},a.a.createElement(ka,{type:Sa.SECONDARY,size:Ta.SMALL,onClick:function(){f(!0)}},"All banned members")),d&&a.a.createElement(tl,{channel:t,hideModal:function(){f(!1),h()}}))},function(e){return{sdk:qo(e)}});function rl(e){var t=e.hideModal,n=e.channel,i=e.currentUser,s=Object(r.useState)([]),o=s[0],l=s[1],u=Object(r.useState)(null),c=u[0],d=u[1];return Object(r.useEffect)(function(){var e=n.createMemberListQuery();e.limit=10,e.mutedMemberFilter="muted",e.next(function(e,t){t||l(e)}),d(e)},[]),a.a.createElement("div",null,a.a.createElement(Ma,{hideFooter:!0,onCancel:function(){return t()},onSubmit:Bi,titleText:"Muted members"},a.a.createElement("div",{className:"sendbird-more-members__popup-scroll",onScroll:function(e){var t=c.hasNext,n=e.target,r=n.clientHeight+n.scrollTop===n.scrollHeight;t&&r&&c.next(function(e,t){t||l(xo(o,e))})}},o.map(function(e){return a.a.createElement(Da,{currentUser:i,user:e,key:e.userId,action:function(t){var r=t.actionRef,i=t.parentRef;return a.a.createElement(Xa,{menuTrigger:function(e){return a.a.createElement(Ea,{className:"sendbird-user-message__more__menu",width:"32px",height:"32px",onClick:e},a.a.createElement($r,{width:"24px",height:"24px",type:Xr.MORE,fillColor:Zr.CONTENT_INVERSE}))},menuItems:function(t){return a.a.createElement(Qa,{parentContainRef:i,parentRef:r,closeDropdown:t,openLeft:!0},a.a.createElement($a,{onClick:function(){n.unmuteUser(e,function(){t(),l(o.filter(function(t){return t.userId!==e.userId}))})}},"Unmute"))}})}})}))))}var al=O(function(e){var t=e.sdk,n=e.channel,i=Object(r.useState)([]),s=i[0],o=i[1],l=Object(r.useState)(!1),u=l[0],c=l[1],d=Object(r.useState)(!1),f=d[0],h=d[1];Object(r.useEffect)(function(){if(n){var e=n.createMemberListQuery();e.limit=10,e.mutedMemberFilter="muted",e.next(function(t,n){n||(o(t),c(e.hasNext))})}else o([])},[n]);var p=Object(r.useCallback)(function(){if(n){var e=n.createMemberListQuery();e.limit=10,e.mutedMemberFilter="muted",e.next(function(t,n){n||(o(t),c(e.hasNext))})}else o([])},[n]);return a.a.createElement(a.a.Fragment,null,s.map(function(e){return a.a.createElement(Qo,{key:e.userId,user:e,currentUser:t.currentUser.userId,action:function(t){var r=t.actionRef,i=t.parentRef;return a.a.createElement(Xa,{menuTrigger:function(e){return a.a.createElement(Ea,{className:"sendbird-user-message__more__menu",width:"32px",height:"32px",onClick:e},a.a.createElement($r,{width:"24px",height:"24px",type:Xr.MORE,fillColor:Zr.CONTENT_INVERSE}))},menuItems:function(t){return a.a.createElement(Qa,{closeDropdown:t,openLeft:!0,parentContainRef:i,parentRef:r},a.a.createElement($a,{onClick:function(){n.unmuteUser(e,function(){p(),t()})}},"Unmute"))}})}})}),s&&0===s.length&&a.a.createElement(sa,{className:"sendbird-channel-settings__empty-list",type:oa.SUBTITLE_2,color:la.ONBACKGROUND_3},"No muted members yet"),u&&a.a.createElement("div",{className:"sendbird-channel-settings-accordion__footer"},a.a.createElement(ka,{type:Sa.SECONDARY,size:Ta.SMALL,onClick:function(){h(!0)}},"All muted members")),f&&a.a.createElement(rl,{currentUser:t.currentUser.userId,channel:n,hideModal:function(){h(!1),p()}}))},function(e){return{sdk:qo(e)}}),il=function(e){return Math.abs(e)>999?(Math.abs(e)/1e3).toFixed(1)+"K":e};function sl(e){var t=e.userQueryCreator,n=e.channel,i=Object(r.useState)(!1),s=i[0],o=i[1];return Object(r.useEffect)(function(){o(n.isFrozen)},[n]),a.a.createElement(Vo,{className:"sendbird-channel-settings__operator"},a.a.createElement(zo,{className:"sendbird-channel-settings__operators-list",id:"operators",renderTitle:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement($r,{type:Xr.ICON_OPERATOR,width:24,height:24,className:"sendbird-channel-settings__accordion-icon"}),a.a.createElement(sa,{type:oa.SUBTITLE_1,color:la.ONBACKGROUND_1},ua.CHANNEL_SETTING__OPERATORS__TITLE))},renderContent:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Xo,{channel:n}))}}),a.a.createElement(zo,{className:"sendbird-channel-settings__members-list",id:"members",renderTitle:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement($r,{type:Xr.MEMBERS,width:24,height:24,className:"sendbird-channel-settings__accordion-icon"}),a.a.createElement(sa,{type:oa.SUBTITLE_1,color:la.ONBACKGROUND_1},ua.CHANNEL_SETTING__MEMBERS__TITLE),a.a.createElement(ca,{count:il(n.memberCount)}))},renderContent:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(el,{userQueryCreator:t,channel:n}))}}),!n.isBroadcast&&a.a.createElement(zo,{id:"mutedMembers",className:"sendbird-channel-settings__muted-members-list",renderTitle:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement($r,{type:Xr.ICON_MUTED,width:24,height:24,className:"sendbird-channel-settings__accordion-icon"}),a.a.createElement(sa,{type:oa.SUBTITLE_1,color:la.ONBACKGROUND_1},ua.CHANNEL_SETTING__MUTED_MEMBERS__TITLE))},renderContent:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(al,{channel:n}))}}),a.a.createElement(zo,{className:"sendbird-channel-settings__banned-members-list",id:"bannedMembers",renderTitle:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement($r,{type:Xr.ICON_BANNED,width:24,height:24,className:"sendbird-channel-settings__accordion-icon"}),a.a.createElement(sa,{type:oa.SUBTITLE_1,color:la.ONBACKGROUND_1},ua.CHANNEL_SETTING__BANNED_MEMBERS__TITLE))},renderContent:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(nl,{channel:n}))}}),!n.isBroadcast&&a.a.createElement("div",{className:"sendbird-channel-settings__freeze"},a.a.createElement($r,{type:Xr.FROZEN_LIGHT,width:24,height:24,className:"sendbird-channel-settings__accordion-icon"}),a.a.createElement(sa,{type:oa.SUBTITLE_1,color:la.ONBACKGROUND_1},ua.CHANNEL_SETTING__FREEZE_CHANNEL),a.a.createElement("div",{className:"sendbird-channel-settings__frozen-icon"},s?a.a.createElement($r,{onClick:function(){n.unfreeze(function(){o(!1)})},type:Xr.TOGGLE_ON,width:44,height:24}):a.a.createElement($r,{onClick:function(){n.freeze(function(){o(!0)})},type:Xr.TOGGLE_OFF,width:44,height:24}))))}function ol(e){var t=e.onCloseClick,n=e.channelUrl,i=e.onChannelModified,s=e.renderChannelProfile,o=e.onBeforeUpdateChannel,l=e.stores.sdkStore,u=e.config,c=u.userListQuery,d=u.theme,f=u.userId,h=u.logger,p=u.isOnline,m=e.queries,g=(void 0===m?{}:m).applicationUserListQuery,y=l.sdk,_=l.initialized,v=N(Object(r.useState)(j()),2),E=v[0],b=v[1],C=N(Object(r.useState)(null),2),S=C[0],T=C[1],O=N(Object(r.useState)(!1),2),w=O[0],k=O[1],A=N(Object(r.useState)(!1),2),R=A[0],I=A[1],M=N(Object(r.useState)(!1),2),P=M[0],U=M[1];return Object(r.useEffect)(function(){if(h.info("ChannelSettings: Setting up"),n&&_&&y){if(!y||!y.GroupChannel)return void h.warning("ChannelSettings: No GroupChannel");y.GroupChannel.getChannel(n,function(e){e?(h.info("ChannelSettings: Fetched group channel",e),k(!1),T(e)):(h.warning("ChannelSettings: Channel not found"),k(!0))})}else h.warning("ChannelSettings: Setting up failed","No channelUrl or sdk uninitialized"),k(!1)},[n,_,E]),!S||w?a.a.createElement("div",{className:"sendbird-channel-settings"},a.a.createElement("div",{className:"sendbird-channel-settings__header"},a.a.createElement(sa,{type:oa.H_2,color:la.ONBACKGROUND_1},ua.CHANNEL_SETTING__HEADER__TITLE),a.a.createElement($r,{type:Xr.CLOSE,className:"sendbird-channel-settings__close-icon",height:"24px",width:"24px",onClick:function(){h.info("ChannelSettings: Click close"),t()}})),a.a.createElement("div",null,a.a.createElement(ni,{type:Ca.WRONG}))):a.a.createElement("div",{className:"sendbird-channel-settings"},a.a.createElement("div",{className:"sendbird-channel-settings__header"},a.a.createElement(sa,{type:oa.H_2,color:la.ONBACKGROUND_1},ua.CHANNEL_SETTING__HEADER__TITLE),a.a.createElement($r,{type:Xr.CLOSE,className:"sendbird-channel-settings__close-icon",height:"24px",width:"24px",onClick:function(){h.info("ChannelSettings: Click close"),t()}})),a.a.createElement("div",{className:"sendbird-channel-settings__scroll-area"},s?s({channel:S}):a.a.createElement(Lo,{disabled:!p,channel:S,userId:f,theme:d,onChannelInfoChange:function(e,t){h.info("ChannelSettings: Channel information being updated");var n=y.getErrorFirstCallback();if(o){var r=o(t,e,S.data);S.updateChannel(r,function(e,t){var r=e;n&&(r=t),i(r),b(j())})}else S.updateChannel(t,e,S.data,function(e,t){var r=e;n&&(r=t),h.info("ChannelSettings: Channel information updated",r),i(r),b(j())})}}),"operator"===S.myRole?a.a.createElement(sl,{channel:S,onChannelModified:function(e){i(e)},userQueryCreator:function(){return c&&"function"===typeof c?c():Fa({sdk:y,userFilledApplicationUserListQuery:g})}}):a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{role:"switch","aria-checked":R,tabIndex:0,onKeyDown:function(){return I(!R)},className:"\n                    sendbird-channel-settings__panel-item\n                    sendbird-channel-settings__members\n                  ",onClick:function(){return I(!R)}},a.a.createElement($r,{type:Xr.MEMBERS,className:"sendbird-channel-settings__panel-icon-left",height:"24px",width:"24px",fillColor:Zr.PRIMARY}),a.a.createElement(sa,{type:oa.SUBTITLE_1,color:la.ONBACKGROUND_1},"".concat(ua.CHANNEL_SETTING__MEMBERS__TITLE," (").concat(S.memberCount,")")),a.a.createElement($r,{type:Xr.SHEVRON,className:["sendbird-channel-settings__panel-icon-right","sendbird-channel-settings__panel-icon--chevron",R?"sendbird-channel-settings__panel-icon--open":""].join(" "),height:"24px",width:"24px"})),R&&a.a.createElement(jo,{currentUser:f,disabled:!p,userQueryCreator:function(){return c&&"function"===typeof c?c():Fa({sdk:y,userFilledApplicationUserListQuery:g})},swapParams:y&&y.getErrorFirstCallback&&y.getErrorFirstCallback(),channel:S,members:S.members,onInviteMemebers:function(e){h.info("ChannelSettings: Inviting new users"),S.inviteWithUserIds(e).then(function(e){i(e),b(j()),h.info("ChannelSettings: Inviting new users success!",e)})}})),a.a.createElement("div",{className:"sendbird-channel-settings__panel-item\n              sendbird-channel-settings__leave-channel\n              ".concat(p?"":"sendbird-channel-settings__panel-item__disabled"),role:"button",tabIndex:0,disabled:!0,onKeyDown:function(){p&&U(!0)},onClick:function(){p&&U(!0)}},a.a.createElement($r,{type:Xr.LEAVE,className:["sendbird-channel-settings__panel-icon-left","sendbird-channel-settings__panel-icon__leave"].join(" "),height:"24px",width:"24px"}),a.a.createElement(sa,{type:oa.SUBTITLE_1,color:la.ONBACKGROUND_1},ua.CHANNEL_SETTING__LEAVE_CHANNEL__TITLE)),P&&a.a.createElement(Za,{onCloseModal:function(){return U(!1)},onLeaveChannel:function(){h.info("ChannelSettings: Leaving channel",S),S.leave().then(function(){h.info("ChannelSettings: Leaving channel successful!",S),t()})}})))}ol.propTypes={onCloseClick:s.a.func,onChannelModified:s.a.func,onBeforeUpdateChannel:s.a.func,renderChannelProfile:s.a.oneOfType([s.a.element,s.a.func]),channelUrl:s.a.string.isRequired,queries:s.a.shape({applicationUserListQuery:s.a.shape({limit:s.a.number,userIdsFilter:s.a.arrayOf(s.a.string),metaDataKeyFilter:s.a.string,metaDataValuesFilter:s.a.arrayOf(s.a.string)})}),stores:s.a.shape({sdkStore:s.a.shape({sdk:s.a.shape({getErrorFirstCallback:s.a.func,GroupChannel:s.a.oneOfType([s.a.shape({getChannel:s.a.func}),s.a.func]),createApplicationUserListQuery:s.a.any}),initialized:s.a.bool})}).isRequired,config:s.a.shape({userId:s.a.string,theme:s.a.string,userListQuery:s.a.func,isOnline:s.a.bool,logger:s.a.shape({info:s.a.func,error:s.a.func,warning:s.a.func})}).isRequired},ol.defaultProps={onBeforeUpdateChannel:null,queries:{},renderChannelProfile:null,onCloseClick:function(){},onChannelModified:function(){}};var ll=O(ol);function ul(e){var t=e.appId,n=e.userId,i=e.accessToken,s=e.theme,o=e.userListQuery,l=e.nickname,u=e.profileUrl,c=e.config,d=void 0===c?{}:c,f=N(Object(r.useState)(null),2),h=f[0],p=f[1],m=N(Object(r.useState)(!1),2),g=m[0],y=m[1];return a.a.createElement(W,{appId:t,userId:n,accessToken:i,theme:s,nickname:l,profileUrl:u,userListQuery:o,config:d},a.a.createElement("div",{className:"sendbird-app__wrap"},a.a.createElement("div",{className:"sendbird-app__channellist-wrap"},a.a.createElement(di,{onChannelSelect:function(e){e&&e.url?p(e.url):p("")}})),a.a.createElement("div",{className:"sendbird-app__conversation-wrap"},a.a.createElement(Io,{channelUrl:h,onChatHeaderActionClick:function(){y(!0)}}))),g&&a.a.createElement("div",{className:"sendbird-app__settingspanel-wrap"},a.a.createElement(ll,{channelUrl:h,onCloseClick:function(){y(!1)}})))}ul.propTypes={appId:s.a.string.isRequired,userId:s.a.string.isRequired,accessToken:s.a.string,theme:s.a.string,userListQuery:s.a.func,nickname:s.a.string,profileUrl:s.a.string,config:s.a.shape({logLevel:s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string)])})},ul.defaultProps={accessToken:"",theme:"light",nickname:"",profileUrl:"",userListQuery:null,config:{}}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(2),a="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;function i(e){var t=r.useRef(e);return a(function(){t.current=e}),r.useCallback(function(){return t.current.apply(void 0,arguments)},[])}},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=n(26);var a=n(30);function i(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";n.d(t,"b",function(){return i});var r=n(4),a={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},i={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function s(e){return"".concat(Math.round(e),"ms")}t.a={easing:a,duration:i,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,o=void 0===n?i.standard:n,l=t.easing,u=void 0===l?a.easeInOut:l,c=t.delay,d=void 0===c?0:c;Object(r.a)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map(function(e){return"".concat(e," ").concat("string"===typeof o?o:s(o)," ").concat(u," ").concat("string"===typeof d?d:s(d))}).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}}},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,"a",function(){return a})},function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=n(2),a=n.n(r);t.a=a.a.createContext(null)},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,"a",function(){return a})},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){a=!0,i=l}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",function(){return a})},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(86)},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(a){return!1}}()?Object.assign:function(e,t){for(var n,s,o=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var u in n=Object(arguments[l]))a.call(n,u)&&(o[u]=n[u]);if(r){s=r(n);for(var c=0;c<s.length;c++)i.call(n,s[c])&&(o[s[c]]=n[s[c]])}}return o}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(26);function a(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";t.a={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},function(e,t,n){"use strict";var r=n(15),a=n(4),i=n(118),s=n(3),o=["xs","sm","md","lg","xl"];function l(e,t,n){var a;return Object(s.a)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(s.a)({paddingLeft:t(2),paddingRight:t(2)},n,Object(r.a)({},e.up("sm"),Object(s.a)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(a={minHeight:56},Object(r.a)(a,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Object(r.a)(a,e.up("sm"),{minHeight:64}),a)},n)}var u=n(48),c={black:"#000",white:"#fff"},d={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},f={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},h={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},p={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},m={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},g={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},y={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},_=n(12),v={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:c.white,default:d[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},E={text:{primary:c.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:d[800],default:"#303030"},action:{active:c.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function b(e,t,n,r){var a=r.light||r,i=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Object(_.d)(e.main,a):"dark"===t&&(e.dark=Object(_.a)(e.main,i)))}function C(e){return Math.round(1e5*e)/1e5}var N={textTransform:"uppercase"},S='"Roboto", "Helvetica", "Arial", sans-serif';function T(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,o=void 0===r?S:r,l=n.fontSize,u=void 0===l?14:l,c=n.fontWeightLight,d=void 0===c?300:c,f=n.fontWeightRegular,h=void 0===f?400:f,p=n.fontWeightMedium,m=void 0===p?500:p,g=n.fontWeightBold,y=void 0===g?700:g,_=n.htmlFontSize,v=void 0===_?16:_,E=n.allVariants,b=n.pxToRem,T=Object(a.a)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var O=u/14,w=b||function(e){return"".concat(e/v*O,"rem")},k=function(e,t,n,r,a){return Object(s.a)({fontFamily:o,fontWeight:e,fontSize:w(t),lineHeight:n},o===S?{letterSpacing:"".concat(C(r/t),"em")}:{},a,E)},A={h1:k(d,96,1.167,-1.5),h2:k(d,60,1.2,-.5),h3:k(h,48,1.167,0),h4:k(h,34,1.235,.25),h5:k(h,24,1.334,0),h6:k(m,20,1.6,.15),subtitle1:k(h,16,1.75,.15),subtitle2:k(m,14,1.57,.1),body1:k(h,16,1.5,.15),body2:k(h,14,1.43,.15),button:k(m,14,1.75,.4,N),caption:k(h,12,1.66,.4),overline:k(h,12,2.66,1,N)};return Object(i.a)(Object(s.a)({htmlFontSize:v,pxToRem:w,round:C,fontFamily:o,fontSize:u,fontWeightLight:d,fontWeightRegular:h,fontWeightMedium:m,fontWeightBold:y},A),T,{clone:!1})}var O=.2,w=.14,k=.12;function A(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(O,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(w,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(k,")")].join(",")}var R=["none",A(0,2,1,-1,0,1,1,0,0,1,3,0),A(0,3,1,-2,0,2,2,0,0,1,5,0),A(0,3,3,-2,0,3,4,0,0,1,8,0),A(0,2,4,-1,0,4,5,0,0,1,10,0),A(0,3,5,-1,0,5,8,0,0,1,14,0),A(0,3,5,-1,0,6,10,0,0,1,18,0),A(0,4,5,-2,0,7,10,1,0,2,16,1),A(0,5,5,-3,0,8,10,1,0,3,14,2),A(0,5,6,-3,0,9,12,1,0,3,16,2),A(0,6,6,-3,0,10,14,1,0,4,18,3),A(0,6,7,-4,0,11,15,1,0,4,20,3),A(0,7,8,-4,0,12,17,2,0,5,22,4),A(0,7,8,-4,0,13,19,2,0,5,24,4),A(0,7,9,-4,0,14,21,2,0,5,26,4),A(0,8,9,-5,0,15,22,2,0,6,28,5),A(0,8,10,-5,0,16,24,2,0,6,30,5),A(0,8,11,-5,0,17,26,2,0,6,32,5),A(0,9,11,-5,0,18,28,2,0,7,34,6),A(0,9,12,-6,0,19,29,2,0,7,36,6),A(0,10,13,-6,0,20,31,3,0,8,38,7),A(0,10,13,-6,0,21,33,3,0,8,40,7),A(0,10,14,-6,0,22,35,3,0,8,42,7),A(0,11,14,-7,0,23,36,3,0,9,44,8),A(0,11,15,-7,0,24,38,3,0,9,46,8)],I={borderRadius:4},M=n(33),P=(n(18),n(25));var U=function(e,t){return t?Object(i.a)(e,t,{clone:!1}):e},L={xs:0,sm:600,md:960,lg:1280,xl:1920},D={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(L[e],"px)")}};var x={m:"margin",p:"padding"},F={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},j={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},H=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}(function(e){if(e.length>2){if(!j[e])return[e];e=j[e]}var t=e.split(""),n=Object(M.a)(t,2),r=n[0],a=n[1],i=x[r],s=F[a]||"";return Array.isArray(s)?s.map(function(e){return i+e}):[i+s]}),G=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function B(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function z(e,t){return function(n){return e.reduce(function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e},{})}}function V(e){var t=B(e.theme);return Object.keys(e).map(function(n){if(-1===G.indexOf(n))return null;var r=z(H(n),t),a=e[n];return function(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||D;return t.reduce(function(e,a,i){return e[r.up(r.keys[i])]=n(t[i]),e},{})}if("object"===Object(P.a)(t)){var a=e.theme.breakpoints||D;return Object.keys(t).reduce(function(e,r){return e[a.up(r)]=n(t[r]),e},{})}return n(t)}(e,a,r)}).reduce(U,{})}V.propTypes={},V.filterProps=G;var q=n(19),Y=n(31);var K=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,C=void 0===r?{}:r,N=e.palette,S=void 0===N?{}:N,O=e.spacing,w=e.typography,k=void 0===w?{}:w,A=Object(a.a)(e,["breakpoints","mixins","palette","spacing","typography"]),M=function(e){var t=e.primary,n=void 0===t?{light:f[300],main:f[500],dark:f[700]}:t,r=e.secondary,o=void 0===r?{light:h.A200,main:h.A400,dark:h.A700}:r,l=e.error,C=void 0===l?{light:p[300],main:p[500],dark:p[700]}:l,N=e.warning,S=void 0===N?{light:m[300],main:m[500],dark:m[700]}:N,T=e.info,O=void 0===T?{light:g[300],main:g[500],dark:g[700]}:T,w=e.success,k=void 0===w?{light:y[300],main:y[500],dark:y[700]}:w,A=e.type,R=void 0===A?"light":A,I=e.contrastThreshold,M=void 0===I?3:I,P=e.tonalOffset,U=void 0===P?.2:P,L=Object(a.a)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function D(e){return Object(_.c)(e,E.text.primary)>=M?E.text.primary:v.text.primary}var x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=Object(s.a)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error(Object(u.a)(4,t));if("string"!==typeof e.main)throw new Error(Object(u.a)(5,JSON.stringify(e.main)));return b(e,"light",n,U),b(e,"dark",r,U),e.contrastText||(e.contrastText=D(e.main)),e},F={dark:E,light:v};return Object(i.a)(Object(s.a)({common:c,type:R,primary:x(n),secondary:x(o,"A400","A200","A700"),error:x(C),warning:x(S),info:x(O),success:x(k),grey:d,contrastThreshold:M,getContrastText:D,augmentColor:x,tonalOffset:U},F[R]),L)}(S),P=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,i=void 0===r?"px":r,l=e.step,u=void 0===l?5:l,c=Object(a.a)(e,["values","unit","step"]);function d(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function f(e,t){var r=o.indexOf(t);return r===o.length-1?d(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[o[r+1]]?n[o[r+1]]:t)-u/100).concat(i,")")}return Object(s.a)({keys:o,values:n,up:d,down:function(e){var t=o.indexOf(e)+1,r=n[o[t]];return t===o.length?d("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-u/100).concat(i,")")},between:f,only:function(e){return f(e,e)},width:function(e){return n[e]}},c)}(n),U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=B({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map(function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n}).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}(O),L=Object(i.a)({breakpoints:P,direction:"ltr",mixins:l(P,U,C),overrides:{},palette:M,props:{},shadows:R,typography:T(M,k),spacing:U,shape:I,transitions:q.a,zIndex:Y.a},A),D=arguments.length,x=new Array(D>1?D-1:0),F=1;F<D;F++)x[F-1]=arguments[F];return L=x.reduce(function(e,t){return Object(i.a)(e,t)},L)}();t.a=K},function(e,t,n){"use strict";var r=n(30);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(l){o=!0,a=l}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",function(){return a})},function(e,t,n){"use strict";(function(t){var r=n(10),a=n(70),i=n(40),s={"Content-Type":"application/x-www-form-urlencoded"};function o(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function(){var e;return"undefined"!==typeof XMLHttpRequest?e=n(41):"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t)&&(e=n(41)),e}(),transformRequest:[function(e,t){return a(t,"Accept"),a(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(o(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(a){if("SyntaxError"!==a.name)throw a}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,n=t&&t.silentJSONParsing,a=t&&t.forcedJSONParsing,s=!n&&"json"===this.responseType;if(s||a&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(o){if(s){if("SyntaxError"===o.name)throw i(o,this,"E_JSON_PARSE");throw o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],function(e){l.headers[e]={}}),r.forEach(["post","put","patch"],function(e){l.headers[e]=r.merge(s)}),e.exports=l}).call(this,n(36))},,function(e,t){var n,r,a=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"===typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var l,u=[],c=!1,d=-1;function f(){c&&l&&(c=!1,l.length?u=l.concat(u):d=-1,u.length&&h())}function h(){if(!c){var e=o(f);c=!0;for(var t=u.length;t;){for(l=u,u=[];++d<t;)l&&l[d].run();d=-1,t=u.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||o(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(10);function a(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var s=[];r.forEach(t,function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(a(t)+"="+a(e))}))}),i=s.join("&")}if(i){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,a){return e.config=t,n&&(e.code=n),e.request=r,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var r=n(10),a=n(71),i=n(72),s=n(39),o=n(73),l=n(76),u=n(77),c=n(42);e.exports=function(e){return new Promise(function(t,n){var d=e.data,f=e.headers,h=e.responseType;r.isFormData(d)&&delete f["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var m=e.auth.username||"",g=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";f.Authorization="Basic "+btoa(m+":"+g)}var y=o(e.baseURL,e.url);function _(){if(p){var r="getAllResponseHeaders"in p?l(p.getAllResponseHeaders()):null,i={data:h&&"text"!==h&&"json"!==h?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p};a(t,n,i),p=null}}if(p.open(e.method.toUpperCase(),s(y,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,"onloadend"in p?p.onloadend=_:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(_)},p.onabort=function(){p&&(n(c("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){n(c("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(c(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var v=(e.withCredentials||u(y))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;v&&(f[e.xsrfHeaderName]=v)}"setRequestHeader"in p&&r.forEach(f,function(e,t){"undefined"===typeof d&&"content-type"===t.toLowerCase()?delete f[t]:p.setRequestHeader(t,e)}),r.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),h&&"json"!==h&&(p.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){p&&(p.abort(),n(e),p=null)}),d||(d=null),p.send(d)})}},function(e,t,n){"use strict";var r=n(40);e.exports=function(e,t,n,a,i){var s=new Error(e);return r(s,t,n,a,i)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";var r=n(10);e.exports=function(e,t){t=t||{};var n={},a=["url","method","data"],i=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],o=["validateStatus"];function l(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function u(a){r.isUndefined(t[a])?r.isUndefined(e[a])||(n[a]=l(void 0,e[a])):n[a]=l(e[a],t[a])}r.forEach(a,function(e){r.isUndefined(t[e])||(n[e]=l(void 0,t[e]))}),r.forEach(i,u),r.forEach(s,function(a){r.isUndefined(t[a])?r.isUndefined(e[a])||(n[a]=l(void 0,e[a])):n[a]=l(void 0,t[a])}),r.forEach(o,function(r){r in t?n[r]=l(e[r],t[r]):r in e&&(n[r]=l(void 0,e[r]))});var c=a.concat(i).concat(s).concat(o),d=Object.keys(e).concat(Object.keys(t)).filter(function(e){return-1===c.indexOf(e)});return r.forEach(d,u),n}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){(function(t,r,a){e.exports=function(e,n,i){"use strict";function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=s(e),l=s(n),u=s(i);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){g(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var a=_(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}(this,n)}}function C(){return(C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||T(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||T(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=T(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw i}}}}var k=function(){function e(){}return Object.defineProperty(e,"OS_VERSION",{get:function(){return"undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"noAgent"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"SDK_VERSION",{get:function(){return"3.1.10"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"SDK_MAJOR_VERSION",{get:function(){return e.SDK_VERSION.split(".")[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e,"DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL",{get:function(){return 100},enumerable:!1,configurable:!0}),Object.defineProperty(e,"INTERNAL_CALL",{get:function(){return"ic"},enumerable:!1,configurable:!0}),e}(),A={},R=function(){function e(e){this._container=e}return e.create=function(t,n){return A[t]=new e(n),A[t]},e.get=function(e){return e||(e=Ba.getInstance()._iid),A[e]},Object.defineProperty(e.prototype,"container",{get:function(){return this._container},enumerable:!1,configurable:!0}),e.prototype.get=function(e){return this._container[e]},e.prototype.set=function(e,t){this._container[e]=t},e.prototype.remove=function(e){this._container.hasOwnProperty(e)&&delete this._container[e]},e}(),I=function(e,t){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function M(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}I(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var P=function(){return(P=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function U(e,t,n,r){return new(n||(n=Promise))(function(a,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function o(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,o)}l((r=r.apply(e,t||[])).next())})}function L(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}}function D(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}var x,F=function(e){function t(n,r){var a=e.call(this,r)||this;return a.name="SendBirdException",a.code=r||0,a.message=n,Object.setPrototypeOf(a,t.prototype),a}return M(t,e),Object.defineProperty(t.prototype,"isSessionKeyExpiredError",{get:function(){return this.code===t.SESSION_KEY_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSessionTokenExpiredError",{get:function(){return this.code===t.SESSION_TOKEN_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSessionTokenRevokedError",{get:function(){return this.code===t.SESSION_TOKEN_REVOKED},enumerable:!1,configurable:!0}),Object.defineProperty(t,"SESSION_KEY_EXPIRED",{get:function(){return 400309},enumerable:!1,configurable:!0}),Object.defineProperty(t,"USER_DEACTIVATED",{get:function(){return 400300},enumerable:!1,configurable:!0}),Object.defineProperty(t,"NON_EXISTING_USER",{get:function(){return 400301},enumerable:!1,configurable:!0}),Object.defineProperty(t,"SESSION_TOKEN_EXPIRED",{get:function(){return 400302},enumerable:!1,configurable:!0}),Object.defineProperty(t,"SESSION_TOKEN_REVOKED",{get:function(){return 400310},enumerable:!1,configurable:!0}),Object.defineProperty(t,"INVALID_INITIALIZATION",{get:function(){return 800100},enumerable:!1,configurable:!0}),Object.defineProperty(t,"CONNECTION_REQUIRED",{get:function(){return 800101},enumerable:!1,configurable:!0}),Object.defineProperty(t,"CONNECTION_CANCELED",{get:function(){return 800102},enumerable:!1,configurable:!0}),Object.defineProperty(t,"INVALID_PARAMETER",{get:function(){return 800110},enumerable:!1,configurable:!0}),Object.defineProperty(t,"NETWORK_ERROR",{get:function(){return 800120},enumerable:!1,configurable:!0}),Object.defineProperty(t,"NETWORK_ROUTING_ERROR",{get:function(){return 800121},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MALFORMED_DATA",{get:function(){return 800130},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MALFORMED_ERROR_DATA",{get:function(){return 800140},enumerable:!1,configurable:!0}),Object.defineProperty(t,"WRONG_CHANNEL_TYPE",{get:function(){return 800150},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MARK_AS_READ_RATE_LIMIT_EXCEEDED",{get:function(){return 800160},enumerable:!1,configurable:!0}),Object.defineProperty(t,"QUERY_IN_PROGRESS",{get:function(){return 800170},enumerable:!1,configurable:!0}),Object.defineProperty(t,"ACK_TIMEOUT",{get:function(){return 800180},enumerable:!1,configurable:!0}),Object.defineProperty(t,"LOGIN_TIMEOUT",{get:function(){return 800190},enumerable:!1,configurable:!0}),Object.defineProperty(t,"WEBSOCKET_CONNECTION_CLOSED",{get:function(){return 800200},enumerable:!1,configurable:!0}),Object.defineProperty(t,"WEBSOCKET_CONNECTION_FAILED",{get:function(){return 800210},enumerable:!1,configurable:!0}),Object.defineProperty(t,"REQUEST_FAILED",{get:function(){return 800220},enumerable:!1,configurable:!0}),Object.defineProperty(t,"FILE_UPLOAD_CANCEL_FAILED",{get:function(){return 800230},enumerable:!1,configurable:!0}),Object.defineProperty(t,"REQUEST_CANCELED",{get:function(){return 800240},enumerable:!1,configurable:!0}),Object.defineProperty(t,"REQUEST_DUPLICATED",{get:function(){return 800250},enumerable:!1,configurable:!0}),Object.defineProperty(t,"FILE_SIZE_LIMIT_EXCEEDED",{get:function(){return 800260},enumerable:!1,configurable:!0}),Object.defineProperty(t,"SESSION_TOKEN_REQUEST_FAILED",{get:function(){return 800500},enumerable:!1,configurable:!0}),Object.defineProperty(t,"SESSION_REFRESH_SUCCESS",{get:function(){return 800501},enumerable:!1,configurable:!0}),Object.defineProperty(t,"SESSION_REFRESH_FAILED",{get:function(){return 800502},enumerable:!1,configurable:!0}),Object.defineProperty(t,"CHANNEL_NOT_FOUND",{get:function(){return 900500},enumerable:!1,configurable:!0}),Object.defineProperty(t,"USER_NOT_MEMBER",{get:function(){return 900020},enumerable:!1,configurable:!0}),t}(Error),j=function(){function e(){this.sessionToken=null,this.sessionKey=null,this.eKey=null}return e.prototype.hasSession=function(){return!!this.sessionKey},e}(),H={},G=function(){function e(e,t){void 0===t&&(t={});var n=this;this._iid=e,Object.keys(t).forEach(function(e){var r=t[e];"function"==typeof r&&(n[e]=n.getClonedClass(r))}),H[e]=this}return e.get=function(e){return e?H[e]:{}},e.prototype.getClonedClass=function(e){var t=this._iid,n=function(n){function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.apply(this,e)||this}return M(r,n),Object.defineProperty(r,"_iid",{get:function(){return t},enumerable:!1,configurable:!0}),Object.defineProperty(r,"_name",{get:function(){return e.name},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"_iid",{get:function(){return t},enumerable:!1,configurable:!0}),r}(e);return n},e}(),B={verbose:"VERBOSE",info:"INFO",debug:"DEBUG",warn:"WARN",error:"ERROR",none:"NONE"},z=function(e){y(n,e);var t=b(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"log",value:function(e){for(var t,n,r,a,i,s=this.getLogLevelText(e);s.length<8;)s+=" ";for(var o=arguments.length,l=new Array(o>1?o-1:0),u=1;u<o;u++)l[u-1]=arguments[u];switch(l.unshift("[".concat(s,"]")),e){case"verbose":(t=console).log.apply(t,l);break;case"debug":(n=console).log.apply(n,l);break;case"info":(r=console).info.apply(r,l);break;case"warn":(a=console).warn.apply(a,l);break;case"error":(i=console).error.apply(i,l)}}},{key:"groupStart",value:function(){var e;(e=console).group.apply(e,arguments)}},{key:"groupEnd",value:function(){var e;(e=console).groupEnd.apply(e,arguments)}}]),n}(function(){function e(){h(this,e)}return m(e,[{key:"getLogLevelText",value:function(e){return B[e]}}]),e}()),V={DEBUG:"debug",PRODUCTION:"production"},q=V.PRODUCTION,Y={VERBOSE:"verbose",DEBUG:"debug",INFO:"info",WARN:"warn",ERROR:"error",NONE:"none"},K=[Y.NONE,Y.ERROR,Y.WARN,Y.INFO,Y.DEBUG,Y.VERBOSE],W=Y.WARN,Q=K.indexOf(W),J=[new z],$=function(){function e(){h(this,e)}return m(e,null,[{key:"Mode",get:function(){return V}},{key:"mode",get:function(){return q},set:function(t){Object.keys(e.Mode).map(function(t){return e.Mode[t]}).indexOf(t)>-1&&(q=t)}},{key:"supportedLogLevels",get:function(){return Y}},{key:"logLevel",get:function(){return K[Q]},set:function(e){K.includes(e)||(e=W),Q=K.indexOf(e)}},{key:"defaultLogLevel",get:function(){return W}},{key:"isDisplayableLogLevel",value:function(e){var t=K.indexOf(e);return 0<=t&&t<=Q}},{key:"log",value:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];e.isDisplayableLogLevel(t)&&J.forEach(function(e){return e.log.apply(e,[t].concat(r))})}},{key:"verbose",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.log.apply(e,[Y.VERBOSE].concat(n))}},{key:"debug",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.log.apply(e,[Y.DEBUG].concat(n))}},{key:"info",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.log.apply(e,[Y.INFO].concat(n))}},{key:"warn",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.log.apply(e,[Y.WARN].concat(n))}},{key:"error",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.log.apply(e,[Y.ERROR].concat(n))}},{key:"group",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=[];Array.isArray(n[n.length-1])&&(a=n.pop()),a.some(function(t){return e.isDisplayableLogLevel(t.level)})&&J.filter(function(e){return e instanceof z}).forEach(function(e){e.groupStart.apply(e,n),a.forEach(function(t){return e.log.apply(e,[t.level].concat(S(t.messages)))}),e.groupEnd()})}}]),e}(),X=function(){function e(){h(this,e),this._queue=[],this.locked=!1}return m(e,[{key:"lock",value:function(e){var t=this;this.locked?this._queue.push(e):(this.locked=!0,e(function(){return t.unlock()}))}},{key:"unlock",value:function(){if(this.locked=!1,this._queue.length>0){var e=this._queue.shift();this.lock(e)}}}]),e}(),Z=function(){function e(t){h(this,e),this.sb=t,this.mutex=new X,this.pingTimer=null,this.pingTimeoutTimer=null}return m(e,[{key:"ping",value:function(){var e=this,t=G.get(this.sb._iid).Command.bPing(),n=R.get(this.sb._iid).container,r=n.wsAdapter,a=n.pongTimeout;r.client.send(t),$.debug("`PING`"),this.pingTimeoutTimer=setTimeout(function(){$.debug("`PING` timeout."),e.stop(),r.client.handler&&r.client.handler.onError()},a)}},{key:"pong",value:function(){this.pingTimeoutTimer&&(clearTimeout(this.pingTimeoutTimer),this.pingTimeoutTimer=null)}},{key:"refreshTimer",value:function(){var e=this,t=R.get(this.sb._iid).container.pingInterval;this.mutex.lock(function(n){e.stop(),e.pingTimer=setInterval(function(){e.ping()},t),n()})}},{key:"start",value:function(){this.refreshTimer(),this.ping()}},{key:"stop",value:function(){this.pingTimer&&(clearInterval(this.pingTimer),this.pingTimer=null),this.pingTimeoutTimer&&(clearTimeout(this.pingTimeoutTimer),this.pingTimeoutTimer=null)}}]),e}(),ee=function(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"==navigator.product},te=function(){return"undefined"==typeof window&&"undefined"!=typeof t&&("node"===t.title||void 0!==t.versions&&t.versions.node||"[object process]"===String(t))},ne=[F.CONNECTION_REQUIRED,F.NETWORK_ERROR,F.ACK_TIMEOUT,F.WEBSOCKET_CONNECTION_CLOSED,F.WEBSOCKET_CONNECTION_FAILED,F.FILE_UPLOAD_CANCEL_FAILED,F.REQUEST_CANCELED,500901,500910,900200],re=[F.SESSION_TOKEN_EXPIRED,F.SESSION_TOKEN_REVOKED,F.USER_DEACTIVATED,F.NON_EXISTING_USER],ae=[F.WEBSOCKET_CONNECTION_CLOSED,F.WEBSOCKET_CONNECTION_FAILED],ie=function(){function e(){}return e.deepEqual=function(e,t){if(e!==t){var n=P({},e),r=P({},t);return(!n.hasOwnProperty("messageId")||!r.hasOwnProperty("messageId")||n.messageId===r.messageId)&&(!n.hasOwnProperty("reqId")||!r.hasOwnProperty("reqId")||n.reqId===r.reqId)&&(n.hasOwnProperty("messageId")&&delete n.messageId,n.hasOwnProperty("reqId")&&delete n.reqId,r.hasOwnProperty("messageId")&&delete r.messageId,r.hasOwnProperty("reqId")&&delete r.reqId,JSON.stringify(n)===JSON.stringify(r))}return!0},e.isResendableError=function(e){return e>0&&ne.indexOf(e)>=0},e.isAutoResendableError=function(e){return e>0&&ae.indexOf(e)>=0},e.isNonAutoReconnectableError=function(e){return e>0&&re.indexOf(e)>=0},e.isFile=function(e){var t="object"==typeof e&&null!==e&&e.hasOwnProperty("name")&&"string"==typeof e.name&&e.hasOwnProperty("uri")&&"string"==typeof e.uri&&e.hasOwnProperty("type")&&"string"==typeof e.type;if(!t)if(te()){if("undefined"!=typeof r)return e instanceof r}else{if("undefined"!=typeof Blob)return e instanceof Blob;if("undefined"!=typeof File)return e instanceof File}return t},e}();!function(e){e.FILE="file",e.BLOB="blob",e.BLOB_LIKE_OBJECT="blobLikeObject",e.URL="url"}(x||(x={}));var se=function(){function e(){}var t;return e.isFileLikeObject=function(e){return"object"==typeof e&&null!==e&&e.hasOwnProperty("name")&&"string"==typeof e.name&&e.hasOwnProperty("uri")&&"string"==typeof e.uri&&e.hasOwnProperty("type")&&"string"==typeof e.type},t=e,e.convertFileToDataUrl=function(e){return new Promise(function(t,n){var r=new FileReader;r.onload=function(e){return t(r.result)},r.onerror=function(e){return n(r.error)},r.readAsDataURL(e)})},e.convertFileToArrayBuffer=function(e){return new Promise(function(t,n){var r=new FileReader;r.onload=function(e){return t(r.result)},r.onerror=function(e){return n(r.error)},r.readAsArrayBuffer(e)})},e.convertDataUrlToByteArray=function(e){for(var t=e.split(","),n=t[0].match(/:(.*?);/)[1],r=atob(t[1]),a=r.length,i=new Uint8Array(a);a--;)i[a]=r.charCodeAt(a);return[i,n]},e.convertDataURLtoFile=function(e,n){var r=t.convertDataUrlToByteArray(e),a=r[0],i=r[1];return new File([a],n,{type:i})},e.convertDataURLtoBlob=function(e){var n=t.convertDataUrlToByteArray(e),r=n[0],a=n[1];return new Blob([r],{type:a})},e.convertArrayBufferToFile=function(e,t){return new File([e],t)},e.isFile=function(e){return"undefined"!=typeof window&&"File"in window&&"undefined"!=typeof File&&e instanceof File},e.isBlob=function(e){return"undefined"!=typeof window&&"Blob"in window&&"undefined"!=typeof Blob&&e instanceof Blob},e.isFileTypeBlob=function(e){return e===x.BLOB||e===x.FILE},e.convertBlobToBuffer=function(n){return U(void 0,void 0,void 0,function(){var a;return L(t,function(t){switch(t.label){case 0:return[4,e.convertFileToArrayBuffer(n)];case 1:return a=t.sent(),[2,r.from(a)]}})})},e}(),oe=function(){function e(e){var t=this;this.fields={},e&&Object.keys(e).forEach(function(n){t.fields[n]={value:e[n]},ie.isFile(e[n])&&(t.fields[n].filename=e[n].name)}),this.options={},this.internal=!1,this.upload={reqId:null,deleteRequest:null,progressHandler:null}}return e.prototype.add=function(e,t,n){void 0===n&&(n=null),this.fields[e]={value:t,filename:n}},e.prototype.remove=function(e){this.fields.hasOwnProperty(e)&&delete this.fields[e]},e.prototype.yield=function(){return U(this,void 0,void 0,function(){var e,n,r,a,i,s,o,u,c,d,f,h,p=this;return L(this,function(m){switch(m.label){case 0:for(e=!1,n=Object.keys(this.fields),r=0,a=n;r<a.length;r++)if(u=a[r],ie.isFile(this.fields[u].value)){e=!0;break}if(!e)return[3,10];i=new l.default,s=0,o=n,m.label=1;case 1:return s<o.length?(u=o[s],c=this.fields[u],ie.isFile(c.value)?(d=c.value).filename||d.name?(i.append(u,c.value,d.filename||d.name),[3,6]):[3,2]:[3,7]):[3,9];case 2:return d.data?(i.append(u,c.value,d.data.name),[3,6]):[3,3];case 3:return f=c.value,"undefined"!=typeof window&&"undefined"!=typeof t&&t.title.endsWith("node")&&t.versions&&t.versions.node&&"undefined"!=typeof Blob&&f instanceof Blob||"undefined"!=typeof File&&f instanceof File?[4,se.convertBlobToBuffer(f)]:[3,5];case 4:f=m.sent(),m.label=5;case 5:i.append(u,f,"unnamed"),m.label=6;case 6:return[3,8];case 7:ee()&&Array.isArray(c.value)?i.append(u,String(c.value)):i.append(u,c.value),m.label=8;case 8:return s++,[3,1];case 9:return[2,i];case 10:return h={},Object.keys(this.fields).forEach(function(e){h[e]=p.fields[e].value}),[2,h]}})})},e}(),le=function(e,t,n){return void 0===n&&(n=null),new Promise(function(r,a){t(function(t,i){void 0===i&&(i=null),n&&(R.get(e).get("isErrorFirstInCallback")?n(t,i):n(i,t)),t?a(t):r(i)})})},ue=function(){function e(t){h(this,e),this.sb=t,this.cls=G.get(this.sb._iid)}return m(e,[{key:"checkRouting",value:function(e){if(this.sb.customApiHost&&this.sb.customWsHost)"function"==typeof e&&e(null,{apiHost:this.sb.customApiHost,wsHost:this.sb.customWsHost});else{var t=this.sb.getApplicationId();e(null,{apiHost:"https://api-".concat(t,".sendbird.com"),wsHost:"wss://ws-".concat(t,".sendbird.com")})}}},{key:"_buildUrl",value:function(e){var t=e.apiHost,n=e.url,r=e.params;return n?r&&r.internal?"".concat(t,"/v").concat(k.SDK_MAJOR_VERSION,"/sdk").concat(n):"".concat(t,"/v").concat(k.SDK_MAJOR_VERSION).concat(n):t}},{key:"_createHeader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.noSessionKey,r=void 0!==n&&n,a=t.accessToken,i=void 0===a?null:a,s=e instanceof l.default&&"function"==typeof e.getHeaders?e.getHeaders():{},o=R.get(this.sb._iid),u=o.container,c=u.appId,d=u.auth,f=u.extensions,h=u.getUserAgentWithExtensions,p=Ba.getAppVersion(),m="JS,".concat(k.OS_VERSION,",").concat(k.SDK_VERSION,",").concat(c);return p&&(m+=",".concat(p)),s.SendBird=m,s["SB-User-Agent"]=encodeURIComponent(h(f)),!r&&d.sessionKey&&(s["Session-Key"]=d.sessionKey),i&&(s["App-Id"]=c,s["Access-Token"]=i),s["Request-Sent-Timestamp"]=(new Date).getTime().toString(),s}},{key:"_createQuery",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var n=[];return Object.keys(t).forEach(function(e){var r=t[e];if(null!=r){var a="";a="object"===f(r)?Array.isArray(r)?r.map(function(e){return encodeURIComponent("string"==typeof e?e.trim():e)}).join(","):encodeURIComponent(JSON.stringify(r)):encodeURIComponent(r),n.push("".concat(e,"=").concat(a))}}),n.length>0?"".concat(e,"?").concat(n.join("&")):e}catch(t){return $.debug("createWithEncodedGetParams is failed. - ",t),e}}},{key:"_request",value:function(e,t,n,r){var a=this;this.checkRouting(function(i,s){if(i)r(new F("Request failed.",F.REQUEST_FAILED),null);else{var u=a._buildUrl({apiHost:s.apiHost,url:t,params:n});(n?n.yield():Promise.resolve({})).then(function(i){var s=a._createHeader(i,n?n.options:{}),c=[{level:$.supportedLogLevels.DEBUG,messages:["url:",t]},{level:$.supportedLogLevels.DEBUG,messages:["data:",i]}],d=null;switch(e){case"GET":case"DELETE":d=a._createQuery(u,i);break;case"POST":case"PUT":d=u}var f=null;if("undefined"==typeof ServiceWorker||"undefined"==typeof ServiceWorkerRegistration||"undefined"!=typeof ServiceWorkerContainer||te()||"function"!=typeof fetch)switch(e){case"GET":f=o.default.get(d,{headers:s,validateStatus:a._validateStatus});break;case"POST":var h=null;if(i instanceof l.default){var p=o.default.CancelToken.source();h=p.token;var m=a.cls.FileMessageQueue,g=n.upload.reqId;g&&(c.push({level:$.supportedLogLevels.DEBUG,messages:["request id:",g]}),m.uploadRequest[g]=p)}f=o.default.post(d,"function"==typeof i.getBuffer?i.getBuffer():i,{headers:s,validateStatus:a._validateStatus,cancelToken:h,onUploadProgress:function(e){n.upload.progressHandler&&n.upload.progressHandler(e,n.upload.reqId)}});break;case"PUT":f=o.default.put(d,i,{headers:s,validateStatus:a._validateStatus});break;case"DELETE":f=o.default.delete(d,{headers:s,validateStatus:a._validateStatus})}else{var y={method:e,headers:s};switch(e){case"GET":break;case"POST":if(i instanceof l.default){if("function"==typeof AbortController){var _=new AbortController,v=_.signal;y.signal=v;var E=a.cls.FileMessageQueue,b=n.upload.reqId;b&&(c.push({level:$.supportedLogLevels.DEBUG,messages:["request id:",b]}),E.uploadRequest[b]=_)}y.body="function"==typeof i.getBuffer?i.getBuffer():i}else s["Content-Type"]="application/json; charset=utf-8",y.body=JSON.stringify(i);break;case"PUT":i instanceof l.default?y.body="function"==typeof i.getBuffer?i.getBuffer():i:(s["Content-Type"]="application/json; charset=utf-8",y.body=JSON.stringify(i))}f=fetch(d,y).then(function(e){return e.json().then(function(t){if(!a._validateStatus(e.status))throw{request:{isAbort:!1},response:{data:t}};return Promise.resolve({data:t})})})}$.group("".concat(e," request"),c),c=[],f.then(function(t){try{var a=t.data;"POST"===e&&"function"==typeof n.upload.deleteRequest&&n.upload.deleteRequest(),c.push({level:$.supportedLogLevels.DEBUG,messages:["data:",a]}),r(null,a)}catch(e){throw{code:888e3,rawError:e}}}).catch(function(i){if(888e3===i.code)throw i.rawError;"POST"===e&&"function"==typeof n.upload.deleteRequest&&n.upload.deleteRequest();var s=a._handleError(i);if(c.push({level:$.supportedLogLevels.DEBUG,messages:["error:",s]}),t&&n)if(n.options&&n.options.isSessionRefresh)r(s,null);else{var o=R.get(a.sb._iid).container.sessionManager;o.isSessionError(s)?o.refreshSessionIfExpiredError(s).then(function(){return r(new F("Session is refreshed successfully.",F.SESSION_REFRESH_SUCCESS),null)}).catch(function(e){return r(new F("Session refresh failed.",F.SESSION_REFRESH_FAILED),null)}):r(s,null)}else r(s,null)}).finally(function(){return $.group("".concat(e," response"),c)})})}})}},{key:"_validateStatus",value:function(e){return e>=200&&e<400}},{key:"_handleError",value:function(e){var t=e.request,n=e.response;if(t){if(t.isAbort||t.aborted)return new F("Request has been canceled.",F.REQUEST_CANCELED);if(n){var r=n.data,a=r?r.message:"Request failed.",i=r?r.code:F.REQUEST_FAILED;return new F(a,i)}return new F("Request failed.",F.REQUEST_FAILED)}return new F("There was a network error.",F.NETWORK_ERROR)}},{key:"get",value:function(e,t,n){this._request("GET",e,t,n)}},{key:"dummyCall",value:function(e){this._request("GET",null,null,e)}},{key:"post",value:function(e,t,n){this._request("POST",e,t,n)}},{key:"put",value:function(e,t,n){this._request("PUT",e,t,n)}},{key:"delete",value:function(e,t,n){this._request("DELETE",e,t,n)}},{key:"refreshSessionKey",value:function(t,n){var r=this,a=t.accessToken;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.USERS_USERID_SESSION_KEY.replace("%s",encodeURIComponent(i.userId)),o=new oe;o.add("expiring_session",1),o.options.isSessionRefresh=!0,o.options.noSessionKey=!0,o.options.accessToken=a,r.post(s,o,n)}})}},{key:"updateCurrentUserInfo",value:function(t,n){var r=this,a=t.nickname,i=t.profileUrl,s=t.profileImage,o=t.preferredLanguages;this.sb.ConnectionManager.ready(function(t,l){if(t)n(t,null);else{var u=e.Path.USERS_USERID.replace("%s",encodeURIComponent(l.userId)),c=new oe;a&&c.add("nickname",a),i&&c.add("profile_url",i),s&&c.add("profile_file",s,s.name),o&&c.add("preferred_languages",o),r.put(u,c,n)}})}},{key:"getMyGroupChannelChangeLogs",value:function(t,n){var r=this;return le(this.sb._iid,function(n){var a=t.ts,i=t.token,s=t.customTypes,o=t.includeEmpty,l=t.includeFrozen;r.sb.ConnectionManager.ready(function(t,u){if(t)n(t,null);else{var c=e.Path.USERS_USERID_MY_GROUP_CHANNEL_CHANGELOGS.replace("%s",encodeURIComponent(u.userId)),d=new oe({show_read_receipt:!0,show_delivery_receipt:!0,show_member:!0});i&&d.add("token",i),a&&d.add("change_ts",a),s&&s.length>0&&d.add("custom_types",s),"boolean"==typeof o&&d.add("show_empty",o),"boolean"==typeof l&&d.add("show_frozen",l),r.get(c,d,n)}})},n)}},{key:"getChannelInvitationPreference",value:function(t,n){var r=this;this.sb.ConnectionManager.ready(function(t,a){if(t)n(t,null);else{var i=e.Path.USERS_USERID_GROUP_CHANNEL_INVITATION_PREFERENCE.replace("%s",encodeURIComponent(a.userId));r.get(i,null,n)}})}},{key:"getGroupChannelCount",value:function(t,n){var r=this,a=t.memberStateFilter;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=r.cls.GroupChannel,o=e.Path.USERS_USERID_GROUP_CHANNEL_COUNT.replace("%s",encodeURIComponent(i.userId)),l="";switch(a){case s.MemberStateFilter.JOINED:l="joined";break;case s.MemberStateFilter.INVITED:l="invited";break;case s.MemberStateFilter.INVITED_BY_FRIEND:l="invited_by_friend";break;case s.MemberStateFilter.INVITED_BY_NON_FRIEND:l="invited_by_non_friend";break;default:l="all"}var u=new oe({state:l});r.get(o,u,n)}})}},{key:"getUnreadItemCount",value:function(t,n){var r=this,a=t.keys;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.USERS_USERID_UNREAD_ITEM_COUNT.replace("%s",encodeURIComponent(i.userId)),o=new oe({item_keys:a});r.get(s,o,n)}})}},{key:"getTotalUnreadMessageCount",value:function(t,n){var r=this,a=t.customTypesFilter,i=t.superChannelFilter;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var o=e.Path.USERS_USERID_UNREAD_MESSAGE_COUNT.replace("%s",encodeURIComponent(s.userId)),l=new oe({super_mode:i});null!==a&&a.length>0&&l.add("custom_types",a),r.get(o,l,n)}})}},{key:"getTotalUnreadChannelCount",value:function(t,n){var r=this,a=t.customTypesFilter,i=t.superChannelFilter;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var o=e.Path.USERS_USERID_UNREAD_CHANNEL_COUNT.replace("%s",encodeURIComponent(s.userId)),l=new oe({super_mode:i});null!==a&&a.length>0&&l.add("custom_types",a),r.get(o,l,n)}})}},{key:"searchMessages",value:function(t,n){var r=this,a=t.keyword,i=t.limit,s=t.reverse,o=t.exactMatch,l=t.channelUrl,u=t.channelCustomType,c=t.messageTimestampFrom,d=t.messageTimestampTo,f=t.order,h=t.nextToken,p=t.advancedQuery,m=t.targetFields;this.sb.ConnectionManager.ready(function(t,g){if(t)n(t,null);else{var y=e.Path.SEARCH_MESSAGE,_=new oe({limit:i,reverse:s,query:a,custom_type:u});c&&_.add("message_ts_from",c),d&&_.add("message_ts_to",d),l&&_.add("channel_url",l),f&&_.add("sort_field",f),"boolean"==typeof o&&_.add("exact_match",o),null!==h&&h.length>0&&_.add("after",h),"boolean"==typeof p&&_.add("advanced_query",p),m&&Array.isArray(m)&&_.add("target_fields",m),r.get(y,_,n)}})}},{key:"markAsReadAll",value:function(t,n){var r=this,a=t.channelUrls;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.USERS_USERID_MARKASREADALL.replace("%s",encodeURIComponent(i.userId)),o=new oe;a&&o.add("channel_urls",a),r.put(s,o,n)}})}},{key:"markAsDelivered",value:function(t,n){var r=this,a=t.channelUrl,i=t.userId;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var o=e.Path.GROUPCHANNELS_CHANNELURL_MESSAGES_MARKASDELIVERED.replace("%s",encodeURIComponent(a)),l=new oe;i&&l.add("user_id",i),r.put(o,l,n)}})}},{key:"setChannelInvitationPreference",value:function(t,n){var r=this,a=t.isAutoAccept;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.USERS_USERID_GROUP_CHANNEL_INVITATION_PREFERENCE.replace("%s",encodeURIComponent(i.userId)),o=new oe({auto_accept:a});r.put(s,o,n)}})}},{key:"blockUser",value:function(t,n){var r=this,a=t.blockedUserId;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.USERS_USERID_BLOCK.replace("%s",encodeURIComponent(i.userId)),o=new oe({target_id:a});r.post(s,o,n)}})}},{key:"unblockUser",value:function(t,n){var r=this,a=t.unblockedUserId;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.USERS_USERID_BLOCK_TARGETID.replace("%s",encodeURIComponent(i.userId)).replace("%s",encodeURIComponent(a));r.delete(s,null,n)}})}},{key:"getPushTriggerOption",value:function(t,n){var r=this;this.sb.ConnectionManager.ready(function(t,a){if(t)n(t,null);else{var i=e.Path.USERS_USERID_PUSHPREFERENCE.replace("%s",encodeURIComponent(a.userId));r.get(i,null,n)}})}},{key:"setPushTriggerOption",value:function(t,n){var r=this,a=t.pushTriggerOption;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.USERS_USERID_PUSHPREFERENCE.replace("%s",encodeURIComponent(i.userId)),o=new oe({push_trigger_option:a});r.put(s,o,n)}})}},{key:"getPushTokens",value:function(t,n){var r=this,a=t.ts,i=t.token,s=t.type;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var l=e.Path.USERS_USERID_PUSH_DEVICE_TOKENS.replace("%s",encodeURIComponent(o.userId)).replace("%s",encodeURIComponent(s)),u=new oe;i&&u.add("token",i),a&&u.add("created_ts",a),r.get(l,u,n)}})}},{key:"getPushTemplate",value:function(t,n){var r=this;this.sb.ConnectionManager.ready(function(t,a){if(t)n(t,null);else{var i=e.Path.USERS_USERID_PUSH_TEMPLATE.replace("%s",encodeURIComponent(a.userId));r.get(i,null,n)}})}},{key:"setPushTemplate",value:function(t,n){var r=this,a=t.templateName;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.USERS_USERID_PUSH_TEMPLATE.replace("%s",encodeURIComponent(i.userId)),o=new oe({name:a});r.put(s,o,n)}})}},{key:"getDoNotDisturb",value:function(t,n){var r=this;this.sb.ConnectionManager.ready(function(t,a){if(t)n(t,null);else{var i=e.Path.USERS_USERID_PUSHPREFERENCE.replace("%s",encodeURIComponent(a.userId));r.get(i,null,n)}})}},{key:"setDoNotDisturb",value:function(t,n){var r=this,a=t.doNotDisturbOn,i=t.startHour,s=t.startMin,o=t.endHour,l=t.endMin,u=t.timezone;this.sb.ConnectionManager.ready(function(t,c){if(t)n(t,null);else{var d=e.Path.USERS_USERID_PUSHPREFERENCE.replace("%s",encodeURIComponent(c.userId)),f=new oe({do_not_disturb:a,start_hour:i,start_min:s,end_hour:o,end_min:l,timezone:u});r.put(d,f,n)}})}},{key:"getSnoozePeriod",value:function(t,n){var r=this;this.sb.ConnectionManager.ready(function(t,a){if(t)n(t,null);else{var i=e.Path.USERS_USERID_PUSHPREFERENCE.replace("%s",encodeURIComponent(a.userId));r.get(i,null,n)}})}},{key:"setSnoozePeriod",value:function(t,n){var r=this,a=t.snoozeOn,i=t.startTs,s=t.endTs;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var l=e.Path.USERS_USERID_PUSHPREFERENCE.replace("%s",encodeURIComponent(o.userId)),u=new oe({snooze_enabled:a,snooze_start_ts:i,snooze_end_ts:s});r.put(l,u,n)}})}},{key:"registerGCMPushToken",value:function(t,n){var r=this,a=t.token;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.USERS_USERID_PUSH_GCM.replace("%s",encodeURIComponent(i.userId)),o=new oe({gcm_reg_token:a,always_push:!0});r.post(s,o,n)}})}},{key:"unregisterGCMPushToken",value:function(t,n){var r=this,a=t.token;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.USERS_USERID_PUSH_GCM_TOKEN.replace("%s",encodeURIComponent(i.userId)).replace("%s",encodeURIComponent(a));r.delete(s,null,n)}})}},{key:"unregisterAllGCMPushTokens",value:function(t,n){var r=this;this.sb.ConnectionManager.ready(function(t,a){if(t)n(t,null);else{var i=e.Path.USERS_USERID_PUSH_GCM.replace("%s",encodeURIComponent(a.userId));r.delete(i,null,n)}})}},{key:"registerAPNSPushToken",value:function(t,n){var r=this,a=t.token;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.USERS_USERID_PUSH_APNS.replace("%s",encodeURIComponent(i.userId)),o=new oe({apns_device_token:a,always_push:!0});r.post(s,o,n)}})}},{key:"unregisterAPNSPushToken",value:function(t,n){var r=this,a=t.token;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.USERS_USERID_PUSH_APNS_TOKEN.replace("%s",encodeURIComponent(i.userId)).replace("%s",encodeURIComponent(a));r.delete(s,null,n)}})}},{key:"unregisterAllAPNSPushTokens",value:function(t,n){var r=this;this.sb.ConnectionManager.ready(function(t,a){if(t)n(t,null);else{var i=e.Path.USERS_USERID_PUSH_APNS.replace("%s",encodeURIComponent(a.userId));r.delete(i,null,n)}})}},{key:"unregisterAllPushTokens",value:function(t,n){var r=this;this.sb.ConnectionManager.ready(function(t,a){if(t)n(t,null);else{var i=e.Path.USERS_USERID_PUSH.replace("%s",encodeURIComponent(a.userId));r.delete(i,null,n)}})}},{key:"loadFriendList",value:function(t,n){var r=this,a=t.token,i=t.limit;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var o=e.Path.FRIENDS.replace("%s",encodeURIComponent(s.userId)),l=new oe({limit:i,token:a});r.get(o,l,n)}})}},{key:"getFriendChangeLogsByToken",value:function(t,n){var r=this,a=t.token;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.FRIENDS_CHANGE_LOGS.replace("%s",encodeURIComponent(i.userId)),o=new oe;a&&o.add("token",a),r.get(s,o,n)}})}},{key:"addFriends",value:function(t,n){var r=this,a=t.userIds;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.FRIENDS.replace("%s",encodeURIComponent(i.userId)),o=new oe({user_ids:a});r.post(s,o,n)}})}},{key:"deleteFriends",value:function(t,n){var r=this,a=t.userIds;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.FRIENDS.replace("%s",encodeURIComponent(i.userId)),o=new oe({user_ids:a});r.delete(s,o,n)}})}},{key:"uploadFriendDiscoveries",value:function(t,n){var r=this,a=t.discoveries;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.FRIENDS_DISCOVERIES.replace("%s",encodeURIComponent(i.userId)),o=[];a.forEach(function(e){o.push({friend_discovery_key:e.friendDiscoveryKey,friend_name:"string"==typeof e.friendName||e.friendName?e.friendName:null})});var l=new oe({friend_discoveries:o});r.put(s,l,n)}})}},{key:"deleteFriendDiscoveries",value:function(t,n){var r=this,a=t.discoveryKeys;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.FRIENDS_DISCOVERIES.replace("%s",encodeURIComponent(i.userId)),o=new oe({friend_discovery_keys:a});r.delete(s,o,n)}})}},{key:"loadUserList",value:function(t,n){var r=this,a=t.token,i=t.limit,s=t.userIdsFilter,o=t.metaDataKeyFilter,l=t.metaDataValuesFilter,u=t.nicknameStartsWithFilter;this.sb.ConnectionManager.ready(function(t,c){if(t)n(t,null);else{var d=e.Path.USERS,f=new oe({token:a,limit:i});s&&s.length>0&&f.add("user_ids",s),o&&l&&l.length>0&&(f.add("metadatakey",o),f.add("metadatavalues_in",l)),u&&f.add("nickname_startswith",u),r.get(d,f,n)}})}},{key:"loadBlockedUserList",value:function(t,n){var r=this,a=t.token,i=t.limit,s=t.userIdsFilter;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var l=e.Path.USERS_USERID_BLOCK.replace("%s",encodeURIComponent(o.userId)),u=new oe({token:a,limit:i});s&&s.length>0&&u.add("user_ids",s),r.get(l,u,n)}})}},{key:"createUserMetaData",value:function(t,n){var r=this,a=t.metaData;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.USERS_USERID_METADATA.replace("%s",encodeURIComponent(i.userId)),o=new oe({metadata:a});r.post(s,o,n)}})}},{key:"updateUserMetaData",value:function(t,n){var r=this,a=t.metaData,i=t.upsert;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var o=e.Path.USERS_USERID_METADATA.replace("%s",encodeURIComponent(s.userId)),l=new oe({metadata:a,upsert:i});r.put(o,l,n)}})}},{key:"deleteUserMetaData",value:function(t,n){var r=this,a=t.metaDataKey;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.USERS_USERID_METADATA_KEY.replace("%s",encodeURIComponent(i.userId)).replace("%s",encodeURIComponent(a));r.delete(s,null,n)}})}},{key:"deleteAllUserMetaData",value:function(t,n){var r=this;this.sb.ConnectionManager.ready(function(t,a){if(t)n(t,null);else{var i=e.Path.USERS_USERID_METADATA.replace("%s",encodeURIComponent(a.userId));r.delete(i,null,n)}})}},{key:"getMessageChangeLogs",value:function(t,n){var r=this;return le(this.sb._iid,function(n){var a=t.channelUrl,i=t.ts,s=t.timestamp,o=t.token,l=t.isOpenChannel,u=t.includeMetaArray,c=t.includeReaction,d=t.includeReactions,f=t.includeReplies,h=t.includeParentMessageText,p=t.includeThreadInfo,m=t.replyType,g=t.includeParentMessageInfo,y=t.includePollDetails;r.sb.ConnectionManager.ready(function(t,_){if(t)n(t,null);else{var v=l?e.Path.OPENCHANNELS_CHANNELURL_MESSAGES_CHANGELOGS.replace("%s",encodeURIComponent(a)):e.Path.GROUPCHANNELS_CHANNELURL_MESSAGES_CHANGELOGS.replace("%s",encodeURIComponent(a)),E=new oe;o&&E.add("token",o),i&&E.add("change_ts",i),s&&E.add("change_ts",s),"boolean"==typeof u&&E.add("with_sorted_meta_array",u),"boolean"==typeof d?E.add("include_reactions",d):E.add("include_reactions","boolean"==typeof c&&c),"boolean"==typeof p&&E.add("include_thread_info",p),"string"==typeof m?E.add("include_reply_type",m):E.add("include_reply_type","boolean"==typeof f&&f?r.cls.BaseMessage.ReplyType.ALL:r.cls.BaseMessage.ReplyType.NONE),"boolean"==typeof g?E.add("include_parent_message_info",g):E.add("include_parent_message_info","boolean"==typeof h&&h),"boolean"==typeof y&&E.add("include_poll_details",y),r.get(v,E,n)}})},n)}},{key:"getMyMutedInfo",value:function(t,n){var r=this,a=t.channelUrl,i=t.userId,s=t.isGroupChannel;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var l=s?e.Path.GROUPCHANNELS_CHANNELURL_MUTE_USERID.replace("%s",encodeURIComponent(a)).replace("%s",encodeURIComponent(i)):e.Path.OPENCHANNELS_CHANNELURL_MUTE_USERID.replace("%s",encodeURIComponent(a)).replace("%s",encodeURIComponent(i));r.get(l,null,n)}})}},{key:"loadBannedUserList",value:function(t,n){var r=this,a=t.token,i=t.limit,s=t.channelUrl,o=t.isOpenChannel;this.sb.ConnectionManager.ready(function(t,l){if(t)n(t,null);else{var u=o?e.Path.OPENCHANNELS_CHANNELURL_BAN.replace("%s",encodeURIComponent(s)):e.Path.GROUPCHANNELS_CHANNELURL_BAN.replace("%s",encodeURIComponent(s)),c=new oe({token:a,limit:i});r.get(u,c,n)}})}},{key:"loadMutedUserList",value:function(t,n){var r=this,a=t.token,i=t.limit,s=t.channelUrl,o=t.isOpenChannel;this.sb.ConnectionManager.ready(function(t,l){if(t)n(t,null);else{var u=o?e.Path.OPENCHANNELS_CHANNELURL_MUTE.replace("%s",encodeURIComponent(s)):e.Path.GROUPCHANNELS_CHANNELURL_MUTE.replace("%s",encodeURIComponent(s)),c=new oe({token:a,limit:i});r.get(u,c,n)}})}},{key:"getMessageList",value:function(t,n){var r=this;return le(this.sb._iid,function(n){var a=t.channel,i=t.token,s=t.tokenType,o=t.isInclusive,l=t.prevResultSize,u=void 0===l?0:l,c=t.nextResultSize,d=void 0===c?0:c,f=t.shouldReverse,h=t.messageType,p=t.customType,m=t.customTypes,g=t.senderUserIds,y=t.includeMetaArray,_=t.includeReaction,v=t.includeReactions,E=t.includeReplies,b=t.includeParentMessageText,C=t.includeThreadInfo,N=t.replyType,S=t.includeParentMessageInfo,T=t.showSubchannelMessagesOnly,O=t.includePollDetails,w=t.rootMessageId,k=t.parentMessageId;r.sb.ConnectionManager.ready(function(t,l){if(t)n(t,null);else{var c=a.isOpenChannel()?e.Path.OPENCHANNELS_CHANNELURL_MESSAGES.replace("%s",a.url):e.Path.GROUPCHANNELS_CHANNELURL_MESSAGES.replace("%s",a.url),A=new oe({is_sdk:String(!0),prev_limit:String(u),next_limit:String(d),include:String(o),reverse:String(f)});"timestamp"===s?A.add("message_ts",i):"messageId"===s&&A.add("message_id",String(i)),h&&A.add("message_type",String(h)),Array.isArray(m)&&(0===m.length&&("string"==typeof p?m.push(p):m.push("*")),A.add("custom_types",m)),Array.isArray(g)&&g.length>0&&A.add("sender_ids",g),"boolean"==typeof y&&A.add("with_sorted_meta_array",y),"boolean"==typeof v?A.add("include_reactions",v):A.add("include_reactions","boolean"==typeof _&&_),"boolean"==typeof C&&A.add("include_thread_info",C),"string"==typeof N?A.add("include_reply_type",N):A.add("include_reply_type","boolean"==typeof E&&E?r.cls.BaseMessage.ReplyType.ALL:r.cls.BaseMessage.ReplyType.NONE),"boolean"==typeof S?A.add("include_parent_message_info",S):A.add("include_parent_message_info","boolean"==typeof b&&b),"boolean"==typeof T&&a.isOpenChannel()&&A.add("show_subchannel_messages_only",T),"boolean"==typeof O&&A.add("include_poll_details",O),w&&A.add("root_message_id",w),k&&A.add("parent_message_id",k),r.get(c,A,n)}})},n)}},{key:"checkMessageHugeGap",value:function(t,n){var r=this;return le(this.sb._iid,function(n){var a=t.channelUrl;t.channelType;var i=t.messageType,s=void 0===i?"":i,o=t.customTypes,l=void 0===o?["*"]:o,u=t.senderUserIds,c=void 0===u?[]:u,d=t.includeReactions,f=void 0===d||d,h=t.includeMetaArray,p=void 0!==h&&h,m=t.showSubchannelMessagesOnly,g=void 0!==m&&m,y=t.threshold,_=t.previous,v=t.next,E="".concat(e.Path.GROUPCHANNELS_CHANNELURL_MESSAGES_GAP.replace("%s",encodeURIComponent(a))),b=new oe({huge_gap_threshold:y,prev_start_ts:_.from,prev_end_ts:_.to,prev_cache_count:_.cachedCount,next_start_ts:v.from,next_end_ts:v.to,next_cache_count:v.cachedCount,reverse:!0,custom_types:l,message_type:s,include_reactions:f,with_sorted_meta_array:p,show_subchannel_messages_only:g});Array.isArray(c)&&c.length>0&&b.add("sender_ids",c),r.get(E,b,n)},n)}},{key:"translateUserMessage",value:function(t,n){var r=this,a=t.channelUrl,i=t.isOpenChannel,s=t.messageId,o=t.translationTargetLanguages;this.sb.ConnectionManager.ready(function(t,l){if(t)n(t,null);else{var u=i?e.Path.OPENCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_TRANSLATION.replace("%s",encodeURIComponent(a)).replace("%s",s):e.Path.GROUPCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_TRANSLATION.replace("%s",encodeURIComponent(a)).replace("%s",s),c=new oe({target_langs:o});r.post(u,c,n)}})}},{key:"getMessage",value:function(t,n){var r=this,a=t.channel,i=t.messageId,s=t.includeMetaArray,o=t.includeReactions,l=t.includeParentMessageText,u=t.includeThreadInfo,c=t.includeParentMessageInfo,d=t.includePollDetails;this.sb.ConnectionManager.ready(function(t,f){if(t)n(t,null);else{var h=a.isOpenChannel()?e.Path.OPENCHANNELS_CHANNELURL_MESSAGES_MESSAGEID.replace("%s",encodeURIComponent(a.url)).replace("%s",encodeURIComponent(i)):e.Path.GROUPCHANNELS_CHANNELURL_MESSAGES_MESSAGEID.replace("%s",encodeURIComponent(a.url)).replace("%s",encodeURIComponent(i)),p=new oe({is_sdk:String(!0)});"boolean"==typeof s&&p.add("with_sorted_meta_array",s),"boolean"==typeof o&&p.add("include_reactions",o),"boolean"==typeof u&&p.add("include_thread_info",u),"boolean"==typeof c?p.add("include_parent_message_info",c):p.add("include_parent_message_info","boolean"==typeof l&&l),"boolean"==typeof d&&p.add("include_poll_details",d),r.get(h,p,n)}})}},{key:"deleteMessage",value:function(t,n){var r=this,a=t.channelUrl,i=t.isOpenChannel,s=t.messageId;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var l=i?e.Path.OPENCHANNELS_CHANNELURL_MESSAGES_MESSAGEID.replace("%s",encodeURIComponent(a)).replace("%s",encodeURIComponent(s)):e.Path.GROUPCHANNELS_CHANNELURL_MESSAGES_MESSAGEID.replace("%s",encodeURIComponent(a)).replace("%s",encodeURIComponent(s));r.delete(l,null,n)}})}},{key:"muteUser",value:function(t,n){var r=this,a=t.channelUrl,i=t.userId,s=t.description,o=t.seconds,l=t.isGroupChannel;this.sb.ConnectionManager.ready(function(t,u){if(t)n(t,null);else{var c=l?e.Path.GROUPCHANNELS_CHANNELURL_MUTE.replace("%s",encodeURIComponent(a)):e.Path.OPENCHANNELS_CHANNELURL_MUTE.replace("%s",encodeURIComponent(a)),d=new oe({user_id:i});o&&(o>0||-1!==o)&&d.add("seconds",o),s&&d.add("description",s),r.post(c,d,n)}})}},{key:"unmuteUser",value:function(t,n){var r=this,a=t.channelUrl,i=t.userId,s=t.isGroupChannel;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var l=s?e.Path.GROUPCHANNELS_CHANNELURL_MUTE_USERID.replace("%s",encodeURIComponent(a)).replace("%s",encodeURIComponent(i)):e.Path.OPENCHANNELS_CHANNELURL_MUTE_USERID.replace("%s",encodeURIComponent(a)).replace("%s",encodeURIComponent(i));r.delete(l,null,n)}})}},{key:"banUser",value:function(t,n){var r=this,a=t.channelUrl,i=t.userId,s=t.description,o=t.seconds,l=t.isGroupChannel;this.sb.ConnectionManager.ready(function(t,u){if(t)n(t,null);else{var c=l?e.Path.GROUPCHANNELS_CHANNELURL_BAN.replace("%s",encodeURIComponent(a)):e.Path.OPENCHANNELS_CHANNELURL_BAN.replace("%s",encodeURIComponent(a)),d=new oe({user_id:i});s&&d.add("description",s),d.add("seconds",String(o)),r.post(c,d,n)}})}},{key:"unbanUser",value:function(t,n){var r=this,a=t.channelUrl,i=t.userId,s=t.isGroupChannel;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var l=s?e.Path.GROUPCHANNELS_CHANNELURL_BAN_USERID.replace("%s",encodeURIComponent(a)).replace("%s",encodeURIComponent(i)):e.Path.OPENCHANNELS_CHANNELURL_BAN_USERID.replace("%s",encodeURIComponent(a)).replace("%s",encodeURIComponent(i));r.delete(l,null,n)}})}},{key:"getMetaCounters",value:function(t,n){var r=this,a=t.channelUrl,i=t.isOpenChannel,s=t.keys;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var l=i?e.Path.OPENCHANNELS_CHANNELURL_METACOUNTER.replace("%s",encodeURIComponent(a)):e.Path.GROUPCHANNELS_CHANNELURL_METACOUNTER.replace("%s",encodeURIComponent(a)),u=new oe({keys:s});r.get(l,u,n)}})}},{key:"createMetaCounters",value:function(t,n){var r=this,a=t.channelUrl,i=t.isOpenChannel,s=t.metaCounter;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var l=i?e.Path.OPENCHANNELS_CHANNELURL_METACOUNTER.replace("%s",encodeURIComponent(a)):e.Path.GROUPCHANNELS_CHANNELURL_METACOUNTER.replace("%s",encodeURIComponent(a)),u=new oe({metacounter:s});r.post(l,u,n)}})}},{key:"updateMetaCounters",value:function(t,n){var r=this,a=t.channelUrl,i=t.isOpenChannel,s=t.metaCounter,o=t.upsert,l=t.mode;this.sb.ConnectionManager.ready(function(t,u){if(t)n(t,null);else{var c=i?e.Path.OPENCHANNELS_CHANNELURL_METACOUNTER.replace("%s",encodeURIComponent(a)):e.Path.GROUPCHANNELS_CHANNELURL_METACOUNTER.replace("%s",encodeURIComponent(a)),d=new oe({metacounter:s,upsert:o,mode:l});r.put(c,d,n)}})}},{key:"deleteMetaCounter",value:function(t,n){var r=this,a=t.channelUrl,i=t.isOpenChannel,s=t.key;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var l=i?e.Path.OPENCHANNELS_CHANNELURL_METACOUNTER_KEY.replace("%s",encodeURIComponent(a)).replace("%s",s):e.Path.GROUPCHANNELS_CHANNELURL_METACOUNTER_KEY.replace("%s",encodeURIComponent(a)).replace("%s",s);r.delete(l,null,n)}})}},{key:"deleteAllMetaCounters",value:function(t,n){var r=this,a=t.channelUrl,i=t.isOpenChannel;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var o=i?e.Path.OPENCHANNELS_CHANNELURL_METACOUNTER.replace("%s",encodeURIComponent(a)):e.Path.GROUPCHANNELS_CHANNELURL_METACOUNTER.replace("%s",encodeURIComponent(a));r.delete(o,null,n)}})}},{key:"getMetaData",value:function(t,n){var r=this,a=t.channelUrl,i=t.isOpenChannel,s=t.keys;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var l=i?e.Path.OPENCHANNELS_CHANNELURL_METADATA.replace("%s",encodeURIComponent(a)):e.Path.GROUPCHANNELS_CHANNELURL_METADATA.replace("%s",encodeURIComponent(a)),u=new oe({keys:s,include_ts:!0});r.get(l,u,n)}})}},{key:"createMetaData",value:function(t,n){var r=this,a=t.channelUrl,i=t.isOpenChannel,s=t.metaData;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var l=i?e.Path.OPENCHANNELS_CHANNELURL_METADATA.replace("%s",encodeURIComponent(a)):e.Path.GROUPCHANNELS_CHANNELURL_METADATA.replace("%s",encodeURIComponent(a)),u=new oe({metadata:s,include_ts:!0});r.post(l,u,n)}})}},{key:"updateMetaData",value:function(t,n){var r=this,a=t.channelUrl,i=t.isOpenChannel,s=t.metaData,o=t.upsert;this.sb.ConnectionManager.ready(function(t,l){if(t)n(t,null);else{var u=i?e.Path.OPENCHANNELS_CHANNELURL_METADATA.replace("%s",encodeURIComponent(a)):e.Path.GROUPCHANNELS_CHANNELURL_METADATA.replace("%s",encodeURIComponent(a)),c=new oe({metadata:s,upsert:o,include_ts:!0});r.put(u,c,n)}})}},{key:"deleteMetaData",value:function(t,n){var r=this,a=t.channelUrl,i=t.isOpenChannel,s=t.key;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var l=i?e.Path.OPENCHANNELS_CHANNELURL_METADATA_KEY.replace("%s",encodeURIComponent(a)).replace("%s",s):e.Path.GROUPCHANNELS_CHANNELURL_METADATA_KEY.replace("%s",encodeURIComponent(a)).replace("%s",s),u=new oe({include_ts:!0});r.delete(l,u,n)}})}},{key:"deleteAllMetaData",value:function(t,n){var r=this,a=t.channelUrl,i=t.isOpenChannel;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var o=i?e.Path.OPENCHANNELS_CHANNELURL_METADATA.replace("%s",encodeURIComponent(a)):e.Path.GROUPCHANNELS_CHANNELURL_METADATA.replace("%s",encodeURIComponent(a)),l=new oe({include_ts:!0});r.delete(o,l,n)}})}},{key:"loadOperatorList",value:function(t,n){var r=this,a=t.channelUrl,i=t.isOpenChannel,s=t.token,o=t.limit;this.sb.ConnectionManager.ready(function(t,l){if(t)n(t,null);else{var u=i?e.Path.OPENCHANNELS_OPERATORS.replace("%s",encodeURIComponent(a)):e.Path.GROUPCHANNELS_OPERATORS.replace("%s",encodeURIComponent(a)),c=new oe({token:s,limit:o});r.get(u,c,n)}})}},{key:"getOpenChannel",value:function(t,n){var r=this,a=t.channelUrl,i=t.internalCall;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var o=e.Path.OPENCHANNELS_CHANNELURL.replace("%s",encodeURIComponent(a)),l=new oe({});l.internal=i===k.INTERNAL_CALL,r.get(o,l,n)}})}},{key:"loadOpenChannelList",value:function(t,n){var r=this,a=t.token,i=t.limit,s=t.nameKeyword,o=t.urlKeyword,l=t.customTypes,u=t.includeFrozen,c=t.includeMetaData;this.sb.ConnectionManager.ready(function(t,d){if(t)n(t,null);else{var f=e.Path.OPENCHANNELS,h=new oe({token:a,limit:i});s&&h.add("name_contains",s),o&&h.add("url_contains",o),l&&l.length>0&&h.add("custom_types",l),"boolean"==typeof u&&h.add("show_frozen",u),"boolean"==typeof c&&h.add("show_metadata",c),r.get(f,h,n)}})}},{key:"loadParticipantList",value:function(t,n){var r=this,a=t.token,i=t.limit,s=t.channelUrl;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var l=e.Path.OPENCHANNELS_CHANNELURL_PARTICIPANTS.replace("%s",encodeURIComponent(s)),u=new oe({token:a,limit:i});r.get(l,u,n)}})}},{key:"createOpenChannel",value:function(t,n){var r=this,a=t.name,i=t.coverUrlOrImage,s=t.data,o=t.operatorUserIds,l=t.customType,u=t.channelUrl;this.sb.ConnectionManager.ready(function(t,c){if(t)n(t,null);else{var d=e.Path.OPENCHANNELS,f=new oe;"string"==typeof i&&f.add("cover_url",i),ie.isFile(i)&&f.add("cover_file",i),null!==u&&"string"==typeof u&&f.add("channel_url",u),null!==a&&"string"==typeof a&&f.add("name",a),s&&f.add("data",s),o&&(Array.isArray(o)?f.add("operators",o):f.add("operators",[o])),l&&f.add("custom_type",l),r.post(d,f,n)}})}},{key:"updateOpenChannel",value:function(t,n){var r=this,a=t.channelUrl,i=t.name,s=t.coverUrlOrImage,o=t.data,l=t.operatorUserIds,u=t.customType;this.sb.ConnectionManager.ready(function(t,c){if(t)n(t,null);else{var d=e.Path.OPENCHANNELS_CHANNELURL.replace("%s",encodeURIComponent(a)),f=new oe;"string"==typeof s&&f.add("cover_url",s),ie.isFile(s)&&f.add("cover_file",s,s.name),null!==i&&"string"==typeof i&&f.add("name",i),null!==o&&"string"==typeof o&&f.add("data",o),null!==l&&(Array.isArray(l)?f.add("operator_ids",l):f.add("operator_ids",[l])),null!==u&&"string"==typeof u&&f.add("custom_type",u),r.put(d,f,n)}})}},{key:"deleteOpenChannel",value:function(t,n){var r=this,a=t.channelUrl;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.OPENCHANNELS_CHANNELURL.replace("%s",encodeURIComponent(a));r.delete(s,null,n)}})}},{key:"getGroupChannel",value:function(t,n){var r=this,a=t.channelUrl,i=t.showMember,s=t.internalCall;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var l=e.Path.GROUPCHANNELS_CHANNELURL.replace("%s",encodeURIComponent(a)),u=new oe({show_member:i,show_read_receipt:!0,show_delivery_receipt:!0});u.internal=s===k.INTERNAL_CALL,r.get(l,u,n)}})}},{key:"loadGroupChannelList",value:function(t,n){var r=this,a=t.token,i=t.limit,s=t.includeEmpty,o=t.order,l=t.userIdsFilter,u=t.nicknameContainsFilter,c=t.channelNameContainsFilter,d=t.channelUrlsFilter,f=t.customTypesFilter,h=t.customTypeStartsWithFilter,p=t.memberStateFilter,m=t.superChannelFilter,g=t.publicChannelFilter,y=t.unreadChannelFilter,_=t.metadataOrderKeyFilter,v=t.metadataKey,E=t.metadataValues,b=t.metadataValueStartsWith,C=t.hiddenChannelFilter,N=t.searchFilter,S=t.includeFrozen,T=t.includeMetaData;return le(this.sb._iid,function(t){r.sb.ConnectionManager.ready(function(n,O){if(n)t(n,null);else{var w=e.Path.MYGROUPCHANNELS.replace("%s",encodeURIComponent(O.userId)),k=new oe({token:a,limit:i,order:o,show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0,show_empty:String(s),member_state_filter:p});f&&f.length>0&&k.add("custom_types",f),u&&k.add("members_nickname_contains",u),c&&k.add("name_contains",c),N&&N.hasOwnProperty("search_query")&&N.hasOwnProperty("search_fields")&&(k.add("search_query",N.search_query),k.add("search_fields",N.search_fields)),l&&l.userIds&&l.userIds.length>0&&(l.includeMode?(k.add("members_include_in",l.userIds),k.add("query_type",l.queryType.toUpperCase())):k.add("members_exactly_in",l.userIds)),d&&d.length>0&&k.add("channel_urls",d),k.add("super_mode",m),k.add("public_mode",g),k.add("unread_filter",y),_&&k.add("metadata_order_key",_),v&&k.add("metadata_key",v),E&&E.length>0&&k.add("metadata_values",E),b&&k.add("metadata_value_startswith",b),h&&k.add("custom_type_startswith",h),C&&k.add("hidden_mode",C),"boolean"==typeof S&&k.add("show_frozen",S),"boolean"==typeof T&&k.add("show_metadata",T),r.get(w,k,t)}})},n)}},{key:"loadPublicGroupChannelList",value:function(t,n){var r=this,a=t.token,i=t.limit,s=t.includeEmpty,o=t.order,l=t.channelNameContainsFilter,u=t.channelUrlsFilter,c=t.customTypesFilter,d=t.customTypeStartsWithFilter,f=t.superChannelFilter,h=t.membershipFilter,p=t.metadataOrderKeyFilter,m=t.metadataKey,g=t.metadataValues,y=t.metadataValueStartsWith,_=t.includeFrozen,v=t.includeMetaData;this.sb.ConnectionManager.ready(function(t,E){if(t)n(t,null);else{var b=r.cls.GroupChannel,C=e.Path.GROUPCHANNELS,N=new oe({token:a,limit:i,order:o,show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0,show_empty:String(s),public_mode:b.PublicChannelFilter.PUBLIC,public_membership_mode:h});c&&c.length>0&&N.add("custom_types",c),l&&N.add("name_contains",l),u&&u.length>0&&N.add("channel_urls",u),N.add("super_mode",f),p&&N.add("metadata_order_key",p),m&&N.add("metadata_key",m),g&&g.length>0&&N.add("metadata_values",g),y&&N.add("metadata_value_startswith",y),d&&N.add("custom_type_startswith",d),"boolean"==typeof _&&N.add("show_frozen",_),"boolean"==typeof v&&N.add("show_metadata",v),r.get(C,N,n)}})}},{key:"createGroupChannel",value:function(t,n){var r=this,a=t.isDistinct,i=t.isSuper,s=t.isBroadcast,o=t.isPublic,l=t.channelUrl,u=t.isDiscoverable,c=t.isStrict,d=t.name,f=t.data,h=t.customType,p=t.coverUrl,m=t.coverImage,g=t.accessCode,y=t.isEphemeral,_=t._invitedUserIds,v=void 0===_?[]:_,E=t.operatorUserIds,b=t.messageSurvivalSeconds;this.sb.ConnectionManager.ready(function(t,_){if(t)n(t,null);else{var C=e.Path.GROUPCHANNELS,N=new oe({user_ids:[_.userId].concat(S(v)).filter(function(e,t,n){return t===n.indexOf(e)})});null!==p&&"string"==typeof p&&N.add("cover_url",p),ie.isFile(m)&&N.add("cover_file",m,m.name),null!==l&&N.add("channel_url",l),null!==a&&N.add("is_distinct",a),null!==i&&N.add("is_super",i),null!==s&&N.add("is_broadcast",s),null!==o&&N.add("is_public",o),null!==u&&N.add("is_discoverable",u),null!==c&&N.add("strict",c),null!==y&&N.add("is_ephemeral",y),g&&N.add("access_code",g),null!==d&&"string"==typeof d&&N.add("name",d),f&&N.add("data",f),h&&N.add("custom_type",h),Array.isArray(E)&&E.length>0&&N.add("operator_ids",E),null!==b&&b>-1&&N.add("message_survival_seconds",b),r.post(C,N,n)}})}},{key:"updateGroupChannel",value:function(t,n){var r=this,a=t.isDistinct,i=t.isPublic,s=t.channelUrl,o=t.isDiscoverable,l=t.name,u=t.data,c=t.customType,d=t.coverUrl,f=t.coverImage,h=t.accessCode,p=t.operatorUserIds,m=t.messageSurvivalSeconds;this.sb.ConnectionManager.ready(function(t,g){if(t)n(t,null);else{var y=e.Path.GROUPCHANNELS_CHANNELURL.replace("%s",encodeURIComponent(s)),_=new oe;null!==a&&_.add("is_distinct",a),null!==i&&_.add("is_public",i),null!==o&&_.add("is_discoverable",o),null!==h&&_.add("access_code",h),null!==d&&"string"==typeof d&&_.add("cover_url",d),ie.isFile(f)&&_.add("cover_file",f,f.name),null!==l&&"string"==typeof l&&_.add("name",l),null!==u&&"string"==typeof u&&_.add("data",u),null!==c&&"string"==typeof c&&_.add("custom_type",c),null!==p&&(Array.isArray(p)?_.add("operator_ids",p):p&&_.add("operator_ids",[p])),null!==m&&m>-1&&_.add("message_survival_seconds",m),r.put(y,_,n)}})}},{key:"addOperators",value:function(t,n){var r=this,a=t.channelUrl,i=t.isOpenChannel,s=void 0!==i&&i,o=t.operatorUserIds;this.sb.ConnectionManager.ready(function(t,i){if(!t){var l=(s?e.Path.OPENCHANNELS_CHANNELURL_OPERATORS:e.Path.GROUPCHANNELS_CHANNELURL_OPERATORS).replace("%s",encodeURIComponent(a)),u=new oe({operator_ids:o});r.post(l,u,n)}})}},{key:"removeOperators",value:function(t,n){var r=this,a=t.channelUrl,i=t.isOpenChannel,s=void 0!==i&&i,o=t.operatorUserIds;this.sb.ConnectionManager.ready(function(t,i){if(!t){var l=(s?e.Path.OPENCHANNELS_CHANNELURL_OPERATORS:e.Path.GROUPCHANNELS_CHANNELURL_OPERATORS).replace("%s",encodeURIComponent(a)),u=new oe({operator_ids:o});r.delete(l,u,n)}})}},{key:"inviteToGroupChannel",value:function(t,n){var r=this,a=t.channelUrl,i=t.userIds;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var o=e.Path.GROUPCHANNELS_CHANNELURL_INVITE.replace("%s",encodeURIComponent(a)),l=new oe({user_ids:i});r.post(o,l,n)}})}},{key:"acceptInvitation",value:function(t,n){var r=this,a=t.channelUrl,i=t.accessCode;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var o=e.Path.GROUPCHANNELS_CHANNELURL_ACCEPT_INVITATION.replace("%s",encodeURIComponent(a)),l=new oe({user_id:s.userId});i&&l.add("access_code",i),r.put(o,l,n)}})}},{key:"declineInvitation",value:function(t,n){var r=this,a=t.channelUrl;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.GROUPCHANNELS_CHANNELURL_DECLINE_INVITATION.replace("%s",encodeURIComponent(a)),o=new oe({user_id:i.userId});r.put(s,o,n)}})}},{key:"joinGroupChannel",value:function(t,n){var r=this,a=t.channelUrl,i=t.accessCode;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var o=e.Path.GROUPCHANNELS_CHANNELURL_JOIN.replace("%s",encodeURIComponent(a)),l=new oe({user_id:s.userId});i&&l.add("access_code",i),r.put(o,l,n)}})}},{key:"leaveGroupChannel",value:function(t,n){var r=this,a=t.channelUrl;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.GROUPCHANNELS_CHANNELURL_LEAVE.replace("%s",encodeURIComponent(a)),o=new oe({user_id:i.userId});r.put(s,o,n)}})}},{key:"hideGroupChannel",value:function(t,n){var r=this,a=t.channelUrl,i=t.hidePreviousMessages,s=t.allowAutoUnhide;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var l=e.Path.GROUPCHANNELS_CHANNELURL_HIDE.replace("%s",encodeURIComponent(a)),u=new oe({user_id:o.userId,hide_previous_messages:i,allow_auto_unhide:s});r.put(l,u,n)}})}},{key:"unhideGroupChannel",value:function(t,n){var r=this,a=t.channelUrl;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.GROUPCHANNELS_CHANNELURL_HIDE.replace("%s",encodeURIComponent(a));r.delete(s,null,n)}})}},{key:"freeze",value:function(t,n){var r=this,a=t.channelUrl,i=t.isGroupChannel,s=t.freezing;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var l=i?e.Path.GROUPCHANNELS_CHANNELURL_FREEZE.replace("%s",encodeURIComponent(a)):e.Path.OPENCHANNELS_CHANNELURL_FREEZE.replace("%s",encodeURIComponent(a)),u=new oe({freeze:s});r.put(l,u,n)}})}},{key:"deleteGroupChannel",value:function(t,n){var r=this,a=t.channelUrl;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.GROUPCHANNELS_CHANNELURL.replace("%s",encodeURIComponent(a));r.delete(s,null,n)}})}},{key:"loadMemberList",value:function(t,n){var r=this,a=t.channelUrl,i=t.token,s=t.limit,o=t.mutedMemberFilter,l=t.order,u=t.memberStateFilter,c=t.nicknameStartsWithFilter;this.sb.ConnectionManager.ready(function(t,d){if(t)n(t,null);else{var f=e.Path.GROUPCHANNELS_MEMBERS.replace("%s",encodeURIComponent(a)),h=new oe({token:i,limit:s,order:l.toLowerCase(),muted_member_filter:o.toLowerCase(),member_state_filter:u,show_member_is_muted:!0,show_read_receipt:!0,show_delivery_receipt:!0});c&&h.add("nickname_startswith",c),r.get(f,h,n)}})}},{key:"report",value:function(t,n){var r=this,a=t.channelUrl,i=t.isOpenChannel,s=t.reportCategory,o=t.reportingUserId,l=t.reportDescription;this.sb.ConnectionManager.ready(function(t,u){if(t)n(t,null);else{var c=e.Path.REPORT_CHANNELS.replace("%s",encodeURIComponent(i?"open_channels":"group_channels")).replace("%s",encodeURIComponent(a)),d=new oe({report_category:s});null!=o&&d.add("reporting_user_id",o),null!=l&&d.add("report_description",l),r.post(c,d,n)}})}},{key:"reportUser",value:function(t,n){var r=this,a=t.offendingUserId,i=t.channelUrl,s=t.isOpenChannel,o=t.reportCategory,l=t.reportingUserId,u=t.reportDescription;this.sb.ConnectionManager.ready(function(t,c){if(t)n(t,null);else{var d=e.Path.REPORT_USERS.replace("%s",encodeURIComponent(a)),f=new oe({channel_url:i,channel_type:s?"open_channels":"group_channels",report_category:o});null!=l&&f.add("reporting_user_id",l),null!=u&&f.add("report_description",u),r.post(d,f,n)}})}},{key:"reportMessage",value:function(t,n){var r=this,a=t.channelUrl,i=t.isOpenChannel,s=t.messageId,o=t.reportCategory,l=t.reportingUserId,u=t.reportDescription,c=t.offendingUserId;this.sb.ConnectionManager.ready(function(t,d){if(t)n(t,null);else{var f=e.Path.REPORT_MESSAGES.replace("%s",encodeURIComponent(i?"open_channels":"group_channels")).replace("%s",encodeURIComponent(a)).replace("%s",encodeURIComponent(s)),h=new oe({report_category:o,offending_user_id:c});null!=l&&h.add("reporting_user_id",l),null!=u&&h.add("report_description",u),r.post(f,h,n)}})}},{key:"sendUserMessage",value:function(t,n){var r=this,a=t.channelUrl,i=t.isOpenChannel,s=t.message,o=t.data,l=t.customType,u=t.translationTargetLanguages,c=t.metaArrays,d=t.mentionType,f=t.mentionedUserIds,h=t.mentionedMessageTemplate,p=t.pushNotificationDeliveryOption,m=t.rootMessageId,g=t.parentMessageId,y=t.appleCriticalAlertOptions,_=t.pollId,v=t.isReplyToChannel;this.sb.ConnectionManager.ready(function(t,E){if(t)n(t,null);else{var b=r.cls.FileMessageParams,C=i?e.Path.OPENCHANNELS_CHANNELURL_MESSAGES.replace("%s",encodeURIComponent(a)):e.Path.GROUPCHANNELS_CHANNELURL_MESSAGES.replace("%s",encodeURIComponent(a)),N=new oe({message_type:"MESG",user_id:E.userId,message:s,mention_type:d,mentioned_user_ids:[]});null!=o&&N.add("data",o),null!=l&&N.add("custom_type",l),u&&N.add("translation_target_langs",u),c&&c.length>0&&N.add("sorted_metaarray",c.map(function(e){return e.encode()})),d===r.cls.BaseMessageParams.MentionType.CHANNEL?N.add("mentioned_user_ids",[]):Array.isArray(f)&&f.length>0&&N.add("mentioned_user_ids",f),h&&N.add("mentioned_message_template",h),p&&p!==b.PushNotificationDeliveryOption.DEFAULT&&N.add("push_option",p),m&&N.add("root_message_id",m),g&&N.add("parent_message_id",g),y&&N.add("apple_critical_alert_options",y.serialize()),"number"==typeof _?N.add("poll_id",_):null===_&&N.add("poll_id",-1),v&&N.add("reply_to_channel",v),r.post(C,N,n)}})}},{key:"sendFileMessage",value:function(t,n){var r=this,a=t.reqId,i=t.channelUrl,s=t.isOpenChannel,o=t.fileUrl,l=t.fileName,u=t.fileSize,c=t.fileType,d=t.data,f=t.customType,h=t.thumbnailSizes,p=t.requireAuth,m=t.metaArrays,g=t.mentionType,y=t.mentionedUserIds,_=t.pushNotificationDeliveryOption,v=t.rootMessageId,E=t.parentMessageId,b=t.appleCriticalAlertOptions,C=t.isReplyToChannel;this.sb.ConnectionManager.ready(function(t,N){if(t)n(t,null);else{var S=r.cls.FileMessageParams,T=s?e.Path.OPENCHANNELS_CHANNELURL_MESSAGES.replace("%s",encodeURIComponent(i)):e.Path.GROUPCHANNELS_CHANNELURL_MESSAGES.replace("%s",encodeURIComponent(i)),O=new oe({message_type:"FILE",user_id:N.userId,url:o,mention_type:g,mentioned_user_ids:[],req_id:a});null!=l&&O.add("file_name",l),null!=u&&O.add("file_size",u),null!=c&&O.add("file_type",c),null!=d&&O.add("custom_field",d),null!=f&&O.add("custom_type",f),h&&O.add("thumbnails",h),p&&O.add("require_auth",p),m&&m.length>0&&O.add("sorted_metaarray",m.map(function(e){return e.encode()})),g===r.cls.BaseMessageParams.MentionType.CHANNEL?O.add("mentioned_user_ids",[]):Array.isArray(y)&&y.length>0&&O.add("mentioned_user_ids",y),_&&_!==S.PushNotificationDeliveryOption.DEFAULT&&O.add("push_option",_),v&&O.add("root_message_id",v),E&&O.add("parent_message_id",E),b&&O.add("apple_critical_alert_options",b.serialize()),C&&O.add("reply_to_channel",C),r.post(T,O,n)}})}},{key:"uploadFile",value:function(t,n){var r=this,a=t.file,i=t.thumbnailSizes,s=t.channelUrl,o=t.progressHandler,l=t.reqId;this.sb.ConnectionManager.ready(function(t,u){if(t)n(t,null);else{var c=R.get(r.sb._iid).container.appInfo;if(c)if("number"==typeof a.size||a.size||(a.size=0),"number"==typeof a.size)if(a.size<=c.uploadSizeLimit){var d=e.Path.STORAGE_FILE,f=new oe;if(f.add("file",a,a.name),s&&"string"==typeof s&&f.add("channel_url",s),i)for(var h=0;h<i.length;h++)f.add("thumbnail"+(h+1),i[h].maxWidth+","+i[h].maxHeight);f.upload.reqId=l,f.upload.deleteRequest=function(){var e=r.cls.FileMessageQueue;e.uploadRequest[l]&&delete e.uploadRequest[l]},f.upload.progressHandler=function(e){o&&"function"==typeof o&&o(e,l)},r.post(d,f,n)}else n(new F("The file size exceeded the upload limit: ".concat(c.uploadSizeLimit),F.FILE_SIZE_LIMIT_EXCEEDED),null);else n(new F("Invalid file size: ".concat(a.size),F.INVALID_PARAMETER),null);else n(new F("Connection should be made first.",F.CONNECTION_REQUIRED),null)}})}},{key:"registerScheduledUserMessage",value:function(t,n){var r=this,a=t.groupChannelParams,i=t.channelUrl,s=t.isOpenChannel;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var l=s?e.Path.OPENCHANNELS_CHANNELURL_SCHEDULED_MESSAGES.replace("%s",encodeURIComponent(i)):e.Path.GROUPCHANNELS_CHANNELURL_SCHEDULED_MESSAGES.replace("%s",encodeURIComponent(i)),u=new oe({scheduled_dt:a._getScheduleString(),user_id:o.userId,message:a.message,data:a.data});a.customType&&u.add("custom_type",a.customType),a.metaArrayKeys&&Object.keys(a.metaArrayKeys).length>0&&u.add("metaarray",a.metaArrayKeys),a.mentionType&&u.add("mention_type",a._mentionType),a._mentionType===r.cls.BaseMessageParams.MentionType.CHANNEL?u.add("mentioned_user_ids",[]):Array.isArray(a._mentionedUserIds)&&a._mentionedUserIds.length>0&&u.add("mentioned_user_ids",a._mentionedUserIds),a.translationTargetLanguages&&a.translationTargetLanguages.length>0&&u.add("translation_target_langs",a.translationTargetLanguages),a.pushNotificationDeliveryOption&&a.pushNotificationDeliveryOption!==r.cls.BaseMessageParams.PushNotificationDeliveryOption.DEFAULT&&u.add("push_option",a.pushNotificationDeliveryOption),a.appleCriticalAlertOptions&&u.add("apple_critical_alert_options",a.appleCriticalAlertOptions.serialize()),r.post(l,u,n)}})}},{key:"getMyPushTriggerOption",value:function(t,n){var r=this,a=t.channelUrl;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.USERS_USERID_PUSHPREFERENCE_CHANNELURL.replace("%s",encodeURIComponent(i.userId)).replace("%s",encodeURIComponent(a));r.get(s,null,n)}})}},{key:"setMyPushTriggerOption",value:function(t,n){var r=this,a=t.channelUrl,i=t.pushTriggerOption,s=t.enable;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var l=e.Path.USERS_USERID_PUSHPREFERENCE_CHANNELURL.replace("%s",encodeURIComponent(o.userId)).replace("%s",encodeURIComponent(a)),u=new oe;i&&u.add("push_trigger_option",i),"boolean"==typeof s&&u.add("enable",s),r.put(l,u,n)}})}},{key:"setMyCountPreference",value:function(t,n){var r=this,a=t.channelUrl,i=t.countPreference;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var o=e.Path.USERS_COUNT_PREFERENCE.replace("%s",encodeURIComponent(s.userId)).replace("%s",encodeURIComponent(a)),l=new oe({count_preference:i});r.put(o,l,n)}})}},{key:"resetMyHistory",value:function(t,n){var r=this,a=t.channelUrl;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.GROUPCHANNELS_RESET_USER_HISTORY.replace("%s",encodeURIComponent(a));r.put(s,null,n)}})}},{key:"addReaction",value:function(t,n){var r=this,a=t.isGroupChannel,i=t.channelUrl,s=t.messageId,o=t.key;this.sb.ConnectionManager.ready(function(t,l){if(t)n(t,null);else{var u=a?e.Path.GROUPCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_REACTION.replace("%s",encodeURIComponent(i)).replace("%s",encodeURIComponent(s)):e.Path.OPENCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_REACTION.replace("%s",encodeURIComponent(i)).replace("%s",encodeURIComponent(s)),c=new oe({reaction:o});r.post(u,c,n)}})}},{key:"deleteReaction",value:function(t,n){var r=this,a=t.isGroupChannel,i=t.channelUrl,s=t.messageId,o=t.key;this.sb.ConnectionManager.ready(function(t,l){if(t)n(t,null);else{var u=a?e.Path.GROUPCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_REACTION.replace("%s",encodeURIComponent(i)).replace("%s",encodeURIComponent(s)):e.Path.OPENCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_REACTION.replace("%s",encodeURIComponent(i)).replace("%s",encodeURIComponent(s)),c=new oe({reaction:o});r.delete(u,c,n)}})}},{key:"getAllEmoji",value:function(t){var n=this;this.sb.ConnectionManager.ready(function(r,a){r?t(r,null):n.get(e.Path.EMOJI_CATEGORIES,null,t)})}},{key:"getEmojiCategory",value:function(t,n){var r=this,a=t.categoryId;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.EMOJI_CATEGORIES_CATEGORYID.replace("%s",a);r.get(s,null,n)}})}},{key:"getEmoji",value:function(t,n){var r=this,a=t.emojiKey;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.EMOJIS_EMOJIKEY.replace("%s",a);r.get(s,null,n)}})}},{key:"getAllowFriendDiscovery",value:function(t){var n=this;this.sb.ConnectionManager.ready(function(r,a){if(r)t(r,null);else{var i=e.Path.USERS_USERID_ALLOW_FRIEND_DISCOVERY.replace("%s",encodeURIComponent(a.userId));n.get(i,null,t)}})}},{key:"setAllowFriendDiscovery",value:function(t,n){var r=this,a=t.allowFriendDiscovery;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.USERS_USERID_ALLOW_FRIEND_DISCOVERY.replace("%s",encodeURIComponent(i.userId)),o=new oe;"boolean"==typeof a&&o.add("allow_friend_discovery",a),r.put(s,o,n)}})}},{key:"getPollList",value:function(t,n){var r=this,a=t.channelUrl,i=t.token,s=t.limit;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var l=e.Path.POLLS,u=new oe({channel_url:a});i&&u.add("token",i),s&&u.add("limit",s),r.get(l,u,n)}})}},{key:"getPoll",value:function(t,n){var r=this,a=t.channelUrl,i=t.pollId,s=t.showPartialVoters;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var l=e.Path.POLLS_POLLID.replace("%s",i),u=new oe({channel_url:a});"boolean"==typeof s&&u.add("show_partial_voter_list",s),r.get(l,u,n)}})}},{key:"createPoll",value:function(t,n){var r=this,a=t.title,i=t.options,s=t.data,o=t.isAnonymous,l=t.allowUserSuggestion,u=t.allowMultipleVotes,c=t.closeAt;this.sb.ConnectionManager.ready(function(t,d){if(t)n(t,null);else{var h=e.Path.POLLS,p=new oe({title:a,options:i});"object"===f(s)&&p.add("data",s),"boolean"==typeof o&&p.add("is_anonymous",o),"boolean"==typeof l&&p.add("allow_user_suggestion",l),"boolean"==typeof u&&p.add("allow_multiple_votes",u),"number"==typeof c&&p.add("close_at",c),r.post(h,p,n)}})}},{key:"updatePoll",value:function(t,n){var r=this,a=t.pollId,i=t.title,s=t.options,o=t.data,l=t.isAnonymous,u=t.allowUserSuggestion,c=t.allowMultipleVotes,d=t.closeAt;this.sb.ConnectionManager.ready(function(t,h){if(t)n(t,null);else{var p=e.Path.POLLS_POLLID.replace("%s",a),m=new oe;"string"==typeof i&&m.add("title",i),Array.isArray(s)&&m.add("options",s),"object"===f(o)&&m.add("data",o),"boolean"==typeof l&&m.add("is_anonymous",l),"boolean"==typeof u&&m.add("allow_user_suggestion",u),"boolean"==typeof c&&m.add("allow_multiple_votes",c),"number"==typeof d&&m.add("close_at",d),r.put(p,m,n)}})}},{key:"deletePoll",value:function(t,n){var r=this,a=t.pollId;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.POLLS_POLLID.replace("%s",a);r.delete(s,null,n)}})}},{key:"votePoll",value:function(t,n){var r=this,a=t.channelUrl,i=t.pollId,s=t.optionIds;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var l=e.Path.POLLS_POLLID_VOTE.replace("%s",i),u=new oe({channel_url:a});Array.isArray(s)&&u.add("option_ids",s),r.put(l,u,n)}})}},{key:"closePoll",value:function(t,n){var r=this,a=t.pollId;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.POLLS_POLLID_CLOSE.replace("%s",a);r.put(s,null,n)}})}},{key:"getPollOption",value:function(t,n){var r=this,a=t.channelUrl,i=t.pollId,s=t.optionId;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var l=e.Path.POLLS_POLLID_OPTIONS_OPTIONID.replace("%s",i).replace("%s",s),u=new oe({channel_url:a});r.get(l,u,n)}})}},{key:"addPollOption",value:function(t,n){var r=this,a=t.channelUrl,i=t.pollId,s=t.text;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var l=e.Path.POLLS_POLLID_OPTIONS.replace("%s",i),u=new oe({channel_url:a,text:s});r.post(l,u,n)}})}},{key:"updatePollOption",value:function(t,n){var r=this,a=t.pollId,i=t.optionId,s=t.text;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var l=e.Path.POLLS_POLLID_OPTIONS_OPTIONID.replace("%s",a).replace("%s",i),u=new oe({text:s});r.put(l,u,n)}})}},{key:"deletePollOption",value:function(t,n){var r=this,a=t.pollId,i=t.optionId;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var o=e.Path.POLLS_POLLID_OPTIONS_OPTIONID.replace("%s",a).replace("%s",i);r.delete(o,null,n)}})}},{key:"getPollOptionVoterList",value:function(t,n){var r=this,a=t.channelUrl,i=t.pollId,s=t.optionId,o=t.token,l=t.limit;this.sb.ConnectionManager.ready(function(t,u){if(t)n(t,null);else{var c=e.Path.POLLS_POLLID_OPTIONS_OPTIONID_VOTERS.replace("%s",i).replace("%s",s),d=new oe({channel_url:a});o&&d.add("token",o),l&&d.add("limit",l),r.get(c,d,n)}})}}],[{key:"Path",get:function(){return{USERS:"/users",USERS_USERID:"/users/%s",USERS_USERID_LOGIN:"/users/%s/login",USERS_USERID_SESSION_KEY:"/users/%s/session_key",USERS_USERID_METADATA:"/users/%s/metadata",USERS_USERID_METADATA_KEY:"/users/%s/metadata/%s",USERS_USERID_MARKASREADALL:"/users/%s/mark_as_read_all",USERS_USERID_MY_GROUP_CHANNEL_CHANGELOGS:"/users/%s/my_group_channels/changelogs",USERS_USERID_UNREAD_ITEM_COUNT:"/users/%s/unread_item_count",USERS_USERID_UNREAD_MESSAGE_COUNT:"/users/%s/unread_message_count",USERS_USERID_UNREAD_CHANNEL_COUNT:"/users/%s/unread_channel_count",USERS_USERID_PUSH_GCM_TOKEN:"/users/%s/push/gcm/%s",USERS_USERID_PUSH_GCM:"/users/%s/push/gcm",USERS_USERID_PUSH_DEVICE_TOKENS:"/users/%s/push/%s/device_tokens",USERS_USERID_PUSHPREFERENCE_CHANNELURL:"/users/%s/push_preference/%s",USERS_USERID_PUSHPREFERENCE:"/users/%s/push_preference/",USERS_USERID_PUSH_TEMPLATE:"/users/%s/push/template",USERS_USERID_BLOCK:"/users/%s/block",USERS_USERID_BLOCK_TARGETID:"/users/%s/block/%s",USERS_USERID_PUSH_APNS_TOKEN:"/users/%s/push/apns/%s",USERS_USERID_PUSH_APNS:"/users/%s/push/apns",USERS_USERID_PUSH:"/users/%s/push",USERS_USERID_GROUP_CHANNEL_INVITATION_PREFERENCE:"/users/%s/channel_invitation_preference",USERS_USERID_GROUP_CHANNEL_COUNT:"/users/%s/group_channel_count",USERS_COUNT_PREFERENCE:"/users/%s/count_preference/%s",USERS_USERID_ALLOW_FRIEND_DISCOVERY:"/users/%s/allow_friend_discovery",OPENCHANNELS:"/open_channels",OPENCHANNELS_CHANNELURL:"/open_channels/%s",OPENCHANNELS_CHANNELURL_MESSAGES:"/open_channels/%s/messages",OPENCHANNELS_CHANNELURL_MESSAGES_MESSAGEID:"/open_channels/%s/messages/%s",OPENCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_TRANSLATION:"/open_channels/%s/messages/%s/translation",OPENCHANNELS_CHANNELURL_MESSAGES_CHANGELOGS:"/open_channels/%s/messages/changelogs",OPENCHANNELS_CHANNELURL_SCHEDULED_MESSAGES:"/open_channels/%s/scheduled_messages",OPENCHANNELS_CHANNELURL_PARTICIPANTS:"/open_channels/%s/participants",OPENCHANNELS_CHANNELURL_OPERATORS:"/open_channels/%s/operators",OPENCHANNELS_CHANNELURL_METADATA:"/open_channels/%s/metadata",OPENCHANNELS_CHANNELURL_METADATA_KEY:"/open_channels/%s/metadata/%s",OPENCHANNELS_CHANNELURL_METACOUNTER:"/open_channels/%s/metacounter",OPENCHANNELS_CHANNELURL_METACOUNTER_KEY:"/open_channels/%s/metacounter/%s",OPENCHANNELS_CHANNELURL_BAN:"/open_channels/%s/ban",OPENCHANNELS_CHANNELURL_BAN_USERID:"/open_channels/%s/ban/%s",OPENCHANNELS_CHANNELURL_MUTE:"/open_channels/%s/mute",OPENCHANNELS_CHANNELURL_MUTE_USERID:"/open_channels/%s/mute/%s",OPENCHANNELS_CHANNELURL_FREEZE:"/open_channels/%s/freeze",OPENCHANNELS_OPERATORS:"/open_channels/%s/operators",OPENCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_REACTION:"/open_channels/%s/messages/%s/reactions",GROUPCHANNELS:"/group_channels",MYGROUPCHANNELS:"/users/%s/my_group_channels",GROUPCHANNELS_CHANNELURL:"/group_channels/%s",GROUPCHANNELS_CHANNELURL_INVITE:"/group_channels/%s/invite",GROUPCHANNELS_CHANNELURL_ACCEPT_INVITATION:"/group_channels/%s/accept",GROUPCHANNELS_CHANNELURL_DECLINE_INVITATION:"/group_channels/%s/decline",GROUPCHANNELS_CHANNELURL_HIDE:"/group_channels/%s/hide",GROUPCHANNELS_CHANNELURL_LEAVE:"/group_channels/%s/leave",GROUPCHANNELS_CHANNELURL_JOIN:"/group_channels/%s/join",GROUPCHANNELS_CHANNELURL_OPERATORS:"/group_channels/%s/operators",GROUPCHANNELS_CHANNELURL_MESSAGES:"/group_channels/%s/messages",GROUPCHANNELS_CHANNELURL_MESSAGES_MARKASREAD:"/group_channels/%s/messages/mark_as_read",GROUPCHANNELS_CHANNELURL_MESSAGES_MARKASDELIVERED:"/group_channels/%s/messages/mark_as_delivered",GROUPCHANNELS_CHANNELURL_MESSAGES_TOTALCOUNT:"/group_channels/%s/messages/total_count",GROUPCHANNELS_CHANNELURL_MESSAGES_UNREADCOUNT:"/group_channels/%s/messages/unread_count",GROUPCHANNELS_CHANNELURL_MESSAGES_MESSAGEID:"/group_channels/%s/messages/%s",GROUPCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_TRANSLATION:"/group_channels/%s/messages/%s/translation",GROUPCHANNELS_CHANNELURL_MESSAGES_CHANGELOGS:"/group_channels/%s/messages/changelogs",GROUPCHANNELS_CHANNELURL_MESSAGES_GAP:"/group_channels/%s/messages_gap",GROUPCHANNELS_CHANNELURL_SCHEDULED_MESSAGES:"/group_channels/%s/scheduled_messages",GROUPCHANNELS_CHANNELURL_MEMBERS:"/group_channels/%s/members",GROUPCHANNELS_CHANNELURL_METADATA:"/group_channels/%s/metadata",GROUPCHANNELS_CHANNELURL_METADATA_KEY:"/group_channels/%s/metadata/%s",GROUPCHANNELS_CHANNELURL_METACOUNTER:"/group_channels/%s/metacounter",GROUPCHANNELS_CHANNELURL_METACOUNTER_KEY:"/group_channels/%s/metacounter/%s",GROUPCHANNELS_RESET_USER_HISTORY:"/group_channels/%s/reset_user_history",GROUPCHANNELS_OPERATORS:"/group_channels/%s/operators",GROUPCHANNELS_MEMBERS:"/group_channels/%s/members",GROUPCHANNELS_CHANNELURL_BAN:"/group_channels/%s/ban",GROUPCHANNELS_CHANNELURL_BAN_USERID:"/group_channels/%s/ban/%s",GROUPCHANNELS_CHANNELURL_MUTE:"/group_channels/%s/mute",GROUPCHANNELS_CHANNELURL_MUTE_USERID:"/group_channels/%s/mute/%s",GROUPCHANNELS_CHANNELURL_FREEZE:"/group_channels/%s/freeze",GROUPCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_REACTION:"/group_channels/%s/messages/%s/reactions",STORAGE_FILE:"/storage/file",STORAGE_PROFILE:"/storage/profile_image",FRIENDS:"/users/%s/friends",FRIENDS_CHANGE_LOGS:"/users/%s/friends/changelogs",FRIENDS_DISCOVERIES:"/users/%s/friend_discoveries",SEARCH_MESSAGE:"/search/messages",REPORT_USERS:"/report/users/%s",REPORT_CHANNELS:"/report/%s/%s",REPORT_MESSAGES:"/report/%s/%s/messages/%s",EMOJIS_EMOJIKEY:"/emojis/%s",EMOJI_CATEGORIES:"/emoji_categories",EMOJI_CATEGORIES_CATEGORYID:"/emoji_categories/%s",POLLS:"/polls",POLLS_POLLID:"/polls/%s",POLLS_POLLID_VOTE:"/polls/%s/vote",POLLS_POLLID_CLOSE:"/polls/%s/close",POLLS_POLLID_OPTIONS:"/polls/%s/options",POLLS_POLLID_OPTIONS_OPTIONID:"/polls/%s/options/%s",POLLS_POLLID_OPTIONS_OPTIONID_VOTERS:"/polls/%s/options/%s/voters"}}}]),e}(),ce=function(){function e(t,n){h(this,e),this.sb=t,this.ws=null,this.wsHost=null,this.WebSocket=null,this.handler=n||new e.ConnectionHandler,this.explicitDisconnect=!1,this.lastActiveMillis=0;try{this.WebSocket="undefined"==typeof WebSocket?u.default:WebSocket}catch(e){this.WebSocket=WebSocket}}return m(e,[{key:"connect",value:function(e,t,n){var r=this;$.debug("`WebSocketClient.connect` called.");var a=R.get(this.sb._iid).container,i=a.pinger,s=a.auth,o=a.extensions,l=a.getUserAgentWithExtensions,u=a.sessionManager,c=Ba.getAppVersion();this.wsHost=n;try{var d="/?p=JS"+"&pv=".concat(encodeURIComponent(k.OS_VERSION))+"&sv=".concat(encodeURIComponent(k.SDK_VERSION))+"&ai=".concat(encodeURIComponent(this.sb.getApplicationId()));if(c&&(d+="&av=".concat(encodeURIComponent(c))),s.sessionKey?d+="&key=".concat(encodeURIComponent(s.sessionKey)):d+="&user_id=".concat(encodeURIComponent(e),"&access_token=").concat(encodeURIComponent(t)),d+="&active=1",d+="&SB-User-Agent=".concat(encodeURIComponent(l(o))),d+="&Request-Sent-Timestamp=".concat((new Date).getTime().toString()),d+="&include_extra_data=".concat(encodeURIComponent(["premium_feature_list","file_upload_size_limit","application_attributes","emoji_hash"].join(","))),u.handler&&(d+="&expiring_session=1"),this.sb.Options.includePollDetails&&(d+="&include_poll_details=1"),d+="&use_local_cache=1",this.ws=new this.WebSocket(this.wsHost+d),!this.ws)return this.sb.isReconnectingOnError=!0,void this.handler.onError("ws does not exist.")}catch(e){return this.sb.isReconnectingOnError=!0,void this.handler.onError(e)}try{this.sb.getDebugMode()&&"undefined"!=typeof window&&(window.ws=this.ws)}catch(e){$.debug("`window` object does not exist.")}var f=!1;this.ws.onopen=function(e){$.debug("`WebSocket.onopen` called."),r.handler.onOpen(e)},this.ws.onmessage=function(e){r.active();for(var t=e.data.split("\n"),n=0;n<t.length;n++){var a=t[n];if(a&&"string"==typeof a){try{if("PONG"===a.substring(0,4)){i.pong();continue}}catch(e){$.debug("`WebSocket.onmessage` command check error:",e)}r.handler.onMessage(a)}}},this.ws.onerror=function(e){$.debug("`WebSocket.onerror` called:",e),i&&i.stop(),f=!0,r.sb.isReconnectingOnError=!0,r.handler.onError(e)},this.ws.onclose=function(e){$.group("`WebSocket.onclose` called.",[{level:$.supportedLogLevels.DEBUG,messages:["e",e]},{level:$.supportedLogLevels.DEBUG,messages:["explicitDisconnect",r.explicitDisconnect]}]),i&&i.stop(),r.explicitDisconnect?r.handler.onClose(e):f||r.handler.onError(e),r.explicitDisconnect=!1}}},{key:"disconnect",value:function(e,t){$.group("`WebSocketClient.onclose` called.",[{level:$.supportedLogLevels.DEBUG,messages:["explicit",e]}]);var n=R.get(this.sb._iid).container.pinger;n&&n.stop(),this.explicitDisconnect=!0===e,this.ws&&(this.ws.onopen=function(){},this.ws.onmessage=function(){},this.ws.onclose=function(){t&&t()},this.ws.onerror=function(){},this.ws.close(),this.ws=null),this.explicitDisconnect?this.handler.onClose():this.handler.onError(),this.explicitDisconnect=!1}},{key:"send",value:function(e,t){if(1!==this.ws.readyState)t&&t(new F("Connection is not valid. Please reconnect.",F.WEBSOCKET_CONNECTION_CLOSED),null);else{var n=R.get(this.sb._iid).container.pinger;this.ws.send(e.encode()),"PING"!==e.command&&n.refreshTimer(),t&&t(null,null)}}},{key:"active",value:function(){this.lastActiveMillis=(new Date).getTime()}},{key:"getConnectionState",value:function(){try{return 1===this.ws.readyState?this.sb.ConnectionState.OPEN:0===this.ws.readyState?this.sb.ConnectionState.CONNECTING:this.sb.ConnectionState.CLOSED}catch(e){return this.sb.ConnectionState.CLOSED}}}]),e}();ce.ConnectionHandler=m(function e(){h(this,e),this.onReady=function(){},this.onOpen=function(){},this.onClose=function(){},this.onMessage=function(){},this.onError=function(){}});var de,fe={},he=function(){function e(){this._observers=[]}return e.of=function(t){return fe[t]||(fe[t]=new e),fe[t]},e.prototype.invokeConnect=function(){for(var e=0,t=this._observers;e<t.length;e++){var n=t[e];n.onConnect&&n.onConnect()}},e.prototype.invokeDisconnect=function(){for(var e=0,t=this._observers;e<t.length;e++){var n=t[e];n.onDisconnect&&n.onDisconnect()}},e.prototype.addObserver=function(e){this._observers.push(e)},e.prototype.removeObserver=function(e){var t=this._observers.indexOf(e);t>-1&&this._observers.splice(t,1)},e}(),pe=function(){function e(t){h(this,e),this.sb=t,this.cls=G.get(this.sb._iid),this.client=new ce(this.sb),this.connectParams={retryCount:1},this.reconnectParams={interval:3,retryCount:3,multiplier:2,maxInterval:24},this.connectCount=0,this.reconnectCount=0,this.reconnectDelay=0}return m(e,[{key:"isConnected",get:function(){return this.client&&this.client.getConnectionState()===this.sb.ConnectionState.OPEN}},{key:"connect",value:function(e,t){var n=this,r=R.get(this.sb._iid).container,a=r.auth,i=r.apiClient,s=r.commandHandler;a.sessionToken=t||null;var o=this.cls.GroupChannel,l=null,u=new ce.ConnectionHandler;this.client=new ce(this.sb,u),u.onMessage=function(e){s.onRawCommandReceived(e)},this.sb.loginHandler=function(e,t){if(n.sb.connecting=!1,n.sb.reconnecting=!1,e)n.disconnect({clearSession:!0,err:e},null);else{clearInterval(n.sb.globalTimer);var r=function(){o.cachedChannels&&Object.keys(o.cachedChannels).forEach(function(e){var t=o.cachedChannels[e];t.invalidateTypingStatus()&&Object.keys(n.sb.channelHandlers).forEach(function(e){n.sb.channelHandlers[e].onTypingStatusUpdated(t)})})};r(),n.sb.globalTimer=setInterval(function(){return r()},1e3),n.flushConnectionCallbacks(null,t),n.sb.ConnectionManager.processAllReadyHandler(null)}},u.onOpen=function(){n.connectCount=0,n.sb.loginTimer=setTimeout(function(){n.sb.loginTimer=null,n.sb.onLoginTimerCancel=null,n.flushConnectionCallbacks(new F("Connection timeout.",F.LOGIN_TIMEOUT),null),n.sb.disconnect(null)},n.sb.Options.websocketResponseTimeout),n.sb.onLoginTimerCancel=function(){n.connectCount=0,n.flushConnectionCallbacks(new F("Connection has been canceled.",F.REQUEST_FAILED),null)},n.sb.connecting=!1},u.onError=function(r){$.debug("Connect: `WebSocketClient.ConnectionHandler.onError` called.",r),a.sessionKey?(n.sb.isReconnectingOnError=!0,n.sb.ConnectionManager.errorAllReadyHandler(),n.reconnect(e,!0),n.sb.connecting=!1):n.connectCount<n.connectParams.retryCount?(n.connectCount++,n.client.connect(e,t,l)):(n.connectCount=0,n.flushConnectionCallbacks(new F("Websocket connection failed.",F.WEBSOCKET_CONNECTION_FAILED),null),n.sb.connecting=!1)},u.onClose=function(){$.debug("Connect: `WebSocketClient.ConnectionHandler.onClose` called."),n.connectCount=0,n.sb.connecting=!1},i.checkRouting(function(r,a){if(r)return n.sb.connecting=!1,void n.flushConnectionCallbacks(new F("Connection routing failed.",F.REQUEST_FAILED),null);l=a.wsHost,i.dummyCall(function(e){e&&$.error("API dummy call failed:",e)}),n.client.connect(e,t,l)})}},{key:"reconnect",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=R.get(this.sb._iid),a=r.container,i=a.auth,s=a.apiClient,o=a.commandHandler,l=a.ackStateMap,u=a.sessionManager,c=this.cls.OpenChannel;if(this.sb.connecting=!1,this.sb.reconnecting=!0,this.sb.reconnectTimer)$.debug("Reconnect: still reconnecting.");else{if(this.reconnectCount+=1,this.reconnectCount<=1){if(n){Object.keys(l).forEach(function(e){var t=l[e];t&&(clearTimeout(t.timer),(0,t.handler)(new F("Command received no ack.",F.ACK_TIMEOUT),null)),delete l[e]});var d=he.of(this.sb._iid);d.invokeDisconnect(),Object.keys(this.sb.connectionHandlers).forEach(function(e){t.sb.connectionHandlers[e].onReconnectStarted()})}this.reconnectDelay=0}else this.reconnectDelay=Math.min(1e3*this.reconnectParams.interval*Math.pow(this.reconnectParams.multiplier,this.reconnectCount-2),this.reconnectParams.maxInterval>0?1e3*this.reconnectParams.maxInterval:Number.MAX_SAFE_INTEGER);if(!e||!i.sessionKey||this.reconnectParams.retryCount>0&&this.reconnectCount>this.reconnectParams.retryCount)return this.disconnect({clearSession:!1,err:new F("Websocket connection failed.",F.WEBSOCKET_CONNECTION_FAILED)},null),this.reconnectCount=0,Object.keys(this.sb.connectionHandlers).forEach(function(e){t.sb.connectionHandlers[e].onReconnectFailed()}),this.sb.connecting=!1,this.sb.reconnecting=!1,this.sb.isReconnectingOnError=!1,void this.sb.ConnectionManager.errorAllReadyHandler();this.sb.onReconnectTimerCancel=function(){t.reconnectCount=0},this.sb.reconnectTimer=setTimeout(function(){t.sb.reconnectTimer=null,t.sb.onReconnectTimerCancel=null,t.client&&t.client.disconnect(!0);var n=new ce.ConnectionHandler;t.client=new ce(t.sb,n),t.sb.loginHandler=function(n,r){n?u.isSessionError(n)?u.refreshSessionIfExpiredError(n).then(function(){clearTimeout(t.sb.reconnectTimer),t.sb.reconnectTimer=null,t.reconnectCount=0,t.reconnect(e,!1)}).catch(function(){}):(clearTimeout(t.sb.reconnectTimer),t.sb.reconnectTimer=null,t.reconnect(e,!1)):(t.reconnectCount=0,t.sb.connecting=!1,t.sb.reconnecting=!1,t.sb.isReconnectingOnError=!1,he.of(t.sb._iid).invokeConnect(),Object.keys(t.sb.connectionHandlers).forEach(function(e){t.sb.connectionHandlers[e].onReconnectSucceeded()}),t.sb.ConnectionManager.processAllReadyHandler(null),t.sb.isReconnectingOnError&&Object.keys(t.sb.ConnectionManager.networkHandlers).forEach(function(e){t.sb.ConnectionManager.networkHandlers[e].onReconnected()}),Object.keys(c.enteredChannels).forEach(function(e){c.enteredChannels[e].enter(function(n,r){if(n){var a=t.cls.FileMessageQueue;delete c.enteredChannels[e],a.delete(e)}})}))},n.onOpen=function(){$.debug("Reconnect: `WebSocketClient.ConnectionHandler.onOpen` called."),t.sb.loginTimer=setTimeout(function(){$.debug("Reconnect: `loginTimer` timeout."),t.sb.loginTimer=null,t.reconnect(e,!0)},t.sb.Options.websocketResponseTimeout),t.sb.onLoginTimerCancel=null},n.onMessage=function(e){o.onRawCommandReceived(e)},n.onError=function(n){$.debug("Reconnect: `WebSocketClient.ConnectionHandler.onError` called.",n),t.sb.isReconnectingOnError=!0,t.sb.ConnectionManager.errorAllReadyHandler(),t.reconnect(e,!0)},n.onClose=function(){$.debug("Reconnect: `WebSocketClient.ConnectionHandler.onClose` called."),t.sb.reconnecting=!1},s.checkRouting(function(n,r){n?t.reconnect(e,!0):(t.sb.getCurrentApiHost()!==r.apiHost&&s.get("/",null,function(){}),t.client.connect(e,null,r.wsHost))})},this.reconnectDelay)}}},{key:"disconnect",value:function(e,t){var n=R.get(this.sb._iid),r=n.container.ackStateMap,a=this.cls,i=a.GroupChannel,s=a.OpenChannel,o=e.clearSession,l=e.err;this.sb.loginTimer&&(clearTimeout(this.sb.loginTimer),this.sb.onLoginTimerCancel&&(this.sb.onLoginTimerCancel(),this.sb.onLoginTimerCancel=null),this.sb.loginTimer=null),this.sb.reconnectTimer&&(clearTimeout(this.sb.reconnectTimer),this.sb.onReconnectTimerCancel&&(this.sb.onReconnectTimerCancel(),this.sb.onReconnectTimerCancel=null),this.sb.reconnectTimer=null),this.client&&(this.reconnectCount=0,this.client.disconnect(!0),this.client=null),o&&(s.clearEnteredChannels(),s.clearCache(),i.clearCache(),this.sb.globalTimer&&(clearInterval(this.sb.globalTimer),this.sb.globalTimer=null),Object.keys(r).forEach(function(e){clearTimeout(r[e].timer)}),this.sb.currentUser=null,n.set("ackStateMap",{}),n.set("subscribedUnreadMessageCount",{all:0,custom_types:{},ts:0}),n.set("auth",new j)),l&&(this.flushConnectionCallbacks(l,null),this.sb.connecting=!1,this.sb.reconnecting=!1,this.sb.isReconnectingOnError=!1),t&&t(null,null)}},{key:"flushConnectionCallbacks",value:function(e,t){var n=this,r=R.get(this.sb._iid).container,a=r.store,i=r.localCacheEnabled,s=this.sb.connectionCallbacks;if(this.sb.connectionCallbacks=[],e)if(i){var o=this.sb._getCurrentUserDataKey();ie.isNonAutoReconnectableError(e.code)?a.remove(o).catch(function(e){return $.debug("Sendbird connect store remove error: ",e)}).finally(function(){return s.forEach(function(t){return t(e,null)})}):a.get(o).then(function(e){n.sb._populateVaultFromCurrentUserData(e)}).catch(function(e){$.debug("Sendbird connect store fetch error: ",e)}).finally(function(){n.sb.currentUser?s.forEach(function(t){return t(e,n.sb.currentUser)}):s.forEach(function(t){return t(e,null)})})}else s.forEach(function(t){return t(e,null)});else he.of(this.sb._iid).invokeConnect(),i?a.set({key:this.sb._getCurrentUserDataKey(),value:this._createCurrentUserData(t),generation:1}).catch(function(e){return $.debug("Sendbird connect store write error: ",e)}).finally(function(){return s.forEach(function(e){return e(null,n.sb.currentUser)})}):s.forEach(function(e){return e(null,t)})}},{key:"_createCurrentUserData",value:function(e){var t=R.get(this.sb._iid).container,n=t.auth,r=t.maxUnreadCountOfSuperGroupChannel,a=t.profileImageEncryption,i=t.appInfo,s=t.connectedAt,o=t.firstConnectedAt,l=t.concurrentCallLimit,u=t.backOffDelay,c={currentUser:(e||this.sb.currentUser).serialize(),maxUnreadCountOfSuperGroupChannel:k.DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL,profileImageEncryption:!1};return n.sessionKey&&(c.sessionKey=n.sessionKey),n.eKey&&(c.eKey=n.eKey),r&&(c.maxUnreadCountOfSuperGroupChannel=r),a&&(c.profileImageEncryption=a),i&&(c.appInfo=i._objectify()),s&&o&&(c.connectedAt=s,c.firstConnectedAt=o),l&&u&&(c.concurrentCallLimit=l,c.backOffDelay=u),c}}]),e}(),me=function(){function e(t){var n=t.type,r=t.nullable,a=void 0!==r&&r,i=t.optional,s=void 0!==i&&i,o=t.optionalIf,l=void 0===o?null:o,u=t.ignoreIf,c=void 0===u?null:u,d=t.defaultValue,f=void 0===d?null:d,p=t.constraint,m=void 0===p?null:p;h(this,e),this.type=n,this.nullable=a,this.optional=s,this.optionalIf=l,this.ignoreIf=c,this.defaultValue=f,this.constraint=m}return m(e,[{key:"isMatchingType",value:function(e){var t=function(t,n){return"string"==typeof n?f(t)===n||"array"===n&&Array.isArray(t)||"file"===n&&ie.isFile(t)||"null"===n&&null===t||"date"===n&&t instanceof Date:"function"==typeof n?t instanceof n:"object"===f(n)&&Object.keys(n).map(function(e){return n[e]}).indexOf(e)>-1};return t(e,this.type)||Array.isArray(this.type)&&this.type.some(function(n){return t(e,n)})||this.nullable&&null===e}}],[{key:"parse",value:function(t,n){for(t=e.toArray(t);t.length>0&&void 0===t[t.length-1];)t.pop();var r=!1,a=null;"callback"===n[n.length-1].type&&("function"==typeof t[t.length-1]&&(a=t.pop()),n.pop(),r=!0);var i=[],s=null,o=0;return n.forEach(function(n){"function"==typeof n.ignoreIf&&n.ignoreIf(t)?i.push(n.hasOwnProperty("defaultValue")?n.defaultValue:null):n.isMatchingType(t[o])?(n.nullable&&null===t[o]||!n.constraint||n.constraint(t[o])||(s=e.error),i.push(t[o]),o++):n.optional||"function"==typeof n.optionalIf&&n.optionalIf(t)?i.push(n.hasOwnProperty("defaultValue")?n.defaultValue:null):(s=e.error,i.push(t[o]),o++)}),r&&a&&i.push(a),t.length!==o&&(s=e.error),[s].concat(i)}},{key:"error",get:function(){return new F("Invalid parameter.",F.INVALID_PARAMETER)}},{key:"toArray",value:function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t}}]),e}(),ge=function(){function e(t){h(this,e),this.sb=t,this.authCount=0,this.readyHandlers=[],this.networkHandlers={},this.authenticateTimer=1e4,this.authInfoRequester=null}return m(e,[{key:"addReadyHandler",value:function(e){e&&"function"==typeof e&&this.readyHandlers.push(e)}},{key:"ready",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=R.get(this.sb._iid),r=n.container,a=r.auth,i=r.isInBackground;t&&a.hasSession()?e&&(this.sb.currentUser?e(null,this.sb.currentUser):(this.addReadyHandler(e),this.errorAllReadyHandler()),this.sb.getConnectionState()!==this.sb.ConnectionState.CLOSED||i||this.sb.reconnect()):(this.addReadyHandler(e),this.sb.isReconnectingOnError?this.errorAllReadyHandler():this.sb.getConnectionState()===this.sb.ConnectionState.OPEN?this.processAllReadyHandler(null):this.sb.getConnectionState()===this.sb.ConnectionState.CONNECTING||this.errorAllReadyHandler())}},{key:"processAllReadyHandler",value:function(e){if(this.readyHandlers.length>0){var t=this.sb.currentUser,n=this.readyHandlers;this.readyHandlers=[],n.forEach(function(n){n&&"function"==typeof n&&n(e,t)})}}},{key:"errorAllReadyHandler",value:function(){var e=R.get(this.sb._iid).container.auth;this.processAllReadyHandler(e&&e.hasSession()?new F("WebSocket connection must be made first.",F.WEBSOCKET_CONNECTION_CLOSED):new F("Connection should be made first.",F.CONNECTION_REQUIRED))}},{key:"NetworkHandler",value:function(){this.onReconnected=function(){}}},{key:"addNetworkHandler",value:function(e,t){$.warn("`ConnectionManager` will be deprecated."),this.networkHandlers[e]=t}},{key:"removeNetworkHandler",value:function(e){$.warn("`ConnectionManager` will be deprecated."),delete this.networkHandlers[e]}},{key:"removeAllNetworkHandler",value:function(){$.warn("`ConnectionManager` will be deprecated."),this.networkHandlers={}}},{key:"authenticate",value:function(e){var t=this;if($.warn("`ConnectionManager` will be deprecated."),this.sb.getConnectionState()===this.sb.ConnectionState.OPEN||this.sb.reconnecting)this.sb.connecting=!1,e(null,this.sb.currentUser);else if(this.authInfoRequester&&"function"==typeof this.authInfoRequester){this.sb.connecting=!0,this.authCount++;var n=setTimeout(function(){n=null,t.authCount--,0===t.authCount&&0===t.sb.connectionCallbacks.length&&(t.sb.connecting=!1),t.errorAllReadyHandler(),e(new F("Connection should be made first.",F.CONNECTION_REQUIRED),null)},this.authenticateTimer);this.authInfoRequester(function(r){if(n){clearTimeout(n),n=null,t.authCount--;var a=function(n,r){t.sb.connecting=!1,e(n,null)};r&&r.hasOwnProperty("userId")?r.accessToken?r.apiHost&&r.wsHost?t.sb.connect(r.userId,r.accessToken,r.apiHost,r.wsHost,a):t.sb.connect(r.userId,r.accessToken,a):r.apiHost&&r.wsHost?t.sb.connect(r.userId,r.apiHost,r.wsHost,a):t.sb.connect(r.userId,a):e(me.error,null)}})}else e(me.error,null)}}]),e}(),ye=function(){this.onSessionExpired=function(){},this.onSessionTokenRequired=function(e,t){return e(null)},this.onSessionError=function(e){},this.onSessionRefreshed=function(){},this.onSessionClosed=function(){}},_e=function(){function e(){h(this,e),this.handler=null,this.resolvers=[]}return m(e,[{key:"_refreshSessionToken",value:function(){var t=this;return new Promise(function(n,r){var a=null,i=function(){a&&(clearTimeout(a),a=null)},s=function(){a&&(i(),r(e.sessionTokenRequestFailedError))};a=setTimeout(function(){return s()},3e4),t.handler.onSessionTokenRequired(function(e){a&&(i(),n(e))},s)})}},{key:"_refreshSessionKey",value:function(){var t=this;return new Promise(function(n,r){var a=R.get(t._iid).container,i=a.auth,s=a.wsAdapter;i.sessionToken?s.isConnected?t._refreshSessionKeyByCommand().then(function(){return n()}).catch(function(e){e.isSessionTokenExpiredError?r(e):t._refreshSessionKeyByApi().then(function(){return n()}).catch(function(e){return r(e)})}):t._refreshSessionKeyByApi().then(function(){return n()}).catch(function(e){return r(e)}):r(e.sessionTokenNotFoundError)})}},{key:"_refreshSessionKeyByCommand",value:function(){var t=this;return new Promise(function(n,r){var a=Ba.getInstance(t._iid),i=R.get(t._iid).container.auth,s=G.get(t._iid).Command,o=s.bSessionRefresh({token:i.sessionToken,requestId:s.generateRequestId()});a.sendCommand(o,function(t,s){if(!a.getErrorFirstCallback()){var o=[t,s];s=o[0],t=o[1]}t?r(t):s?s.hasOwnProperty("error")?r(e.sessionKeyRefreshFailedError):(s.hasOwnProperty("new_key")&&(i.sessionKey=s.new_key),n()):r(e.sessionKeyRefreshFailedError)})})}},{key:"_refreshSessionKeyByApi",value:function(){var t=this;return new Promise(function(n,r){!function a(i){if(i<3){var s=R.get(t._iid).container,o=s.auth,l=s.apiClient,u={};o.sessionToken&&(u.accessToken=o.sessionToken),l.refreshSessionKey(u,function(e,t){if(e)e.isSessionTokenExpiredError||e.isSessionTokenRevokedError?r(e):a(i+1);else{var s=t.key;o.sessionKey=s,n()}})}else r(e.sessionKeyRefreshFailedError)}(0)})}},{key:"_handleSessionToken",value:function(t){var n=this;t?(R.get(this._iid).container.auth.sessionToken=t,this._refreshSessionKey().then(function(){return n._handleSessionRefreshSuccess()}).catch(function(){return n._handleSessionRefreshError(e.sessionTokenRequestFailedError)})):this._handleSessionClosed(e.sessionTokenRequestFailedError)}},{key:"_handleSessionRefreshSuccess",value:function(){this.handler.onSessionRefreshed(),this._flushResolvers(null)}},{key:"_handleSessionRefreshError",value:function(e){this._cancelConnection(),this.handler.onSessionError(e),this._flushResolvers(e)}},{key:"_handleSessionClosed",value:function(e){this._cancelConnection(),this.handler.onSessionClosed(),this._flushResolvers(e)}},{key:"_cancelConnection",value:function(){var e=Ba.getInstance(this._iid);e.reconnecting&&(Object.keys(e.connectionHandlers).forEach(function(t){e.connectionHandlers[t].onReconnectFailed()}),e.reconnecting=!1),e.disconnect()}},{key:"_flushResolvers",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=0;n<this.resolvers.length;n++)e?this.resolvers[n].reject(e):this.resolvers[n].resolve(t);this.resolvers=[]}},{key:"setHandler",value:function(e){e instanceof ye&&(this.handler=e)}},{key:"isSessionError",value:function(e){return e.isSessionTokenExpiredError||e.isSessionTokenRevokedError||e.isSessionKeyExpiredError}},{key:"refreshSessionToken",value:function(){var t=this;return new Promise(function(n,r){t.handler?(t.resolvers.push({resolve:n,reject:r}),1===t.resolvers.length&&t._refreshSessionToken().then(function(e){return t._handleSessionToken(e)}).catch(function(){return t._handleSessionRefreshError(e.sessionTokenRequestFailedError)})):n()})}},{key:"refreshSessionKey",value:function(){var e=this;return new Promise(function(t,n){e.handler?(e.resolvers.push({resolve:t,reject:n}),1===e.resolvers.length&&e._refreshSessionKey().then(function(){return e._handleSessionRefreshSuccess()}).catch(function(t){t.isSessionTokenExpiredError?e._refreshSessionToken().then(function(t){return e._handleSessionToken(t)}).catch(function(t){return e._handleSessionRefreshError(t)}):t.isSessionTokenRevokedError?e._handleSessionClosed(t):e._handleSessionRefreshError(t)})):t()})}},{key:"refreshSessionIfExpiredError",value:function(e){var t=this;return e.isSessionTokenExpiredError?this.refreshSessionToken():e.isSessionKeyExpiredError?this.refreshSessionKey():e.isSessionTokenRevokedError?new Promise(function(e,n){return n(t.closeSession())}):Promise.reject(e)}},{key:"closeSession",value:function(){var t=e.sessionTokenRequestFailedError;return this._handleSessionClosed(t),t}}],[{key:"sessionTokenNotFoundError",get:function(){return new F("Session token is not found.",F.SESSION_TOKEN_EXPIRED)}},{key:"sessionTokenExpiredError",get:function(){return new F("Session token is expired.",F.SESSION_TOKEN_EXPIRED)}},{key:"sessionKeyRefreshFailedError",get:function(){return new F("Failed to refresh the session key.",F.SESSION_KEY_REFRESH_FAILED)}},{key:"sessionTokenRequestFailedError",get:function(){return new F("Failed to get the session token.",F.SESSION_TOKEN_REQUEST_FAILED)}}]),e}(),ve=function(){function e(t){h(this,e),this.sb=t}return m(e,[{key:"onlineWorker",value:function(){try{if("undefined"!=typeof navigator&&navigator.onLine){var e=R.get(this.sb._iid).container.auth;this.sb.reconnecting||this.sb.connecting||!e.sessionKey||this.sb.getConnectionState()===this.sb.ConnectionState.OPEN||this.sb.reconnect()}}catch(e){$.debug("There is no `window.addEventListener.ononline` or `navigator.onLine`")}}},{key:"offlineWorker",value:function(){try{if(this.sb.setIsProcessingAutoResend(!1),"undefined"!=typeof navigator&&!navigator.onLine){var e=R.get(this.sb._iid).container,t=e.auth,n=e.pinger;this.sb.reconnecting||this.sb.connecting||!t.sessionKey||(n&&n.stop(),this.sb.reconnect())}}catch(e){$.debug("There is no `window.addEventListener.ononline` or `navigator.onLine`")}}},{key:"start",value:function(){try{"undefined"!=typeof window&&window.addEventListener&&"ononline"in window&&"onoffline"in window&&"undefined"!=typeof navigator&&"boolean"==typeof navigator.onLine&&(window.addEventListener("online",this.onlineWorker),window.addEventListener("offline",this.offlineWorker))}catch(e){$.debug("There is no `window.addEventListener.ononline` or `navigator.onLine`")}}},{key:"stop",value:function(){try{window.removeEventListener("online",this.onlineWorker,!1),window.removeEventListener("offline",this.offlineWorker,!1)}catch(e){$.debug("There is no `window.addEventListener.ononline` or `navigator.onLine`")}}}]),e}(),Ee=(new Date).getTime(),be=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;switch(h(this,e),this.command=t,this.requestId=r,arguments.length){case 1:if(!t||t.length<=4)this.command="NOOP",this.payload="{}";else if(this.decode(t),this.isRequestIdCommand){var a=this.getJsonElement();a&&(this.requestId=a.req_id||"")}break;case 2:case 3:!this.requestId&&this.isRequestIdCommand&&(this.requestId=e.generateRequestId()),n.req_id=this.requestId||"",this.payload=JSON.stringify(n)}}return m(e,[{key:"isRequestIdCommand",get:function(){return this.isAckRequired||"EROR"===this.command}},{key:"isAckRequired",get:function(){return"LOGI"===this.command||"MESG"===this.command||"FILE"===this.command||"ENTR"===this.command||"EXIT"===this.command||"READ"===this.command||"MEDI"===this.command||"FEDI"===this.command}},{key:"encode",value:function(){return this.command+this.payload+"\n"}},{key:"decode",value:function(e){e=e.trim(),this.command=e.substring(0,4),this.payload=e.substring(4)}},{key:"getJsonElement",value:function(){return JSON.parse(this.payload)}}],[{key:"bSessionRefresh",value:function(e){return new this("LOGI",{token:e.token,expiring_session:1},e.requestId)}},{key:"bPing",value:function(){return new this("PING",{id:(new Date).getTime(),active:1})}},{key:"bMessage",value:function(e){var t=e.channelUrl,n=e.message,r=e.data,a=e.customType,i=e.metaArrays,s=e.mentionType,o=e.mentionedUserIds,l=e.mentionedMessageTemplate,u=e.translationTargetLanguages,c=e.pushNotificationDeliveryOption,d=e.appleCriticalAlertOptions,f=e.requestId,h=void 0===f?null:f,p=e.silent,m=void 0!==p&&p,g=e.rootMessageId,y=void 0===g?null:g,_=e.parentMessageId,v=void 0===_?null:_,E=e.pollId,b=e.isReplyToChannel,C=void 0!==b&&b,N=G.get(this._iid),S=N.UserMessageParams,T=N.BaseMessageParams,O={};return O.channel_url=t,O.message=n,O.data=r,i&&i.length>0&&(O.metaarray=i.map(function(e){return e.encode()})),s&&(O.mention_type=s),O.mentioned_user_ids=[],s===T.MentionType.CHANNEL?O.mentioned_user_ids=[]:Array.isArray(o)&&o.length>0&&(O.mentioned_user_ids=o),l&&(O.mentioned_message_template=l),a&&(O.custom_type=a),u&&u.length>0&&(O.target_langs=u),c&&c!==S.PushNotificationDeliveryOption.DEFAULT&&(O.push_option=c),d&&(O.apple_critical_alert_options=d.serialize()),m&&(O.silent=m),y&&(O.root_message_id=y),v&&(O.parent_message_id=v),"number"==typeof E?O.poll_id=E:null===E&&(O.poll_id=-1),C&&(O.reply_to_channel=C),new this("MESG",O,h)}},{key:"bFile",value:function(e){var t=e.channelUrl,n=e.url,r=e.name,a=e.type,i=e.size,s=e.data,o=e.customType,l=e.thumbnailSizes,u=e.requireAuth,c=e.metaArrays,d=e.mentionType,f=e.mentionedUserIds,h=e.pushNotificationDeliveryOption,p=e.appleCriticalAlertOptions,m=e.requestId,g=void 0===m?null:m,y=e.silent,_=void 0!==y&&y,v=e.rootMessageId,E=void 0===v?null:v,b=e.parentMessageId,C=void 0===b?null:b,N=e.isReplyToChannel,S=void 0!==N&&N,T=G.get(this._iid),O=T.BaseMessageParams,w=T.FileMessageParams,k={};return k.channel_url=t,k.url=n,k.name=r||"",k.type=a||"",k.size=i||0,k.custom=s,o&&(k.custom_type=o),l&&(k.thumbnails=l),u&&(k.require_auth=u),c&&c.length>0&&(k.metaarray=c.map(function(e){return e.encode()})),d&&(k.mention_type=d),k.mentioned_user_ids=[],d===O.MentionType.CHANNEL?k.mentioned_user_ids=[]:Array.isArray(f)&&f.length>0&&(k.mentioned_user_ids=f),h&&h!==w.PushNotificationDeliveryOption.DEFAULT&&(k.push_option=h),p&&(k.apple_critical_alert_options=p.serialize()),_&&(k.silent=_),E&&(k.root_message_id=E),C&&(k.parent_message_id=C),S&&(k.reply_to_channel=S),new this("FILE",k,g)}},{key:"bUpdateUserMessage",value:function(e){var t=e.channelUrl,n=e.messageId,r=e.appleCriticalAlertOptions,a=e.message,i=void 0===a?null:a,s=e.data,o=void 0===s?null:s,l=e.customType,u=void 0===l?null:l,c=e.mentionType,d=void 0===c?null:c,f=e.mentionedUserIds,h=void 0===f?null:f,p=e.mentionedMessageTemplate,m=void 0===p?null:p,g=e.metaArrayParams,y=void 0===g?null:g,_=e.pollId,v=G.get(this._iid).BaseMessageParams,E={};return E.channel_url=t,E.msg_id=n,null!=i&&void 0!==i&&(E.message=i),null!=o&&void 0!==o&&(E.data=o),null!=u&&void 0!==u&&(E.custom_type=u),d&&(E.mention_type=d),d===v.MentionType.CHANNEL?E.mentioned_user_ids=[]:Array.isArray(h)&&h.length>0&&(E.mentioned_user_ids=h),m&&(E.mentioned_message_template=m),y&&(E.metaarray=y),r&&(E.apple_critical_alert_options=r.serialize()),"number"==typeof _?E.poll_id=_:null===_&&(E.poll_id=-1),new this("MEDI",E)}},{key:"bUpdateFileMessage",value:function(e){var t=e.channelUrl,n=e.messageId,r=e.appleCriticalAlertOptions,a=e.data,i=void 0===a?null:a,s=e.customType,o=void 0===s?null:s,l=e.mentionType,u=void 0===l?null:l,c=e.mentionedUserIds,d=void 0===c?null:c,f=e.metaArrayParams,h=void 0===f?null:f,p=G.get(this._iid).BaseMessageParams,m={};return m.channel_url=t,m.msg_id=n,null!=i&&void 0!==i&&(m.data=i),null!=o&&void 0!==o&&(m.custom_type=o),u&&(m.mention_type=u),u===p.MentionType.CHANNEL?m.mentioned_user_ids=[]:Array.isArray(d)&&d.length>0&&(m.mentioned_user_ids=d),h&&(m.metaarray=h),r&&(m.apple_critical_alert_options=r.serialize()),new this("FEDI",m)}},{key:"bRead",value:function(e){var t=e.channelUrl,n={};return n.channel_url=t,new this("READ",n)}},{key:"bMessageAck",value:function(e){var t=e.channelUrl,n=e.messageId,r={};return r.channel_url=t,r.msg_id=n,new this("MACK",r)}},{key:"bTypeStart",value:function(e){var t=e.channelUrl,n=e.time,r={};return r.channel_url=t,r.time=n,new this("TPST",r)}},{key:"bTypeEnd",value:function(e){var t=e.channelUrl,n=e.time,r={};return r.channel_url=t,r.time=n,new this("TPEN",r)}},{key:"bEnter",value:function(e){var t=e.channelUrl,n={};return n.channel_url=t,new this("ENTR",n)}},{key:"bExit",value:function(e){var t=e.channelUrl,n={};return n.channel_url=t,new this("EXIT",n)}},{key:"generateRequestId",value:function(){return String(++Ee)}}]),e}(),Ce=1048576,Ne=function(){function e(e){void 0===e&&(e={}),this._emojiHash=e.emoji_hash||"",this._uploadSizeLimit=e.file_upload_size_limit?e.file_upload_size_limit*Ce:Number.MAX_VALUE,this._useReaction=!!e.use_reaction,this._applicationAttributes=e.application_attributes||[],this._premiumFeatureList=e.premium_feature_list||[],this._disableSupergroupMack=e.disable_supergroup_mack||!1}return Object.defineProperty(e.prototype,"emojiHash",{get:function(){return this._emojiHash},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uploadSizeLimit",{get:function(){return this._uploadSizeLimit},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isUsingReaction",{get:function(){return this._useReaction},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"applicationAttributes",{get:function(){return this._applicationAttributes},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"premiumFeatureList",{get:function(){return this._premiumFeatureList},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSupergroupMackDisabled",{get:function(){return this._disableSupergroupMack},enumerable:!1,configurable:!0}),e.prototype._objectify=function(){var e={};return e.emoji_hash=this._emojiHash,this._uploadSizeLimit!==Number.MAX_VALUE&&(e.file_upload_size_limit=this._uploadSizeLimit/Ce),e.use_reaction=this._useReaction,e.application_attributes=this._applicationAttributes,e.premium_feature_list=this._premiumFeatureList,e.disable_supergroup_mack=this._disableSupergroupMack,e},e}();!function(e){e[e.EVENT_CHANNEL_CHANGED=0]="EVENT_CHANNEL_CHANGED",e[e.EVENT_USER_RECEIVED_INVITATION=1]="EVENT_USER_RECEIVED_INVITATION",e[e.EVENT_USER_DECLINED_INVITATION=2]="EVENT_USER_DECLINED_INVITATION",e[e.EVENT_USER_JOINED=3]="EVENT_USER_JOINED",e[e.EVENT_USER_LEFT=4]="EVENT_USER_LEFT",e[e.EVENT_CHANNEL_ENTER=5]="EVENT_CHANNEL_ENTER",e[e.EVENT_CHANNEL_EXIT=6]="EVENT_CHANNEL_EXIT",e[e.EVENT_CHANNEL_FROZEN=7]="EVENT_CHANNEL_FROZEN",e[e.EVENT_CHANNEL_UNFROZEN=8]="EVENT_CHANNEL_UNFROZEN",e[e.EVENT_CHANNEL_HIDDEN=9]="EVENT_CHANNEL_HIDDEN",e[e.EVENT_CHANNEL_UNHIDDEN=10]="EVENT_CHANNEL_UNHIDDEN",e[e.EVENT_TYPING_STATUS_UPDATED=11]="EVENT_TYPING_STATUS_UPDATED",e[e.EVENT_OPERATOR_UPDATED=12]="EVENT_OPERATOR_UPDATED",e[e.EVENT_CHANNEL_METADATA_UPDATED=13]="EVENT_CHANNEL_METADATA_UPDATED",e[e.EVENT_CHANNEL_METADATA_DELETED=14]="EVENT_CHANNEL_METADATA_DELETED",e[e.EVENT_CHANNEL_METACOUNTER_UPDATED=15]="EVENT_CHANNEL_METACOUNTER_UPDATED",e[e.EVENT_CHANNEL_METACOUNTER_DELETED=16]="EVENT_CHANNEL_METACOUNTER_DELETED",e[e.EVENT_CHANNEL_DELETED=17]="EVENT_CHANNEL_DELETED",e[e.EVENT_USER_MUTED=18]="EVENT_USER_MUTED",e[e.EVENT_USER_UNMUTED=19]="EVENT_USER_UNMUTED",e[e.EVENT_USER_BANNED=20]="EVENT_USER_BANNED",e[e.EVENT_USER_UNBANNED=21]="EVENT_USER_UNBANNED",e[e.EVENT_MESSAGE_RECEIVED=22]="EVENT_MESSAGE_RECEIVED",e[e.EVENT_MESSAGE_SENT=23]="EVENT_MESSAGE_SENT",e[e.EVENT_MESSAGE_UPDATED=24]="EVENT_MESSAGE_UPDATED",e[e.EVENT_MESSAGE_DELETED=25]="EVENT_MESSAGE_DELETED",e[e.EVENT_READ_RECEIPT_UPDATED=26]="EVENT_READ_RECEIPT_UPDATED",e[e.EVENT_DELIVERY_RECEIPT_UPDATED=27]="EVENT_DELIVERY_RECEIPT_UPDATED",e[e.EVENT_MENTION=28]="EVENT_MENTION",e[e.EVENT_REACTION_UPDATED=29]="EVENT_REACTION_UPDATED",e[e.EVENT_THREAD_INFO_UPDATED=30]="EVENT_THREAD_INFO_UPDATED",e[e.CHANNEL_BACKGROUND=1e3]="CHANNEL_BACKGROUND",e[e.CHANNEL_CHANGELOG=1001]="CHANNEL_CHANGELOG",e[e.MESSAGE_BACKGROUND=1002]="MESSAGE_BACKGROUND",e[e.MESSAGE_FILL=1003]="MESSAGE_FILL",e[e.MESSAGE_CHANGELOG=1004]="MESSAGE_CHANGELOG",e[e.LOCAL_MESSAGE_PENDING_CREATED=2e3]="LOCAL_MESSAGE_PENDING_CREATED",e[e.LOCAL_MESSAGE_FAILED=2001]="LOCAL_MESSAGE_FAILED",e[e.LOCAL_MESSAGE_CANCELED=2002]="LOCAL_MESSAGE_CANCELED",e[e.LOCAL_MESSAGE_RESEND_STARTED=2003]="LOCAL_MESSAGE_RESEND_STARTED",e[e.MESSAGE_COLLECTION_FILTER_MISMATCH=2004]="MESSAGE_COLLECTION_FILTER_MISMATCH"}(de||(de={}));var Se,Te={},Oe=function(){function e(){this._observers=[]}return e.of=function(t){return Te[t]||(Te[t]=new e),Te[t]},e.prototype.addObserver=function(e){this._observers.push(e)},e.prototype.removeObserver=function(e){var t=this._observers.indexOf(e);t>=0&&this._observers.splice(t,1)},e.prototype.send=function(e){for(var t=0,n=this._observers;t<n.length;t++)n[t].onevent(e)},e}(),we=function(){function e(e){this._source=e}return Object.defineProperty(e.prototype,"source",{get:function(){return this._source},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFromEvent",{get:function(){return this._source>=2e3},enumerable:!1,configurable:!0}),e}(),ke=function(){},Ae={NAME_ALPHABETICAL:["name","-pk"],CHRONOLOGICAL:["-createdAt","-pk"],LATEST_LAST_MESSAGE:["-lastMessageCreatedAt","-createdAt","-pk"]},Re={LATEST:["channelUrl","-createdAt","-messageId"],LATEST_UNSENT:["channelUrl","sendingStatus","createdAt"],CHILD_MESSAGE_FIRST:["channelUrl","-parentMessageId","-createdAt"]},Ie=function(){function e(e,t){this._source=e,this._sendingStatus=t}return Object.defineProperty(e.prototype,"source",{get:function(){return this._source},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFromEvent",{get:function(){return this._source>=2e3},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sendingStatus",{get:function(){return this._sendingStatus},enumerable:!1,configurable:!0}),e}(),Me=function(){function e(){this.messageType="",this.customTypes=[],this.senderUserIds=[],this.sendingStatus=null}return e.prototype.clone=function(){var t=new e,n=JSON.parse(JSON.stringify(this));return Object.keys(n).forEach(function(e){t[e]=n[e]}),t},e.prototype.match=function(e){if(this.messageType&&this.messageType!==e.messageType)return!1;if(this.customTypes.length>0&&!this.customTypes.includes(e.customType))return!1;if(this.senderUserIds.length>0){if(!e.isUserMessage()&&!e.isFileMessage())return!1;if(!this.senderUserIds.includes(e.sender.userId))return!1}return!this.sendingStatus||this.sendingStatus===e.sendingStatus},e}(),Pe=function(e,t){if(e.length>0){for(var n=0,r=e.length-1,a=Math.floor((n+r)/2);n<r;){var i=e[a].createdAt-t.createdAt;if(i>0)r=a,a=Math.floor((n+r)/2);else{if(!(i<0))return a;n=a+1,a=Math.floor((n+r)/2)}}return e[a].createdAt>t.createdAt?a:a+1}return e.length},Ue=function(e){var t=e.channel,n=e.ts,r=e.prevLimit,a=void 0===r?0:r,i=e.nextLimit,s=void 0===i?0:i,o=e.filter,l={channel:t,token:n,tokenType:"timestamp",isInclusive:!0,prevResultSize:a,nextResultSize:s,shouldReverse:!1,includeMetaArray:!0,includeReactions:!0,includeThreadInfo:!0,includeReplies:!0,includeParentMessageText:!0,showSubchannelMessagesOnly:!0};if(o){var u=o.messageType,c=o.customTypes,d=o.senderUserIds;u&&(l.messageType=u),c.length>0&&(l.customTypes=c),d.length>0&&(l.senderUserIds=d)}return l},Le=function(e,t,n){if(n.length>0){var r=n.map(function(e){return e.createdAt});t.includes("prev")&&(e.top=Math.min.apply(Math,D([e.top],r,!1))),t.includes("next")&&(e.bottom=Math.max.apply(Math,D([e.bottom],r,!1)))}},De=function(e){return new Promise(function(t,n){setTimeout(function(){return t()},e)})},xe={};!function(e){e.SUCCEEDED="succeeded",e.UNSENT="unsent"}(Se||(Se={}));var Fe,je=function(){function e(e){var t=e.iid,n=e.collections;this._iid=t,this._collections=n,xe[t]=this}return e.of=function(e){return xe[e]},e.prototype._serialize=function(e){return e.serialize()},e.prototype._deserialize=function(e){if(e){var t=P(P({},e),{messageId:parseInt(e.messageId)}),n=G.get(this._iid),r=n.UserMessage,a=n.FileMessage,i=n.AdminMessage;if("user"===t.messageType)return r.buildFromSerializedData(t);if("file"===t.messageType)return a.buildFromSerializedData(t);if("admin"===t.messageType)return i.buildFromSerializedData(t)}return null},e.deserialize=function(e,t){if(t){var n=P(P({},t),{messageId:parseInt(t.messageId)}),r=G.get(e),a=r.UserMessage,i=r.FileMessage,s=r.AdminMessage;if("user"===n.messageType)return a.buildFromSerializedData(n);if("file"===n.messageType)return i.buildFromSerializedData(n);if("admin"===n.messageType)return s.buildFromSerializedData(n)}return null},Object.defineProperty(e.prototype,"_localCacheEnabled",{get:function(){return R.get(this._iid).get("localCacheEnabled")},enumerable:!1,configurable:!0}),e.prototype._getMessageCollectionByType=function(e){return e?this._collections[e]:this._collections.succeeded},e.prototype._getIndexByCollection=function(e){return"UnsentMessage"===e.name?Re.LATEST_UNSENT:Re.LATEST},e.prototype._fetch=function(e,t,n){return U(this,void 0,void 0,function(){var r,a,i=this;return L(this,function(s){switch(s.label){case 0:return this._localCacheEnabled?(r={where:function(r){if(!r)return!1;if(e&&r.channelUrl!==e)return!1;if(n.parentMessageId&&r.parentMessageId!==n.parentMessageId)return!1;if(n.backward){if(r.createdAt<=n.token)return!1}else if(r.createdAt>=n.token)return!1;return!!t.match(i._deserialize(r))},index:n.index,backward:n.backward},[4,n.collection.query(r)]):[3,3];case 1:return[4,s.sent().fetch({limit:n.limit})];case 2:return a=s.sent(),[2,Promise.all(a.map(function(e){return U(i,void 0,void 0,function(){var t,r,a;return L(this,function(i){switch(i.label){case 0:return t=this._deserialize(e),(r=e.messageParams)&&r.file?(a=t._messageParams,[4,n.collection.getBlob(r.file)]):[3,2];case 1:a._file=i.sent(),i.label=2;case 2:return[2,t]}})})}))];case 3:return[2,[]]}})})},e.fetch=function(t,n,r){return U(this,void 0,void 0,function(){var a,i,s=this;return L(this,function(o){switch(o.label){case 0:return a={where:function(a){if(!a)return!1;if(r.backward){if(a.createdAt<=r.token)return!1}else if(a.createdAt>=r.token)return!1;return!!n.match(e.deserialize(t,a))},index:r.index,backward:r.backward},[4,r.collection.query(a)];case 1:return[4,o.sent().fetch({limit:r.limit})];case 2:return i=o.sent(),[2,Promise.all(i.map(function(n){return U(s,void 0,void 0,function(){var a,i,s;return L(this,function(o){switch(o.label){case 0:return a=e.deserialize(t,n),(i=n.messageParams)&&i.file&&se.isFileTypeBlob(i.fileType)&&"string"==typeof a._messageParams.file?(s=a._messageParams,[4,r.collection.getBlob(i.file)]):[3,2];case 1:s.file=o.sent(),o.label=2;case 2:return[2,a]}})})}))]}})})},e.prototype.get=function(e,t){return U(this,void 0,void 0,function(){var n,r;return L(this,function(a){switch(a.label){case 0:return this._localCacheEnabled?(n=this._getMessageCollectionByType(t),r=this._deserialize,[4,n.getByKey(e)]):[3,2];case 1:return[2,r.apply(this,[a.sent()])];case 2:return[2,null]}})})},e.prototype.getPreviousAndNextMessages=function(e,t,n,r,a){return void 0===r&&(r=30),U(this,void 0,void 0,function(){var i,s;return L(this,function(o){switch(o.label){case 0:return[4,this.getPreviousMessages(e,t,n,r/2,a)];case 1:return i=o.sent(),[4,this.getNextMessages(e,t,n,r/2,a)];case 2:return s=o.sent(),[2,function(e){for(var t=[],n={},r=0,a=e;r<a.length;r++){var i=a[r];i.messageId?n[i.messageId]||(n[i.messageId]=!0,t.push(i)):t.push(i)}return t}(D(D([],i,!0),s,!0))]}})})},e.prototype.getPreviousMessages=function(e,t,n,r,a){return void 0===r&&(r=30),U(this,void 0,void 0,function(){var i;return L(this,function(s){switch(s.label){case 0:return i=this._getMessageCollectionByType(a),[4,this._fetch(e,t,{token:n,limit:r,backward:!1,collection:i,index:this._getIndexByCollection(i)})];case 1:return[2,s.sent().reverse()]}})})},e.prototype.getNextMessages=function(e,t,n,r,a){return void 0===r&&(r=30),U(this,void 0,void 0,function(){var i;return L(this,function(s){switch(s.label){case 0:return i=this._getMessageCollectionByType(a),[4,this._fetch(e,t,{token:n,limit:r,backward:!0,collection:i,index:this._getIndexByCollection(i)})];case 1:return[2,s.sent()]}})})},e.prototype.getAllChildMessages=function(e,t,n){return U(this,void 0,void 0,function(){return L(this,function(r){switch(r.label){case 0:return[4,this._fetch(e.channelUrl,t,{token:Date.now(),limit:null,collection:n,backward:!1,index:Re.CHILD_MESSAGE_FIRST,parentMessageId:e.messageId})];case 1:return[2,r.sent()]}})})},e.prototype.getUnsentMessages=function(e,t){return U(this,void 0,void 0,function(){var n;return L(this,function(r){switch(r.label){case 0:return n=this._getMessageCollectionByType(Se.UNSENT),[4,this._fetch(e,t,{token:0,limit:null,collection:n,backward:!0,index:Re.LATEST_UNSENT})];case 1:return[2,r.sent()]}})})},e.prototype.getAllUnsentMessages=function(t){return U(this,void 0,void 0,function(){var n;return L(this,function(r){switch(r.label){case 0:return n=this._getMessageCollectionByType(Se.UNSENT),[4,e.fetch(this._iid,t,{token:Date.now(),limit:null,collection:n,backward:!1,index:Re.LATEST_UNSENT})];case 1:return[2,r.sent()]}})})},e.prototype.countBetween=function(e,t,n,r,a){return U(this,void 0,void 0,function(){var i,s=this;return L(this,function(o){switch(o.label){case 0:return this._localCacheEnabled?(i={where:function(a){return a.channelUrl===e&&!(n>a.createdAt||a.createdAt>r)&&t.match(s._deserialize(a))},index:Re.LATEST},[4,this._getMessageCollectionByType(a).query(i)]):[3,3];case 1:return[4,o.sent().count()];case 2:return[2,o.sent()];case 3:return[2,0]}})})},e.prototype._serializeMessages=function(e,t){return U(this,void 0,void 0,function(){var n,r,a=this;return L(this,function(i){switch(i.label){case 0:return n=this._getMessageCollectionByType(t),r=[],[4,Promise.all(e.map(function(e){return U(a,void 0,void 0,function(){var t,a;return L(this,function(i){switch(i.label){case 0:return(t=e.serialize())?((t=P({},t)).messageParams&&(t.messageParams=P({},t.messageParams)),e.sendingStatus&&"succeeded"!==e.sendingStatus?t.messageId="unsent-".concat(e.reqId):t.messageId="".concat(e.messageId),e.isFileMessage()&&e._messageParams&&e._messageParams.file&&se.isBlob(e._messageParams.file)&&se.isFileTypeBlob(e._messageParams.fileType)?[4,n.saveBlob(e._messageParams.file,e.reqId)]:[3,2]):[3,3];case 1:a=i.sent(),t.messageParams.file=a,i.label=2;case 2:r.push(t),i.label=3;case 3:return[2]}})})}))];case 1:return i.sent(),[2,r]}})})},e.prototype.upsert=function(e,t){return U(this,void 0,void 0,function(){var n,r,a,i,s,o,l,u,c,d,f,h,p,m,g;return L(this,function(y){switch(y.label){case 0:return this._localCacheEnabled?(n=Ba.getInstance(this._iid),r=this._getMessageCollectionByType(t),[4,this._serializeMessages(e,t)]):[3,13];case 1:return a=y.sent(),[4,r.upsertMany(a)];case 2:if(y.sent(),t&&t!==Se.SUCCEEDED)return[3,13];i=[],s=[],o=0,y.label=3;case 3:return o<e.length?(l=e[o]).sendingStatus&&l.sendingStatus===n.MessageSendingStatus.SUCCEEDED&&l.updatedAt>0?(c=(u=i).concat,[4,this._locallyUpdateChildMessages(l,Se.SUCCEEDED)]):[3,6]:[3,7];case 4:return i=c.apply(u,[y.sent()]),f=(d=s).concat,[4,this._locallyUpdateChildMessages(l,Se.UNSENT)];case 5:s=f.apply(d,[y.sent()]),y.label=6;case 6:return o++,[3,3];case 7:return i.length>0?(h=this._getMessageCollectionByType(Se.SUCCEEDED),[4,this._serializeMessages(i,Se.SUCCEEDED)]):[3,10];case 8:return p=y.sent(),[4,h.upsertMany(p)];case 9:y.sent(),y.label=10;case 10:return s.length>0?(m=this._getMessageCollectionByType(Se.UNSENT),[4,this._serializeMessages(s,Se.UNSENT)]):[3,13];case 11:return g=y.sent(),[4,m.upsertMany(g)];case 12:y.sent(),y.label=13;case 13:return[2]}})})},e.prototype._locallyUpdateChildMessages=function(e,t){return U(this,void 0,void 0,function(){var n,r,a;return L(this,function(i){switch(i.label){case 0:return n=new Me,r=[],a=this._getMessageCollectionByType(t),[4,this.getAllChildMessages(e,n,a)];case 1:return i.sent().forEach(function(t){t.applyParentMessage(e)&&r.push(t)}),[2,r]}})})},e.prototype.remove=function(e,t){return U(this,void 0,void 0,function(){return L(this,function(n){switch(n.label){case 0:return this._localCacheEnabled?[4,De(500)]:[3,3];case 1:return n.sent(),[4,this._getMessageCollectionByType(t).removeIf({messageId:{"/in":e.map(function(e){return"".concat(e)})}})];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.removeUnsentMessages=function(e){return U(this,void 0,void 0,function(){var t,n,r,a,i,s;return L(this,function(o){switch(o.label){case 0:return t=e.channelUrl,n=e.sendingStatus,r=e.reqIds,a=[],this._localCacheEnabled?[4,De(500)]:[3,3];case 1:return o.sent(),i=this._getMessageCollectionByType(Se.UNSENT),s={channelUrl:{"=":t}},n&&(s.sendingStatus={"=":n}),r&&r.length>0&&(s.reqId={"/in":r}),[4,i.removeIf(s)];case 2:a=o.sent(),o.label=3;case 3:return[2,a]}})})},e.prototype.removeFailedMessages=function(e,t){return U(this,void 0,void 0,function(){var n,r,a,i;return L(this,function(s){switch(s.label){case 0:return n=[],this._localCacheEnabled?[4,De(500)]:[3,3];case 1:return s.sent(),r=this._getMessageCollectionByType(Se.UNSENT),a=Ba.getInstance(this._iid),i={channelUrl:{"=":e},sendingStatus:{"=":a.MessageSendingStatus.FAILED}},t&&t.length>0&&(i.reqId={"/in":t}),[4,r.removeIf(i)];case 2:n=s.sent(),s.label=3;case 3:return[2,n]}})})},e.prototype.clearByChannelUrl=function(e){return U(this,void 0,void 0,function(){var t=this;return L(this,function(n){switch(n.label){case 0:return[4,Promise.all(Object.keys(Se).map(function(n){var r=t._getMessageCollectionByType(Se[n]),a={channelUrl:{"=":e}};return r.removeIf(a)}))];case 1:return n.sent(),[2]}})})},e.prototype.clear=function(e){return U(this,void 0,void 0,function(){return L(this,function(t){switch(t.label){case 0:return this._localCacheEnabled?[4,this._getMessageCollectionByType(e).clear()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.clearAll=function(){return U(this,void 0,void 0,function(){var e=this;return L(this,function(t){switch(t.label){case 0:return this._localCacheEnabled?[4,Promise.all(Object.keys(Se).map(function(t){return e.clear(Se[t])}))]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.clearAbove=function(e,t){return U(this,void 0,void 0,function(){return L(this,function(n){switch(n.label){case 0:return this._localCacheEnabled?[4,this._getMessageCollectionByType(t).removeIf({createdAt:{"<":e}})]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},e}(),He=function(){function e(e){var t=e.top,n=e.bottom;this.top=t,this.bottom=n}return e.prototype.include=function(e){return this.top<=e&&e<=this.bottom},e.prototype.overlap=function(e){return this.include(e.top)||this.include(e.bottom)},e}(),Ge={},Be=function(e,t){return"sendbird:".concat(e,"@channel/").concat(t,"/message/sync")},ze=function(){function e(e){var t=e.iid,n=e.channel,r=e.limit,a=void 0===r?Xe:r,i=this;this._prevSync=null,this._nextSync=null,this._syncRange=new He({top:Number.MAX_SAFE_INTEGER,bottom:-1}),this._isPrevSyncComplete=!1,this._isNextSyncComplete=!1,this._iid=t,this._channel=n,this._limit=a;var s=G.get(this._iid).BaseChannel,o=R.get(this._iid),l=o.get("currentUserId"),u=o.get("store"),c=o.get("apiClient"),d=je.of(this._iid),f=Oe.of(this._iid),h=Be(l,this._channel.url),p=o.container.concurrentCallLimit,m=o.container.backOffDelay;this._prevSync=new ut(h,function(e){return U(i,void 0,void 0,function(){var e,t,r,a,i,o,l,p,m,g=this;return L(this,function(y){switch(y.label){case 0:return e={hasNext:!0,nextParams:null},[4,u.get(h)];case 1:return(t=y.sent())&&t.isPrevSyncComplete?[3,7]:(t&&(this._syncRange=t.range,this._isPrevSyncComplete=t.isPrevSyncComplete),r=Ue({channel:this._channel,ts:this._syncRange.top,prevLimit:this._limit}),[4,c.getMessageList(r)]);case 2:return a=y.sent(),i=[],o=a.messages.map(function(e){var t=s.buildMessage(e,g._channel);return(t.isUserMessage()||t.isFileMessage())&&t._isSentByMe()&&i.push(t.reqId),t}),l=this.getMinCreatedAt(o),this._syncRange.top=Math.min(this._syncRange.top,l),this._syncRange.bottom<0&&(this._syncRange.bottom=this.getMaxCreatedAt(o)),this._isPrevSyncComplete=o.length<this._limit,$.debug("Message collection background sync fetched messages count: ",o.length),[4,d.upsert(o)];case 3:return y.sent(),i.length>0?[4,d.removeUnsentMessages({channelUrl:this._channel.url,reqIds:i})]:[3,5];case 4:y.sent(),y.label=5;case 5:return p={range:this._syncRange,isPrevSyncComplete:this._isPrevSyncComplete,isNextSyncComplete:t?t.isNextSyncComplete:this._isNextSyncComplete},[4,u.set({key:h,value:p,generation:1})];case 6:return y.sent(),m={source:de.MESSAGE_BACKGROUND,payload:{channel:n,messages:o}},f.send(m),e.hasNext=!this._isPrevSyncComplete,[3,8];case 7:$.debug("Message collection background sync has finished."),e.hasNext=!1,y.label=8;case 8:return[2,e]}})})},p,m),this._nextSync=new ut(h,function(e){return U(i,void 0,void 0,function(){var e,t,r,a,i,o,l,p,m,g=this;return L(this,function(y){switch(y.label){case 0:return e={hasNext:!0,nextParams:null},[4,u.get(h)];case 1:return(t=y.sent())?(this._syncRange=t.range,r=Ue({channel:this._channel,ts:this._syncRange.bottom,nextLimit:this._limit}),[4,c.getMessageList(r)]):[3,7];case 2:return a=y.sent(),i=[],o=a.messages.map(function(e){var t=s.buildMessage(e,g._channel);return(t.isUserMessage()||t.isFileMessage())&&t._isSentByMe()&&i.push(t.reqId),t}),l=this.getMaxCreatedAt(o),this._syncRange.bottom=Math.max(this._syncRange.bottom,l),this._isNextSyncComplete=o.length<this._limit,[4,d.upsert(o)];case 3:return y.sent(),i.length>0?[4,d.removeUnsentMessages({channelUrl:this._channel.url,reqIds:i})]:[3,5];case 4:y.sent(),y.label=5;case 5:return p={range:this._syncRange,isPrevSyncComplete:t?t.isPrevSyncComplete:this._isPrevSyncComplete,isNextSyncComplete:this._isNextSyncComplete},[4,u.set({key:h,value:p,generation:1})];case 6:y.sent(),m={source:de.MESSAGE_BACKGROUND,payload:{channel:n,messages:o}},f.send(m),e.hasNext=!this._isNextSyncComplete,y.label=7;case 7:return[2,e]}})})},p,m)}return e.of=function(t,n,r){return void 0===r&&(r=Xe),Ge[t]||(Ge[t]={}),Ge[t][n.url]||(Ge[t][n.url]=new e({iid:t,channel:n,limit:r})),Ge[t][n.url]},Object.defineProperty(e.prototype,"priority",{set:function(e){this._prevSync.priority=e,this._nextSync.priority=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this._syncRange},enumerable:!1,configurable:!0}),e.prototype.resume=function(){$.debug("Message collection background sync has resumed."),this._isPrevSyncComplete||this._prevSync.resume(null),this._isNextSyncComplete||this._nextSync.resume(null)},e.prototype.pause=function(){$.debug("Message collection background sync has paused."),this._prevSync.stop(),this._nextSync.stop()},e.prototype.getMinCreatedAt=function(e){var t=Number.MAX_SAFE_INTEGER;return e.forEach(function(e){var n=e.createdAt;n<t&&(t=n)}),t},e.prototype.getMaxCreatedAt=function(e){var t=0;return e.forEach(function(e){var n=e.createdAt;n>t&&(t=n)}),t},e}(),Ve={},qe=function(e,t){return"sendbird:".concat(e,"@channel/").concat(t,"/message/changelogs")},Ye=function(){function e(e){var t=e.iid,n=e.channel,r=this;this._token=0,this._sync=null,this._iid=t,this._channel=n;var a=G.get(this._iid).BaseChannel,i=R.get(this._iid),s=i.get("currentUserId"),o=i.get("store"),l=i.get("apiClient"),u=i.container.localCacheEnabled,c=je.of(this._iid),d=Oe.of(this._iid),f=qe(s,this._channel.url);this._sync=new ut(f,function(e){return U(r,void 0,void 0,function(){var e,t,r,s,h,p,m,g,y,_=this;return L(this,function(v){switch(v.label){case 0:return e={hasNext:!0,nextParams:""},u?[4,o.get(f)]:[3,2];case 1:return r=v.sent(),[3,3];case 2:r=null,v.label=3;case 3:return t=r,this._token=t?t.token:i.get("firstConnectedAt")/1e3,s={channelUrl:this._channel.url,isOpenChannel:this._channel.isOpenChannel(),includeMetaArray:!1,includeReactions:!0,includeReplies:!0,includeParentMessageText:!0,includeThreadInfo:!0},"number"==typeof this._token?s.timestamp=this._token:s.token=this._token,[4,l.getMessageChangeLogs(s)];case 4:return h=v.sent(),p=h.updated.map(function(e){return a.buildMessage(e,_._channel)}),m={updatedMessages:p,deletedMessageIds:h.deleted.map(function(e){return parseInt(e.message_id)})},e.hasNext=h.has_more,e.nextParams=this._token=h.next,u?(g=[],p.forEach(function(e){(e.isUserMessage()||e.isFileMessage())&&e._isSentByMe()&&g.push(e.reqId)}),g.length>0?[4,c.removeUnsentMessages({channelUrl:this._channel.url,reqIds:g})]:[3,6]):[3,10];case 5:v.sent(),v.label=6;case 6:return[4,c.upsert(p)];case 7:return v.sent(),[4,c.remove(m.deletedMessageIds)];case 8:return v.sent(),[4,o.set({key:f,value:{token:this._token},generation:1})];case 9:v.sent(),v.label=10;case 10:return $.debug("Message collection changelog sync update messages count: ",m.updatedMessages.length),$.debug("Message collection changelog sync deleted message ids count: ",m.deletedMessageIds.length),y={source:de.MESSAGE_CHANGELOG,payload:P({channel:n},m)},d.send(y),[2,e]}})})})}return e.of=function(t,n){return Ve[t]||(Ve[t]={}),Ve[t][n.url]||(Ve[t][n.url]=new e({iid:t,channel:n})),Ve[t][n.url]},e.prototype.resume=function(){$.debug("Message collection changelog sync has resumed."),this._sync.resume(null,!0)},e.prototype.pause=function(){$.debug("Message collection changelog sync has paused."),this._sync.stop()},e}();!function(e){e.CACHE_AND_REPLACE_BY_API="cache_and_replace_by_api",e.CACHE_ONLY="cache_only"}(Fe||(Fe={}));var Ke,We=function(){function e(){this._onCacheResult=null,this._onApiResult=null}return e.prototype.invokeCacheResult=function(e,t){this._onCacheResult(e,t)},e.prototype.invokeApiResult=function(e,t){this._onApiResult(e,t)},e.prototype.onCacheResult=function(e){return this._onCacheResult=e,this},e.prototype.onApiResult=function(e){return this._onApiResult=e,this},e}(),Qe=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)})},Je=function(){function e(){}return e.prototype.isNetworkConnected=function(){return!("undefined"==typeof navigator||!navigator.onLine)},e.ready=function(){return U(this,void 0,void 0,function(){return L(this,function(e){return"undefined"!=typeof navigator&&navigator&&"boolean"==typeof navigator.onLine?[2,navigator.onLine]:[2,new Promise(function(e,t){o.default.get("https://www.google.com").then(function(){return e(!0)}).catch(function(){return e(!1)})})]})})},e}();!function(e){e[e.BACKGROUND_SYNC_CLOSE=0]="BACKGROUND_SYNC_CLOSE",e[e.BACKGROUND_SYNC_OPEN=1]="BACKGROUND_SYNC_OPEN",e[e.FILL=2]="FILL",e[e.USER_CALL=3]="USER_CALL"}(Ke||(Ke={}));var $e,Xe=100,Ze=new He({top:Number.MAX_SAFE_INTEGER,bottom:0}),et=new Map,tt=function(e){return"sendbird@message/fill/".concat(e,"/").concat(Qe())},nt=function(){function e(e){var t=e.iid,n=e.channel,r=e.startingPoint,a=e.filter,i=e.limit,s=void 0===i?100:i,o=this;this._hugeGapCheckTimer=null,this._messages=[],this._syncRange=new He(P({},Ze)),this._hasPrevious=!0,this._hasNext=!0,this._unsentMessages=[],this._iid=t,this._channel=n,this._startingPoint=r,this._filter=a,this._limit=s,this._syncLimit=Math.max(s,Xe),this._eventObserver={onevent:function(e){return U(o,void 0,void 0,function(){return L(this,function(t){switch(t.label){case 0:return[4,this._handleEvent(e)];case 1:return t.sent(),[2]}})})}},this._eventHandler={onMessagesAdded:ke,onMessagesUpdated:ke,onMessagesDeleted:ke,onChannelUpdated:ke,onChannelDeleted:ke,onHugeGapDetected:ke};var l=R.get(this._iid);this._localCacheEnabled=l.container.localCacheEnabled,this._localCacheEnabled&&(this._backgroundSync=ze.of(this._iid,this._channel,this._syncLimit),this._backgroundSync.resume()),this._changelogSync=Ye.of(this._iid,this._channel),this._connectionObserver={onConnect:function(){o._checkHugeGap(),o._localCacheEnabled&&o._backgroundSync.resume(),o._changelogSync.resume()},onDisconnect:function(){return U(o,void 0,void 0,function(){return L(this,function(e){switch(e.label){case 0:return[4,Je.ready()];case 1:return e.sent()||(this._previousFillSync.stop(),this._nextFillSync.stop(),this._localCacheEnabled&&this._backgroundSync.pause(),this._changelogSync.pause()),[2]}})})}},this._previousFillSync=new ut(tt("prev"),function(e){return U(o,void 0,void 0,function(){var t,n,r;return L(this,function(a){switch(a.label){case 0:return[4,this._getRemoteMessages({ts:e,prevLimit:this._syncLimit})];case 1:return(t=a.sent()).length>0?(n=Math.min.apply(Math,t.map(function(e){return e.createdAt})),this._syncRange.top=Math.min(this._syncRange.top,n),r=new Ie(de.MESSAGE_FILL,t[0].sendingStatus),this._addMessagesToView(t,{context:r}),[2,{hasNext:t.length<this._syncLimit||this._syncRange.top>=n,nextParams:this._syncRange.top}]):[2,{hasNext:!1,nextParams:0}]}})})}),this._nextFillSync=new ut(tt("next"),function(e){return U(o,void 0,void 0,function(){var t,n,r;return L(this,function(a){switch(a.label){case 0:return[4,this._getRemoteMessages({ts:e,nextLimit:this._syncLimit})];case 1:return(t=a.sent()).length>0?(n=Math.max.apply(Math,t.map(function(e){return e.createdAt})),this._syncRange.bottom=Math.max(this._syncRange.bottom,n),r=new Ie(de.MESSAGE_FILL,t[0].sendingStatus),this._addMessagesToView(t,{context:r}),[2,{hasNext:t.length<this._syncLimit||this._syncRange.bottom<=n,nextParams:this._syncRange.bottom}]):[2,{hasNext:!1,nextParams:0}]}})})}),he.of(this._iid).addObserver(this._connectionObserver)}return e.prototype._handleEvent=function(e){var t=e.source,n=e.payload,r=void 0===n?{}:n,a=Ba.getInstance(this._iid);switch(e.source){case de.MESSAGE_BACKGROUND:break;case de.MESSAGE_CHANGELOG:var i=r,s=i.channel,o=i.updatedMessages,l=i.deletedMessageIds;if(s&&s.url===this._channel.url){if(o&&o.length>0){this._removeMatchingUnsentMessagesFromView(o);var u=new Ie(t,o[0].sendingStatus);this._addMessagesToView(o,{context:u})}l&&l.length>0&&(h=this._removeMessagesFromView(l,{})).length>0&&(u=new Ie(t,h[0].sendingStatus),this._eventHandler.onMessagesDeleted(u,this._channel,h))}break;case de.LOCAL_MESSAGE_PENDING_CREATED:case de.LOCAL_MESSAGE_RESEND_STARTED:case de.LOCAL_MESSAGE_CANCELED:var c=r,d=(s=c.channel,c.message);u=new Ie(t,d.sendingStatus),s.url===this._channel.url&&this._upsertUnsentMessagesToView([d],{context:u});break;case de.EVENT_MESSAGE_SENT:var f=r;if(s=f.channel,d=f.message,s.url===this._channel.url){var h=this._removeMatchingUnsentMessagesFromView([d]);if(this._hasNext)h.length>0&&(u=new Ie(t,h[0].sendingStatus),this._eventHandler.onMessagesDeleted(u,s,h));else{this._addMessagesToView([d],{});var u=new Ie(t,d.sendingStatus);h.length>0?this._eventHandler.onMessagesUpdated(u,s,[d]):this._eventHandler.onMessagesAdded(u,s,[d])}}break;case de.EVENT_MESSAGE_RECEIVED:var p=r;s=p.channel,d=p.message,s.url!==this._channel.url||this._hasNext||(u=new Ie(t,d.sendingStatus),this._addMessagesToView([d],{context:u}));break;case de.LOCAL_MESSAGE_FAILED:var m=r;s=m.channel,d=m.message,s.url===this._channel.url&&d.sendingStatus===a.MessageSendingStatus.FAILED&&(u=new Ie(t,d.sendingStatus),this._upsertUnsentMessagesToView([d],{context:u}));break;case de.EVENT_MESSAGE_UPDATED:var g=r;s=g.channel,d=g.message,s.url===this._channel.url&&(u=new Ie(t,d.sendingStatus),this._addMessagesToView([d],{context:u,isUpdateOnly:!0}));break;case de.EVENT_MESSAGE_DELETED:var y=r,_=(s=y.channel,y.messageId);s.url===this._channel.url&&(et.delete(_),(h=this._removeMessagesFromView([_],{})).length>0&&(u=new Ie(t,h[0].sendingStatus),this._eventHandler.onMessagesDeleted(u,this._channel,h)));break;case de.EVENT_DELIVERY_RECEIPT_UPDATED:case de.EVENT_READ_RECEIPT_UPDATED:if((s=r.channel).isGroupChannel()){o=[];for(var v=0,E=this._messages;v<E.length;v++)d=E[v],(et.get(d.messageId)||0)!==(w=this.channel.getUnreadMemberCount(d))&&(o.push(d),w>0?et.set(d.messageId,w):et.delete(d.messageId));o.length>0&&(u=new Ie(t,o[0].sendingStatus),this._eventHandler.onMessagesUpdated(u,s,o))}break;case de.EVENT_USER_LEFT:var b=R.get(this._iid),C=r,N=(s=C.channel,C.user),S=b.get("currentUserId");if(N.userId!==S){o=[];for(var T=0,O=this._messages;T<O.length;T++){var w;d=O[T],(et.get(d.messageId)||0)!==(w=this.channel.getUnreadMemberCount(d))&&(o.push(d),w>0?et.set(d.messageId,w):et.delete(d.messageId))}o.length>0&&(u=new Ie(t,o[0].sendingStatus),this._eventHandler.onMessagesUpdated(u,s,o))}else u=new we(t),this._eventHandler.onChannelDeleted(u,s.url);break;case de.EVENT_CHANNEL_CHANGED:case de.EVENT_USER_RECEIVED_INVITATION:case de.EVENT_USER_JOINED:case de.EVENT_CHANNEL_FROZEN:case de.EVENT_CHANNEL_UNFROZEN:case de.EVENT_CHANNEL_HIDDEN:case de.EVENT_CHANNEL_UNHIDDEN:case de.EVENT_USER_MUTED:case de.EVENT_USER_UNMUTED:case de.EVENT_TYPING_STATUS_UPDATED:case de.EVENT_OPERATOR_UPDATED:case de.EVENT_CHANNEL_METADATA_UPDATED:case de.EVENT_CHANNEL_METADATA_DELETED:case de.EVENT_CHANNEL_METACOUNTER_UPDATED:case de.EVENT_CHANNEL_METACOUNTER_DELETED:s=r.channel,u=new we(t),this._eventHandler.onChannelUpdated(u,s);break;case de.EVENT_CHANNEL_DELETED:s=r.channel,u=new we(t),this._eventHandler.onChannelDeleted(u,s.url)}},e.prototype._createRemoteMessageParams=function(e){var t=e.prevLimit,n=void 0===t?0:t,r=e.nextLimit,a=void 0===r?0:r,i=new(0,G.get(this._iid).MessageListParams);return i.isInclusive=!0,i.prevResultSize=n,i.nextResultSize=a,i.includeMetaArray=!0,i.includeReactions=!0,i.includeThreadInfo=!0,i.includeReplies=!0,i.includeParentMessageText=!0,i},e.prototype._getRemoteMessages=function(e){var t=e.ts,n=e.prevLimit,r=void 0===n?0:n,a=e.nextLimit,i=void 0===a?0:a;return U(this,void 0,void 0,function(){var e,n,a,s;return L(this,function(o){switch(o.label){case 0:return e=[],r>0?(a=this._createRemoteMessageParams({prevLimit:r,nextLimit:0}),[4,this._channel.getMessagesByTimestamp(t,a)]):[3,2];case 1:n=o.sent(),e=e.concat(n),this._hasPrevious=n.length>=r,o.label=2;case 2:return i>0?(a=this._createRemoteMessageParams({prevLimit:0,nextLimit:i}),[4,this._channel.getMessagesByTimestamp(t,a)]):[3,4];case 3:s=o.sent(),e=e.concat(s),this._hasNext=s.length>=i,o.label=4;case 4:return e.length>0?[4,this._upsertRemotelyFetchedMessages(e)]:[3,6];case 5:o.sent(),o.label=6;case 6:return[2,e]}})})},e.prototype._upsertRemotelyFetchedMessages=function(e,t){return void 0===t&&(t={}),U(this,void 0,void 0,function(){var n,r,a,i;return L(this,function(s){switch(s.label){case 0:return n=t.context,r=void 0===n?null:n,a=je.of(this._iid),i=e.map(function(e){return e.reqId}),[4,a.removeUnsentMessages({channelUrl:this.channel.url,reqIds:i})];case 1:return s.sent(),this._removeMatchingUnsentMessagesFromView(e,{context:r}),[4,a.upsert(e,Se.SUCCEEDED)];case 2:return s.sent(),this._addMessagesToView(e,{context:r}),[2]}})})},e.prototype._checkHugeGap=function(){return U(this,void 0,void 0,function(){var e,t,n,r,a,i,s,o,l,u,c,d,f,h,p,m=this;return L(this,function(g){switch(g.label){case 0:return g.trys.push([0,12,,13]),e=G.get(this._iid).BaseChannel,t=R.get(this._iid),n=t.get("apiClient"),this._messages.length>0?(r=je.of(this._iid),a={from:this._messages[0].createdAt,to:Math.min(this._syncRange.top,this._messages[this._messages.length-1].createdAt),cachedCount:0},i=a,[4,r.countBetween(this._channel.url,this._filter,a.from,a.to)]):[3,8];case 1:return i.cachedCount=g.sent(),s={from:Math.max(this._syncRange.bottom,this._messages[0].createdAt),to:this.hasNext?this._messages[this._messages.length-1].createdAt:Number.MAX_SAFE_INTEGER,cachedCount:0},o=s,[4,r.countBetween(this._channel.url,this._filter,s.from,s.to)];case 2:return o.cachedCount=g.sent(),l={iid:this._iid,channelUrl:this._channel.url,channelType:this._channel.channelType,filter:this._filter,previous:a,next:s},[4,n.checkMessageHugeGap(P(P({},l),l.filter))];case 3:return u=g.sent(),(c={isHugeGap:!!u.is_huge_gap,previousMessages:u.prev_messages.map(function(t){return e.buildMessage(t,m._channel)})||[],previousHasMore:!!u.prev_hasmore,nextMessages:u.next_messages.map(function(t){return e.buildMessage(t,m._channel)})||[],nextHasMore:!!u.next_hasmore}).isHugeGap?[3,6]:(f=D(D([],c.previousMessages,!0),c.nextMessages,!0),$.debug("Message collection non-huge gap message fill count: ",f.length),f.length>0?(h=new Ie(de.MESSAGE_FILL,f[0].sendingStatus),[4,this._upsertRemotelyFetchedMessages(f,{context:h})]):[3,5]);case 4:g.sent(),this._extendSyncRange(["prev"],c.previousMessages),this._extendSyncRange(["next"],c.nextMessages),c.previousHasMore&&this._previousFillSync.run(this._syncRange.top),c.nextHasMore&&this._nextFillSync.run(this._syncRange.bottom),g.label=5;case 5:return[3,7];case 6:setTimeout(function(){return m._eventHandler.onHugeGapDetected()},10),g.label=7;case 7:return[3,11];case 8:return d=Math.floor(this._syncLimit/2),[4,this._getRemoteMessages({ts:this._startingPoint,prevLimit:d,nextLimit:d})];case 9:return(f=g.sent()).length>0?(h=new Ie(de.MESSAGE_FILL,f[0].sendingStatus),[4,this._upsertRemotelyFetchedMessages(f,{context:h})]):[3,11];case 10:g.sent(),this._extendSyncRange(["prev","next"],this._messages),g.label=11;case 11:return[3,13];case 12:return p=g.sent(),$.warn("Message collection huge gap checker error: ",p),this._hugeGapCheckTimer=setTimeout(function(){m._hugeGapCheckTimer=null,m._checkHugeGap()},3e3),[3,13];case 13:return[2]}})})},e.prototype._extendSyncRange=function(e,t){if(t.length>0){var n=t.map(function(e){return e.createdAt});e.includes("prev")&&(this._syncRange.top=Math.min.apply(Math,D([this._syncRange.top],n,!1))),e.includes("next")&&(this._syncRange.bottom=Math.max.apply(Math,D([this._syncRange.bottom],n,!1)))}},e.prototype._updateChildMessagesInView=function(e){var t=[];return this._messages.forEach(function(n){n.applyParentMessage(e)&&t.push(n)}),t},e.prototype._addMessagesToView=function(e,t){void 0===t&&(t={});for(var n=t.context,r=void 0===n?null:n,a=t.isUpdateOnly,i=void 0!==a&&a,s=Ba.getInstance(this._iid),o=[],l=[],u=[],c=0,d=e;c<d.length;c++){var f=d[c];if(f.sendingStatus===s.MessageSendingStatus.SUCCEEDED){var h=this._messages.map(function(e){return e.messageId}).indexOf(f.messageId);if(this._filter.match(f)){var p=this._channel.getUnreadMemberCount(f);if(et.set(f.messageId,p),h>=0){if(l.push(f),this._messages[h]=f,f.updatedAt>0){var m=this._updateChildMessagesInView(f);l=l.concat(m)}}else if(!i){var g=Pe(this._messages,f);o.push(f),this._messages.splice(g,0,f)}}else h>=0&&(u.push(f),this._messages.splice(h,1))}}r&&(o.length>0&&this._eventHandler.onMessagesAdded(r,this._channel,o),l.length>0&&this._eventHandler.onMessagesUpdated(r,this._channel,l),u.length>0&&this._eventHandler.onMessagesDeleted(r,this._channel,u))},e.prototype._removeMessagesFromView=function(e,t){void 0===t&&(t={});for(var n=t.context,r=void 0===n?null:n,a=[],i=0,s=e;i<s.length;i++){var o=s[i],l=this._messages.map(function(e){return e.messageId}).indexOf(o);if(l>=0){var u=this._messages[l];a.push(u),this._messages.splice(l,1)}}return r&&a.length>0&&this._eventHandler.onMessagesDeleted(r,this._channel,a),a},e.prototype._upsertUnsentMessagesToView=function(e,t){void 0===t&&(t={});for(var n=t.context,r=void 0===n?null:n,a=[],i=[],s=[],o=0,l=e;o<l.length;o++){var u=l[o],c=this._unsentMessages.map(function(e){return e.reqId}).indexOf(u.reqId);if(this._filter.match(u))if(c>=0)i.push(u),this._unsentMessages[c]=u;else{var d=Pe(this._unsentMessages,u);a.push(u),this._unsentMessages.splice(d,0,u)}else c>=0&&(this._unsentMessages.splice(c,1),s.push(u))}r&&(a.length>0&&this._eventHandler.onMessagesAdded(r,this._channel,a),i.length>0&&this._eventHandler.onMessagesUpdated(r,this._channel,i),s.length>0&&this._eventHandler.onMessagesDeleted(r,this._channel,s))},e.prototype._removeMatchingUnsentMessagesFromView=function(e,t){void 0===t&&(t={});for(var n=t.context,r=void 0===n?null:n,a=[],i=0,s=e;i<s.length;i++){var o=s[i];if((o.isUserMessage()||o.isFileMessage())&&o._isSentByMe()){var l=this._unsentMessages.map(function(e){return e.reqId}).indexOf(o.reqId);if(l>=0){var u=this._unsentMessages[l];a.push(u),this._unsentMessages.splice(l,1)}}}return r&&a.length>0&&this._eventHandler.onMessagesDeleted(r,this._channel,a),a},e.prototype._removeFailedMessagesFromView=function(e){var t=Ba.getInstance(this._iid),n=[],r=[],a=this._unsentMessages.map(function(e){return e.reqId});if(e)for(var i=0,s=e;i<s.length;i++){var o=s[i],l=a.indexOf(o.reqId);l>=0&&this._unsentMessages[l].sendingStatus===t.MessageSendingStatus.FAILED?n.push(this._unsentMessages[l]):r.push(this._unsentMessages[l])}else for(var u=0,c=this._unsentMessages;u<c.length;u++)(o=c[u]).sendingStatus===t.MessageSendingStatus.FAILED?n.push(o):r.push(o);return this._unsentMessages=r,n},e._processNextAutoResend=function(e){if(e.isCacheEnabled&&!e.isInBackground&&e.getConnectionState()===e.ConnectionState.OPEN)try{var t=e.getAutoResendQueue();if(t.length>0){e.getIsProcessingAutoResend()||($.debug("Auto-resend queue started."),e.setIsProcessingAutoResend(!0));var n=t[0];$.debug("Processing auto-resend for message request id: ",n.reqId),G.get(e._iid).GroupChannel.getChannel(n.channelUrl,k.INTERNAL_CALL,function(t,r){var a;if(e.getErrorFirstCallback()&&(r=(a=[t,r])[0],t=a[1]),r)throw r;n.isUserMessage()?t._autoResendUserMessage(n):n.isFileMessage()&&t._autoResendFileMessage(n)})}else $.debug("Auto-resend queue finished."),e.setIsProcessingAutoResend(!1)}catch(t){$.warn("Process auto-resend error: ",t),e.setIsProcessingAutoResend(!1)}},e._completeCurrentAndProcessNextAutoResend=function(e,t){if(e.isCacheEnabled&&t._isAutoResendRegistered){var n=e.getAutoResendQueue();if(t.sendingStatus===e.MessageSendingStatus.SUCCEEDED||t.sendingStatus===e.MessageSendingStatus.FAILED&&!ie.isAutoResendableError(t.errorCode))n.length>0&&t.reqId===n[0].reqId&&(n.shift(),this._processNextAutoResend(e));else if(t.sendingStatus===e.MessageSendingStatus.PENDING){if(n.length>0&&n.map(function(e){return e.reqId}).indexOf(t.reqId)>-1)return;n.push(t),!e.getIsProcessingAutoResend()&&n.length>0&&this._processNextAutoResend(e)}}},e._processPendingMessages=function(e){return U(this,void 0,void 0,function(){var t,n,r,a,i,s,o,l,u,c,d,f;return L(this,function(h){switch(h.label){case 0:return t=je.of(e._iid),n=Oe.of(e._iid),(r=new Me).sendingStatus=e.MessageSendingStatus.PENDING,[4,t.getAllUnsentMessages(r)];case 1:a=h.sent(),i=0,s=a,h.label=2;case 2:return i<s.length?(o=s[i],[4,e.GroupChannel.getChannel(o.channelUrl)]):[3,10];case 3:return l=h.sent(),o._isAutoResendRegistered?(u=(new Date).getTime(),c=o.createdAt+2592e5,u<=c?(-1===(d=e.getAutoResendQueue()).map(function(e){return e.reqId}).indexOf(o.reqId)&&d.push(o),[3,6]):[3,4]):[3,7];case 4:return $.debug("Auto-resend registered pending messaged expired. Expiration date: ",new Date(c).toLocaleString()),(f=o._clone()).sendingStatus=e.MessageSendingStatus.FAILED,f.requestState=e.MessageRequestState.FAILED,f._isAutoResendRegistered=!1,[4,t.upsert([f],Se.UNSENT)];case 5:h.sent(),n.send({source:de.LOCAL_MESSAGE_FAILED,payload:{channel:l,message:f}}),h.label=6;case 6:return[3,9];case 7:return $.debug("Cached pending message is not auto-resend registered. Changing its sending status to failed: ",o.reqId),(f=o._clone()).sendingStatus=e.MessageSendingStatus.FAILED,f.requestState=e.MessageRequestState.FAILED,f.errorCode=F.ACK_TIMEOUT,[4,t.upsert([f],Se.UNSENT)];case 8:h.sent(),n.send({source:de.LOCAL_MESSAGE_FAILED,payload:{channel:l,message:f}}),h.label=9;case 9:return i++,[3,2];case 10:return[2]}})})},Object.defineProperty(e.prototype,"channel",{get:function(){return this._channel},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"succeededMessages",{get:function(){return this._messages},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pendingMessages",{get:function(){var e=Ba.getInstance(this._iid);return this._unsentMessages.filter(function(t){return t.sendingStatus===e.MessageSendingStatus.PENDING})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"failedMessages",{get:function(){var e=Ba.getInstance(this._iid);return this._unsentMessages.filter(function(t){return t.sendingStatus===e.MessageSendingStatus.FAILED})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"startingPoint",{get:function(){return this._startingPoint},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPrevious",{get:function(){return this._hasPrevious},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasNext",{get:function(){return this._hasNext},enumerable:!1,configurable:!0}),e.prototype.initialize=function(e){var t=this,n=new We;this._messages=[],this._syncRange=new He(P({},Ze)),this._hasNext=!0,this._hasPrevious=!0;var r=Math.floor(this._limit/2),a=je.of(this._iid),i=Oe.of(this._iid);switch(e){case Fe.CACHE_ONLY:a.getPreviousAndNextMessages(this._channel.url,this._filter,this._startingPoint).then(function(e){return U(t,void 0,void 0,function(){var t;return L(this,function(r){switch(r.label){case 0:return[4,a.getUnsentMessages(this._channel.url,this._filter)];case 1:return t=r.sent(),this._upsertUnsentMessagesToView(t),this._addMessagesToView(e),n.invokeCacheResult(null,e),[2]}})})}).catch(function(e){n.invokeCacheResult(e,null)}).finally(function(){i.addObserver(t._eventObserver)});break;case Fe.CACHE_AND_REPLACE_BY_API:a.getPreviousAndNextMessages(this._channel.url,this._filter,this._startingPoint).then(function(e){return U(t,void 0,void 0,function(){var t;return L(this,function(r){switch(r.label){case 0:return[4,a.getUnsentMessages(this._channel.url,this._filter)];case 1:return t=r.sent(),this._upsertUnsentMessagesToView(t),this._addMessagesToView(e),n.invokeCacheResult(null,e),[2]}})})}).catch(function(e){n.invokeCacheResult(e,null)}).finally(function(){t._getRemoteMessages({ts:t._startingPoint,prevLimit:r,nextLimit:r}).then(function(e){t._messages=[],t._addMessagesToView(e),t._extendSyncRange(["prev","next"],t._messages),n.invokeApiResult(null,e)}).catch(function(e){n.invokeApiResult(e,null)}).finally(function(){i.addObserver(t._eventObserver)})})}return n},e.prototype.loadPrevious=function(){return U(this,void 0,void 0,function(){var e,t;return L(this,function(n){switch(n.label){case 0:return this._hasPrevious?(e=this._messages.length>0?Math.min.apply(Math,this._messages.map(function(e){return e.createdAt})):Number.MAX_SAFE_INTEGER,[4,Je.ready()]):[3,5];case 1:return n.sent()?[3,3]:($.debug("Message collection loadPrevious() from the cache."),[4,je.of(this._iid).getPreviousMessages(this._channel.url,this._filter,e,this._limit)]);case 2:return t=n.sent(),this._addMessagesToView(t),[2,t];case 3:return $.debug("Message collection loadPrevious() from the server."),[4,this._getRemoteMessages({ts:e,prevLimit:this._limit})];case 4:return t=n.sent(),this._addMessagesToView(t),Le(this._syncRange,["prev"],this._messages),[2,t];case 5:return[2,[]]}})})},e.prototype.loadNext=function(){return U(this,void 0,void 0,function(){var e,t;return L(this,function(n){switch(n.label){case 0:return this._hasNext?(e=this._messages.length>0?Math.max.apply(Math,this._messages.map(function(e){return e.createdAt})):0,[4,Je.ready()]):[3,5];case 1:return n.sent()?[3,3]:($.debug("Message collection loadNext() from the cache."),[4,je.of(this._iid).getNextMessages(this._channel.url,this._filter,e,this._limit)]);case 2:return t=n.sent(),this._addMessagesToView(t),[2,t];case 3:return $.debug("Message collection loadNext() from the server."),[4,this._getRemoteMessages({ts:e,nextLimit:this._limit})];case 4:return t=n.sent(),this._addMessagesToView(t),Le(this._syncRange,["next"],this._messages),[2,t];case 5:return[2,[]]}})})},e.prototype.removeFailedMessages=function(e){return U(this,void 0,void 0,function(){var t,n,r,a;return L(this,function(i){switch(i.label){case 0:return t=Ba.getInstance(this._iid),n=je.of(this._iid),r=e.map(function(e){return e.reqId}),[4,n.removeUnsentMessages({channelUrl:this.channel.url,sendingStatus:t.MessageSendingStatus.FAILED,reqIds:r})];case 1:return a=i.sent(),this._removeFailedMessagesFromView(e),[2,a]}})})},e.prototype.removeAllFailedMessages=function(){return U(this,void 0,void 0,function(){var e;return L(this,function(t){switch(t.label){case 0:return e=Ba.getInstance(this._iid),[4,je.of(this._iid).removeUnsentMessages({channelUrl:this.channel.url,sendingStatus:e.MessageSendingStatus.FAILED})];case 1:return t.sent(),this._removeFailedMessagesFromView(),[2]}})})},e.prototype.dispose=function(){this._localCacheEnabled&&(this._previousFillSync.stop(),this._nextFillSync.stop(),this._backgroundSync.pause()),this._changelogSync.pause(),he.of(this._iid).removeObserver(this._connectionObserver),this._hugeGapCheckTimer&&(clearTimeout(this._hugeGapCheckTimer),this._hugeGapCheckTimer=null),Oe.of(this._iid).removeObserver(this._eventObserver)},e.prototype.setMessageCollectionHandler=function(e){this._eventHandler=e},e}(),rt=new Map,at=new Map,it=new Map,st=function(){function e(t){var n=t.key,r=t.concurrentCallLimit,a=void 0===r?2:r,i=t.backOffDelay,s=void 0===i?0:i,o=this;this._holdersKey=e.createSemaphoreHoldersKey(n),this._resolversKey=e.createSemaphoreResolversKey(n),this._chainProcessStateKey=e.createChainProcessStateKey(n),this._numLocks=a,this._backOffDelay=s,this._localAcquiredKeys=[],this._localResolversData=[],ee()?(rt[this._holdersKey]||(rt[this._holdersKey]=[]),at[this._resolversKey]||(at[this._resolversKey]=[])):(window.addEventListener("storage",function(e){return U(o,void 0,void 0,function(){var t,n;return L(this,function(r){if(this._localResolversData.length>0&&this.numLocksAvailable>0&&!this._isProcessChainAcquireRunning()&&this._hasHighestPriorityResolver())switch(e.key){case this._holdersKey:if(t=JSON.parse(e.oldValue),n=JSON.parse(e.newValue),!t||!n||n.length>=t.length)return[2];this._processChainResolve();break;case this._chainProcessStateKey:if(JSON.parse(e.newValue))return[2];this._processChainResolve();break;default:return[2]}return[2]})})}),window.addEventListener("beforeunload",function(){var e=o._getLocalResolversData(),t=o._localResolversData.map(function(e){return e.key}),n=e.filter(function(e){return t.indexOf(e.key)<0});n.length>0?window.localStorage.setItem(o._resolversKey,JSON.stringify(n)):window.localStorage.removeItem(o._resolversKey),o._localAcquiredKeys.forEach(function(e){return o.release(e)})}))}return e.createSemaphoreHoldersKey=function(e){return"collection@semaphore_holders_for:"+e},e.createSemaphoreResolversKey=function(e){return"collection@semaphore_resolvers_for:"+e},e.createChainProcessStateKey=function(e){return"collection@semaphore_chain_process_state_for:"+e},Object.defineProperty(e.prototype,"numLocks",{get:function(){return this._numLocks},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backOffDelay",{get:function(){return this._backOffDelay},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"numLocksAvailable",{get:function(){if(ee())return this.numLocks-rt[this._holdersKey].length;var e=this._getLocalHoldersData();return this.numLocks-e.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"waitCount",{get:function(){return ee()?at[this._resolversKey].length:this._getLocalResolversData().length},enumerable:!1,configurable:!0}),e.prototype._hasHighestPriorityResolver=function(){var e=this._getLocalResolversData();return e.length>0&&this._localResolversData.map(function(e){return e.key}).indexOf(e[0].key)>=0},e.prototype._isProcessChainAcquireRunning=function(){if(ee())return it[this._chainProcessStateKey];var e=window.localStorage[this._chainProcessStateKey];return void 0!==e&&JSON.parse(e)},e.prototype._setProcessChainAcquireRunning=function(e){ee()?it[this._chainProcessStateKey]=e:e?window.localStorage.setItem(this._chainProcessStateKey,JSON.stringify(e)):window.localStorage.removeItem(this._chainProcessStateKey)},e.prototype._processChainResolve=function(){return U(this,void 0,void 0,function(){var e;return L(this,function(t){switch(t.label){case 0:return this.waitCount>0&&this.numLocksAvailable>0&&!this._isProcessChainAcquireRunning()?(this._setProcessChainAcquireRunning(!0),this._tryResolve()?[4,(n=this._backOffDelay,U(void 0,void 0,void 0,function(){return L(this,function(e){return[2,new Promise(function(e){return setTimeout(e,n)})]})}))]:[3,2]):[3,3];case 1:t.sent(),t.label=2;case 2:this._setProcessChainAcquireRunning(!1),ee()?this._processChainResolve():(e=new StorageEvent("storage",{key:this._chainProcessStateKey,oldValue:JSON.stringify(!0),newValue:JSON.stringify(!1)}),dispatchEvent(e)),t.label=3;case 3:return[2]}var n})})},e.prototype.acquire=function(e){return void 0===e&&(e=Ke.BACKGROUND_SYNC_CLOSE),U(this,void 0,void 0,function(){var t,n=this;return L(this,function(r){return ee()?[2,new Promise(function(t){var r={key:Qe(),resolver:function(e){return t(e)},priority:e};switch(e){case Ke.USER_CALL:case Ke.FILL:case Ke.BACKGROUND_SYNC_OPEN:for(var a=at[n._resolversKey],i=-1,s=0;s<a.length&&i<0;s++)e>a[s].priority&&(i=s);if(i>=0){at[n._resolversKey].splice(i,0,r);break}case Ke.BACKGROUND_SYNC_CLOSE:at[n._resolversKey].push(r)}n._processChainResolve()})]:(t=this._getLocalResolversData(),[2,new Promise(function(r){var a=Qe(),i={key:a,priority:e},s={key:a,resolver:function(e){return r(e)},priority:e};switch(e){case Ke.USER_CALL:case Ke.FILL:case Ke.BACKGROUND_SYNC_OPEN:for(var o=-1,l=0;l<t.length&&o<0;l++)e>t[l].priority&&(o=l);if(o>=0){t.splice(o,0,i),window.localStorage.setItem(n._resolversKey,JSON.stringify(t)),n._localResolversData.splice(o,0,s);break}case Ke.BACKGROUND_SYNC_CLOSE:t.push(i),window.localStorage.setItem(n._resolversKey,JSON.stringify(t)),n._localResolversData.push(s)}n._processChainResolve()})])})})},e.prototype.release=function(e){if(ee()){if((t=rt[this._holdersKey].indexOf(e))>=0)return rt[this._holdersKey].splice(t,1),this._processChainResolve(),!0}else{var t,n=JSON.parse(window.localStorage[this._holdersKey]),r=D([],n,!0);if((t=n.indexOf(e))>=0){n.splice(t,1),n.length>0?window.localStorage.setItem(this._holdersKey,JSON.stringify(n)):window.localStorage.removeItem(this._holdersKey),this._localAcquiredKeys.splice(this._localAcquiredKeys.indexOf(e),1);var a=new StorageEvent("storage",{key:this._holdersKey,oldValue:JSON.stringify(r),newValue:JSON.stringify(n)});return dispatchEvent(a),!0}}return!1},e.prototype._tryResolve=function(){if(ee()){if(rt[this._holdersKey].length<this.numLocks){var e=Qe();return rt[this._holdersKey]=D(D([],rt[this._holdersKey],!0),[e],!1),(n=at[this._resolversKey].shift()).resolver(e),!0}}else{var t=this._getLocalHoldersData();if(t.length<this.numLocks){e=Qe();var n=this._localResolversData.shift(),r=this._getLocalResolversData(),a=r.map(function(e){return e.key}).indexOf(n.key);r.splice(a,1),r.length>0?window.localStorage.setItem(this._resolversKey,JSON.stringify(r)):window.localStorage.removeItem(this._resolversKey),window.localStorage.setItem(this._holdersKey,JSON.stringify(D(D([],t,!0),[e],!1))),this._localAcquiredKeys.push(e);var i=new StorageEvent("storage",{key:this._holdersKey,oldValue:JSON.stringify(D([],t,!0)),newValue:JSON.stringify(D(D([],t,!0),[e],!1))});return dispatchEvent(i),(0,n.resolver)(e),!0}}return!1},e.prototype._getLocalHoldersData=function(){var e=window.localStorage[this._holdersKey];return void 0!==e?JSON.parse(e):[]},e.prototype._getLocalResolversData=function(){var e=window.localStorage[this._resolversKey];return void 0!==e?JSON.parse(e):[]},e}();!function(e){e[e.IDLE=0]="IDLE",e[e.RUNNING=1]="RUNNING",e[e.END=2]="END"}($e||($e={}));var ot,lt=function(){},ut=function(){function e(e,t,n,r){void 0===n&&(n=2),void 0===r&&(r=10),this._worker=null,this._state=$e.IDLE,this._retryCount=0,this._retryLimit=3,this._isPaused=!1,this.priority=Ke.BACKGROUND_SYNC_CLOSE,this.onProgress=lt,this.onStop=lt,this.onError=lt,this.onEnd=lt,this._key=e,this._worker=t,this._semaphore=new st({key:e,concurrentCallLimit:n,backOffDelay:r})}return Object.defineProperty(e.prototype,"isIdle",{get:function(){return this._state===$e.IDLE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRunning",{get:function(){return this._state===$e.RUNNING},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDone",{get:function(){return this._state===$e.END},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPaused",{get:function(){return this._isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"retryCount",{get:function(){return this._retryCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"retryLimit",{get:function(){return this._retryLimit},enumerable:!1,configurable:!0}),e.prototype.resume=function(e,t){return void 0===t&&(t=!1),this._isPaused=!1,this.isDone&&t&&(this._state=$e.IDLE),this.run(e)},e.prototype.run=function(e){return U(this,void 0,void 0,function(){var t,n,r;return L(this,function(a){switch(a.label){case 0:return this._isPaused||!this.isIdle?[3,5]:(t=this,[4,this._semaphore.acquire(this.priority)]);case 1:t._key=a.sent(),this._state=$e.RUNNING,a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this._worker(e)];case 3:return n=a.sent(),this._retryCount=0,this.onProgress(n),n.hasNext?(this._state=$e.IDLE,this._isPaused?(this._semaphore.release(this._key),this.onStop()):(this.run(n.nextParams),this._semaphore.release(this._key))):(this._state=$e.END,this._semaphore.release(this._key),this.onEnd(),this._isPaused&&this.onStop()),[3,5];case 4:return r=a.sent(),$.warn("Collection sync run error: ",r),this._state=$e.IDLE,this._semaphore.release(this._key),this.onError(r),this._retryCount<this._retryLimit?(this._retryCount++,$.debug("Failed collection sync retry count: ",this._retryCount),this.run(e)):($.debug("Failed collection sync all retries failed."),this.stop(),this.onStop()),[3,5];case 5:return[2]}})})},e.prototype.stop=function(){this._isPaused=!0},e}(),ct={},dt=function(){function e(e){var t=e.iid,n=e.limit,r=void 0===n?_t:n,a=this;this._token="",this._sync=null,this._syncRange=new He({top:Number.MAX_SAFE_INTEGER,bottom:0}),this._completed=!1,this._pkIndex=Date.now(),this._iid=t,this._limit=r;var i=G.get(this._iid).GroupChannel,s=R.get(this._iid),o=s.get("currentUserId"),l=s.get("apiClient"),u=s.get("store"),c=bt.of(this._iid),d=Oe.of(this._iid),f="sendbird:".concat(o,"@groupchannel/sync");this._sync=new ut(f,function(e){return U(a,void 0,void 0,function(){var e,t,n,r,a,s,o=this;return L(this,function(h){switch(h.label){case 0:return e={hasNext:!0,nextParams:""},[4,u.get(f)];case 1:return(t=h.sent())&&t.completed?[3,5]:(t&&(this._token=t.token,this._syncRange=t.range,this._pkIndex=t.primaryKeyIndex),n={token:this._token,limit:this._limit,includeEmpty:!0,order:"chronological"},[4,l.loadGroupChannelList(n)]);case 2:return r=h.sent(),a=r.channels.map(function(e){return r.ts&&(e.ts=r.ts),e.cached_primary_key=o._pkIndex--,i.upsert(e)}),this._syncRange.top=Math.min(this._syncRange.top,Math.min.apply(Math,a.map(function(e){return e.createdAt}))),this._syncRange.bottom=Math.max(this._syncRange.bottom,Math.max.apply(Math,a.map(function(e){return e.createdAt}))),e.hasNext=a.length>=this._limit,e.nextParams=this._token=r.next,this._token||(e.hasNext=!1),this._completed=!e.hasNext,$.debug("Group channel collection background sync fetched channels count: ",a.length),[4,c.upsert(a)];case 3:return h.sent(),[4,u.set({key:f,value:{token:this._token,range:this._syncRange,completed:this._completed,primaryKeyIndex:this._pkIndex},generation:1})];case 4:return h.sent(),s={source:de.CHANNEL_BACKGROUND,payload:{channels:a}},d.send(s),[3,6];case 5:$.debug("Group channel collection background sync has finished."),e.hasNext=!1,h.label=6;case 6:return[2,e]}})})})}return e.of=function(t,n){return void 0===n&&(n=_t),ct[t]||(ct[t]=new e({iid:t,limit:n})),ct[t]},Object.defineProperty(e.prototype,"range",{get:function(){return this._syncRange},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"completed",{get:function(){return this._completed},enumerable:!1,configurable:!0}),e.prototype.resume=function(){$.debug("Group channel collection background sync has resumed."),this._sync.resume("")},e.prototype.pause=function(){$.debug("Group channel collection background sync has paused."),this._sync.stop()},e}(),ft={},ht=function(){function e(e){var t=e.iid,n=this;this._token=0,this._sync=null,this._pkIndex=Date.now(),this._iid=t;var r=G.get(this._iid).GroupChannel,a=R.get(this._iid);this._token=a.get("firstConnectedAt")/1e3;var i=a.get("currentUserId"),s=a.get("store"),o=a.get("apiClient"),l=a.container.localCacheEnabled,u=bt.of(this._iid),c=Oe.of(this._iid),d="sendbird:".concat(i,"@groupchannel/changelogs");this._sync=new ut(d,function(e){return U(n,void 0,void 0,function(){var e,t,n,a,i,f,h,p=this;return L(this,function(m){switch(m.label){case 0:return e={hasNext:!0,nextParams:""},l?[4,s.get(d)]:[3,2];case 1:return n=m.sent(),[3,3];case 2:n=null,m.label=3;case 3:return(t=n)&&(this._token=t.token,this._pkIndex=t.primaryKeyIndex),a={},"number"==typeof this._token?a.ts=this._token:a.token=this._token,[4,o.getMyGroupChannelChangeLogs(a)];case 4:return i=m.sent(),f={updatedChannels:i.updated.map(function(e){return e.cached_primary_key=p._pkIndex--,new r(e)}),deletedChannelUrls:i.deleted},e.hasNext=i.has_more,e.nextParams=this._token=i.next,$.debug("Group channel collection changelog sync update channels count: ",f.updatedChannels.length),$.debug("Group channel collection changelog sync deleted channel urls count: ",f.deletedChannelUrls.length),l?[4,u.upsert(f.updatedChannels)]:[3,8];case 5:return m.sent(),[4,u.remove(f.deletedChannelUrls)];case 6:return m.sent(),[4,s.set({key:d,value:{token:this._token,primaryKeyIndex:this._pkIndex},generation:1})];case 7:m.sent(),m.label=8;case 8:return h={source:de.CHANNEL_CHANGELOG,payload:f},c.send(h),[2,e]}})})})}return e.of=function(t){return ft[t]||(ft[t]=new e({iid:t})),ft[t]},e.prototype.resume=function(){$.debug("Group channel collection changelog sync has resumed."),this._sync.resume(0,!0)},e.prototype.pause=function(){$.debug("Group channel collection changelog sync has paused."),this._sync.stop()},e}(),pt=function(e,t){for(var n=0;n<e.length;n++)if(e[n].url===t.url)return n;return-1},mt=function(e,t,n){if(e.length>0){for(var r=0,a=e.length-1,i=Math.floor((r+a)/2);r<a;){var s=yt(e[i],t,n);if(s>0)a=i,i=Math.floor((r+a)/2);else{if(!(s<0))return i;r=i+1,i=Math.floor((r+a)/2)}}return yt(e[i],t,n)>0?i:i+1}return e.length},gt=function(e,t){return t-e},yt=function(e,t,n){switch(n){case ot.LATEST_LAST_MESSAGE:if(e.lastMessage&&!t.lastMessage)return-1;if(!e.lastMessage&&t.lastMessage)return 1;if(e.lastMessage&&t.lastMessage){var r=e.lastMessage.createdAt;if(0===(i=t.lastMessage.createdAt-r)){var a=e.createdAt;0===(i=t.createdAt-a)&&(i=gt(e.cachedPrimaryKey,t.cachedPrimaryKey))}return i}return r=e.createdAt,0===(i=t.createdAt-r)&&(i=gt(e.cachedPrimaryKey,t.cachedPrimaryKey)),i;case ot.CHRONOLOGICAL:return 0===(i=t.createdAt-e.createdAt)&&(i=gt(e.cachedPrimaryKey,t.cachedPrimaryKey)),i;case ot.CHANNEL_NAME_ALPHABETICAL:var i;return 0===(i=e.name.localeCompare(t.name))&&(i=gt(e.cachedPrimaryKey,t.cachedPrimaryKey)),i}},_t=40;!function(e){e.LATEST_LAST_MESSAGE="latest_last_message",e.CHRONOLOGICAL="chronological",e.CHANNEL_NAME_ALPHABETICAL="channel_name_alphabetical"}(ot||(ot={}));var vt=function(){function e(e){var t=e.iid,n=e.filter,r=e.order,a=e.limit,i=void 0===a?20:a,s=this;this._channels=[],this._token=null,this._hasMore=!0,this._iid=t,this._filter=n,this._order=r,this._limit=i,this._syncLimit=Math.max(i,_t),this._eventObserver={onevent:function(e){return U(s,void 0,void 0,function(){return L(this,function(t){return[2,this._handleEvent(e)]})})}},this._eventHandler={onChannelsAdded:ke,onChannelsUpdated:ke,onChannelsDeleted:ke};var o=R.get(this._iid);this._localCacheEnabled=o.container.localCacheEnabled,this._localCacheEnabled&&(this._backgroundSync=dt.of(this._iid,this._syncLimit),this._backgroundSync.resume()),this._changelogSync=ht.of(this._iid),Oe.of(this._iid).addObserver(this._eventObserver),this._connectionStateObserver={onConnect:function(){s._localCacheEnabled&&s._backgroundSync.resume(),s._changelogSync.resume()},onDisconnect:function(){return U(s,void 0,void 0,function(){return L(this,function(e){switch(e.label){case 0:return[4,Je.ready()];case 1:return e.sent()||(this._localCacheEnabled&&this._backgroundSync.pause(),this._changelogSync.pause()),[2]}})})}},he.of(this._iid).addObserver(this._connectionStateObserver)}return e.prototype._handleEvent=function(e){var t=this,n=e.source,r=e.payload,a=R.get(this._iid),i=new we(n);switch(n){case de.CHANNEL_BACKGROUND:break;case de.CHANNEL_CHANGELOG:var s=r,o=s.updatedChannels,l=s.deletedChannelUrls,u=o.filter(function(e){return t._filter.match(e)});this._addChannelsToView(u,{context:i}),this._removeChannelsFromView(l,{context:i});break;case de.EVENT_USER_DECLINED_INVITATION:var c=a.get("currentUserId"),d=r,f=d.channel;d.invitee.userId===c?this._removeChannelsFromView([f.url],{context:i}):this._filter.match(f)?this._addChannelsToView([f],{context:i}):this._removeChannelsFromView([f.url],{context:i});break;case de.EVENT_USER_LEFT:c=a.get("currentUserId");var h=r;f=h.channel,h.user.userId===c?this._removeChannelsFromView([f.url],{context:i}):this._filter.match(f)?this._addChannelsToView([f],{context:i}):this._removeChannelsFromView([f.url],{context:i});break;case de.EVENT_USER_BANNED:case de.EVENT_USER_UNBANNED:break;case de.EVENT_USER_MUTED:case de.EVENT_USER_UNMUTED:case de.EVENT_TYPING_STATUS_UPDATED:case de.EVENT_OPERATOR_UPDATED:case de.EVENT_CHANNEL_METADATA_UPDATED:case de.EVENT_CHANNEL_METADATA_DELETED:case de.EVENT_CHANNEL_METACOUNTER_UPDATED:case de.EVENT_CHANNEL_METACOUNTER_DELETED:f=r.channel,this._filter.match(f)?this._addChannelsToView([f],{context:i}):this._removeChannelsFromView([f.url],{context:i});break;case de.EVENT_READ_RECEIPT_UPDATED:case de.EVENT_USER_RECEIVED_INVITATION:case de.EVENT_USER_JOINED:case de.EVENT_CHANNEL_FROZEN:case de.EVENT_CHANNEL_UNFROZEN:case de.EVENT_CHANNEL_HIDDEN:case de.EVENT_CHANNEL_UNHIDDEN:case de.EVENT_CHANNEL_CHANGED:f=r.channel,this._filter.match(f)?this._addChannelsToView([f],{context:i}):this._removeChannelsFromView([f.url],{context:i});break;case de.EVENT_CHANNEL_DELETED:var p=r.channelUrl;this._removeChannelsFromView([p],{context:i})}},e.prototype._getRemoteChannels=function(){return U(this,void 0,void 0,function(){var e,t,n;return L(this,function(r){switch(r.label){case 0:return e=G.get(this._iid).GroupChannel,[4,R.get(this._iid).get("apiClient").loadGroupChannelList(P(P({},this._filter),{order:this._order,token:this._token,limit:this._limit,userIdsFilter:this._filter.userIdsFilter,searchFilter:(a=this._filter.searchFilter,a.searchQuery&&a.searchFields?{search_query:a.searchQuery,search_fields:a.searchFields.join(",").toLocaleLowerCase()}:{})}))];case 1:return t=r.sent(),n=t.channels.map(function(n){return"number"==typeof t.ts&&(n.ts=t.ts),e.upsert(n)}),[4,bt.of(this._iid).upsert(n)];case 2:return r.sent(),[2,[n,t.next]]}var a})})},e.prototype._addChannelsToView=function(e,t){void 0===t&&(t={});for(var n=t.context,r=void 0===n?null:n,a=[],i=[],s=0,o=e;s<o.length;s++){var l=o[s],u=pt(this._channels,l);if(u<0)a.push(l),(c=mt(this._channels,l,this._order))===this._channels.length?this._channels.push(l):this._channels.splice(c,0,l);else{i.push(l),this._channels.splice(u,1);var c=mt(this._channels,l,this._order);this._channels.splice(c,0,l)}}r&&(a.length>0&&this._eventHandler.onChannelsAdded(r,a),i.length>0&&this._eventHandler.onChannelsUpdated(r,i))},e.prototype._removeChannelsFromView=function(e,t){void 0===t&&(t={});for(var n=t.context,r=void 0===n?null:n,a=[],i=0,s=e;i<s.length;i++){var o=s[i],l=this._channels.map(function(e){return e.url}).indexOf(o);l>=0&&(a.push(this._channels[l].url),this._channels.splice(l,1))}return r&&a.length>0&&this._eventHandler.onChannelsDeleted(r,a),a},Object.defineProperty(e.prototype,"channelList",{get:function(){return this._channels},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasMore",{get:function(){return this._hasMore},enumerable:!1,configurable:!0}),e.prototype.loadMore=function(){return U(this,void 0,void 0,function(){var e,t,n,r,a;return L(this,function(i){switch(i.label){case 0:return this._hasMore?[4,Je.ready()]:[3,5];case 1:return i.sent()?[3,3]:($.debug("Group channel collection loadMore() from the cache."),e=bt.of(this._iid),t=e.getNextContainerToken(this._order,this._channels),[4,e.getNextChannels(this._filter,this._order,t,this._limit)]);case 2:return r=i.sent(),this._addChannelsToView(r),[2,r];case 3:return $.debug("Group channel collection loadMore() from the server."),[4,this._getRemoteChannels()];case 4:return n=i.sent(),r=n[0],a=n[1],this._token=a,this._token||(this._hasMore=!1),this._addChannelsToView(r),[2,r];case 5:return[2,[]]}})})},e.prototype.dispose=function(){he.of(this._iid).removeObserver(this._connectionStateObserver),this._localCacheEnabled&&this._backgroundSync.pause(),this._changelogSync.pause(),Oe.of(this._iid).removeObserver(this._eventObserver)},e.prototype.setGroupChannelCollectionHandler=function(e){this._eventHandler=e},e.GroupChannelOrder=ot,e}(),Et={},bt=function(){function e(e){var t=e.iid,n=e.collection,r=void 0===n?null:n;this._collection=null,this._pkIndex=Date.now(),this._lastFetchedPrimaryKey=Date.now(),this._iid=t,this._collection=r,Et[t]=this}return e.of=function(e){return Et[e]},e.prototype._serialize=function(e){var t=this._createPk();return e.cachedPrimaryKey=t,P(P({},e.serialize()),{lastMessageCreatedAt:e.lastMessage?e.lastMessage.createdAt:-1,pk:t})},e.prototype._deserialize=function(e){return e?G.get(this._iid).GroupChannel.buildFromSerializedData(e):null},Object.defineProperty(e.prototype,"_localCacheEnabled",{get:function(){return R.get(this._iid).get("localCacheEnabled")},enumerable:!1,configurable:!0}),e.prototype._createPk=function(){return this._pkIndex++},e.prototype._fetch=function(e,t,n){return U(this,void 0,void 0,function(){var r,a,i,s,o,l,u,c=this;return L(this,function(d){switch(d.label){case 0:if(!this._localCacheEnabled)return[3,2];switch(r=Ae.LATEST_LAST_MESSAGE,t){case ot.CHANNEL_NAME_ALPHABETICAL:r=Ae.NAME_ALPHABETICAL;break;case ot.CHRONOLOGICAL:r=Ae.CHRONOLOGICAL;break;case ot.LATEST_LAST_MESSAGE:r=Ae.LATEST_LAST_MESSAGE}return a=n.containerToken,i=a.lastMessageCreatedAt,s=a.createdAt,o=a.name,l=a.lastFetchedPrimaryKey,u={where:function(n){switch(t){case ot.LATEST_LAST_MESSAGE:if(n.lastMessageCreatedAt>i)return!1;if(n.lastMessageCreatedAt===i&&gt(l,n.pk)>=0)return!1;if(n.lastMessageCreatedAt<0){if(n.createdAt>s)return!1;if(n.createdAt===s&&gt(l,n.pk)>=0)return!1}break;case ot.CHANNEL_NAME_ALPHABETICAL:var r=n.name.localeCompare(o);if(r<0)return!1;if(0===r&&gt(l,n.pk)>=0)return!1;break;case ot.CHRONOLOGICAL:if(n.createdAt>s)return!1;if(n.createdAt===s&&gt(l,n.pk)>=0)return!1}return e.match(c._deserialize(n))},index:r},[4,this._collection.query(u).fetch({limit:n.limit})];case 1:return[2,d.sent().map(function(e){return c._deserialize(e)})];case 2:return[2,[]]}})})},e.prototype.getNextContainerToken=function(e,t){switch(e){case ot.LATEST_LAST_MESSAGE:return t.length>0?{lastMessageCreatedAt:(n=t[t.length-1]).lastMessage?n.lastMessage.createdAt:-1,createdAt:n.createdAt,lastFetchedPrimaryKey:n.cachedPrimaryKey}:{lastMessageCreatedAt:Number.MAX_SAFE_INTEGER,createdAt:Number.MAX_SAFE_INTEGER,lastFetchedPrimaryKey:this._lastFetchedPrimaryKey};case ot.CHRONOLOGICAL:return t.length>0?{createdAt:(n=t[t.length-1]).createdAt,lastFetchedPrimaryKey:n.cachedPrimaryKey}:{createdAt:Number.MAX_SAFE_INTEGER,lastFetchedPrimaryKey:this._lastFetchedPrimaryKey};case ot.CHANNEL_NAME_ALPHABETICAL:var n;return t.length>0?{name:(n=t[t.length-1]).name,lastFetchedPrimaryKey:n.cachedPrimaryKey}:{name:"",lastFetchedPrimaryKey:this._lastFetchedPrimaryKey}}},e.prototype.get=function(e){return U(this,void 0,void 0,function(){var t;return L(this,function(n){switch(n.label){case 0:return this._localCacheEnabled?(t=this._deserialize,[4,this._collection.getByKey(e)]):[3,2];case 1:return[2,t.apply(this,[n.sent()])];case 2:return[2,null]}})})},e.prototype.getNextChannels=function(e,t,n,r){return void 0===r&&(r=100),U(this,void 0,void 0,function(){return L(this,function(a){switch(a.label){case 0:return[4,this._fetch(e,t,{containerToken:n,limit:r})];case 1:return[2,a.sent()]}})})},e.prototype.upsert=function(e){return U(this,void 0,void 0,function(){var t,n=this;return L(this,function(r){switch(r.label){case 0:return this._localCacheEnabled?(t=e.map(function(e){return n._serialize(e)}),[4,this._collection.upsertMany(t)]):[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},e.prototype.remove=function(e){return U(this,void 0,void 0,function(){return L(this,function(t){switch(t.label){case 0:return this._localCacheEnabled?[4,this._collection.removeIf({url:{"/in":e}})]:[3,3];case 1:return t.sent(),[4,Ba.getInstance(this._iid).clearCachedMessages(e)];case 2:t.sent(),t.label=3;case 3:return[2]}})})},e.prototype.clear=function(){return U(this,void 0,void 0,function(){return L(this,function(e){switch(e.label){case 0:return this._localCacheEnabled?[4,this._collection.clear()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},e}(),Ct=function(){function e(){this.messageId=null,this.userId=null,this.key=null,this.operation="",this.updatedAt=null}return e.createFromJson=function(e){var t=parseInt(e.msg_id),n=e.user_id,r=e.operation,a=e.reaction,i=e.updated_at;if(t&&"string"==typeof n&&"string"==typeof r&&["add","delete"].indexOf(r.toLowerCase())>=0&&"string"==typeof a&&a&&"number"==typeof i){var s=new this;return s.messageId=t,s.userId=n,s.key=a,s.operation=r.toLowerCase(),s.updatedAt=i,s}return null},e}(),Nt=function(){function e(){}return e.serialize=function(e,t){void 0===t&&(t=null);var n=JSON.parse(JSON.stringify(e));return t&&t(n),function e(t){return Object.keys(t).forEach(function(n){t[n]&&"object"==typeof t[n]&&e(t[n])}),Object.freeze(t)}(n)},e.serializeWithoutFreeze=function(e,t){void 0===t&&(t=null);var n=JSON.parse(JSON.stringify(e));return t&&t(n),n},e.deserialize=function(e,t){void 0===t&&(t=null);var n=JSON.parse(JSON.stringify(e));return t&&t(n),n},e}(),St={TIMESTAMP:"timestamp",MESSAGE_ID:"messageId"},Tt=new WeakMap,Ot=function(){function e(t){h(this,e),this.messageId=0,this.messageType=e.MESSAGE_TYPE_BASE,this.channelUrl="",this.data=null,this.customType=null,this.silent=!1,this.createdAt=0,this.updatedAt=0,this.channelType=null,this.metaArrays=[],this.reactions=[],this.mentionType=null,this.mentionedUsers=[],this.mentionedUserIds=[],this.mentionedMessageTemplate=null,this.sendingStatus=null,Tt.set(this,0),this.parentMessageId=0,this.parentMessageText=null,this.threadInfo=null,this.isReplyToChannel=!1,this.parentMessage=null,this.ogMetaData=null,this.isOperatorMessage=!1,this.appleCriticalAlertOptions=null,this.reqId="",this._isAutoResendRegistered=!1,t&&this.__update(t)}return m(e,[{key:"serialize",value:function(e){var t=this;return Nt.serialize(this,function(n){n.hasOwnProperty("_sender")&&(n.sender=n._sender,delete n._sender),n.hasOwnProperty("_isAutoResendRegistered")&&(n.isAutoResendRegistered=n._isAutoResendRegistered,delete n._isAutoResendRegistered),t.appleCriticalAlertOptions&&(n.appleCriticalAlertOptions=t.appleCriticalAlertOptions.serialize()),e&&e(n)})}},{key:"isIdentical",value:function(e){return!("object"!==f(e)||!e.hasOwnProperty("messageId"))&&(0!==this.messageId&&0!==e.messageId?this.messageId===e.messageId:this.reqId===e.reqId)}},{key:"isEqual",value:function(e){return ie.deepEqual(this,e)}},{key:"isOpenChannel",value:function(){var e=G.get(this._iid).BaseChannel;return this.channelType===e.CHANNEL_TYPE_OPEN}},{key:"isGroupChannel",value:function(){var e=G.get(this._iid).BaseChannel;return this.channelType===e.CHANNEL_TYPE_GROUP}},{key:"isUserMessage",value:function(){return this.messageType===e.MESSAGE_TYPE_USER}},{key:"isAdminMessage",value:function(){return this.messageType===e.MESSAGE_TYPE_ADMIN}},{key:"isFileMessage",value:function(){return this.messageType===e.MESSAGE_TYPE_FILE}},{key:"__update",value:function(e){var t=this,n=Ba.getInstance(this._iid),r=G.get(this._iid),a=r.User,i=r.BaseChannel,s=r.BaseMessageParams,o=r.BaseMessage,l=r.Reaction,u=r.MessageMetaArray,c=r.ThreadInfo,f=r.OGMetaData,h=r.AppleCriticalAlertOptions;if(e.hasOwnProperty("msg_id")&&e.msg_id&&(this.messageId=parseInt(e.msg_id)),e.hasOwnProperty("type"))switch(e.type){case"MESG":this.messageType=o.MESSAGE_TYPE_USER;break;case"FILE":this.messageType=o.MESSAGE_TYPE_FILE;break;case"BRDM":case"ADMM":this.messageType=o.MESSAGE_TYPE_ADMIN}e.hasOwnProperty("message_id")&&e.message_id&&(this.messageId=parseInt(e.message_id)),this.channelUrl=e.hasOwnProperty("channel_url")?String(e.channel_url):"",this.data=e.hasOwnProperty("data")?String(e.data):"",this.customType=e.hasOwnProperty("custom_type")?String(e.custom_type):"",e.hasOwnProperty("silent")&&(this.silent=e.silent),this.createdAt=e.hasOwnProperty("ts")?parseInt(e.ts):0,e.hasOwnProperty("created_at")&&(this.createdAt=parseInt(e.created_at)),this.updatedAt=e.hasOwnProperty("updated_at")?parseInt(e.updated_at):0,this.channelType=e.hasOwnProperty("channel_type")?String(e.channel_type):i.CHANNEL_TYPE_GROUP;var p=e.hasOwnProperty("metaarray")?e.metaarray:{},m=e.hasOwnProperty("metaarray_key_order")?e.metaarray_key_order:Object.keys(p).sort(function(e,t){return e.localeCompare(t)});this.metaArrays=[];for(var g=0;g<m.length;g++){var y=m[g];this.metaArrays.push(new u(y,p[y]||[]))}if(e.hasOwnProperty("sorted_metaarray")){var _=e.sorted_metaarray;Array.isArray(_)&&(this.metaArrays=_.map(function(e){return new u(e.key,e.value)}))}if(this.reactions=[],e.hasOwnProperty("reactions")&&Array.isArray(e.reactions))for(var v=0;v<e.reactions.length;v++){var E=l.createFromJson(e.reactions[v]);E&&this.reactions.push(E)}if(this.mentionType=e.hasOwnProperty("mention_type")?e.mention_type:s.MentionType.USERS,this.mentionedUsers=[],e.hasOwnProperty("mentioned_users")&&e.mentioned_users.forEach(function(e){var n=new a(e);t.mentionedUsers.push(n)}),this.mentionedUserIds=[],e.hasOwnProperty("mentioned_user_ids")&&(this.mentionedUserIds=e.mentioned_user_ids),e.hasOwnProperty("mentioned_message_template")&&e.mentioned_message_template&&(this.mentionedMessageTemplate=e.mentioned_message_template),this.sendingStatus=this.messageId>0?n.MessageSendingStatus.SUCCEEDED:n.MessageSendingStatus.FAILED,e.hasOwnProperty("sending_status")&&(this.sendingStatus=e.sending_status),e.hasOwnProperty("root_message_id")&&e.root_message_id&&Tt.set(this,parseInt(e.root_message_id)),e.hasOwnProperty("parent_message_id")&&e.parent_message_id&&(this.parentMessageId=parseInt(e.parent_message_id)),this.threadInfo=new c(e.thread_info),this.isReplyToChannel=!!e.hasOwnProperty("is_reply_to_channel")&&e.is_reply_to_channel,e.hasOwnProperty("parent_message_info")){var b=d({},e.parent_message_info);e.parent_message_info.hasOwnProperty("file")&&(b.require_auth=!!e.parent_message_info.file.require_auth);var C={channelType:this.channelType,channelUrl:this.channelUrl};switch(this.parentMessage=i.buildMessage(b,C),this.parentMessage.messageType){case o.MESSAGE_TYPE_USER:this.parentMessageText=this.parentMessage.message;break;case o.MESSAGE_TYPE_FILE:this.parentMessageText=this.parentMessage.name}}e.hasOwnProperty("og_tag")&&(this.ogMetaData=new f(e.og_tag)),e.hasOwnProperty("is_op_msg")&&(this.isOperatorMessage=e.is_op_msg),e.hasOwnProperty("apple_critical_alert_options")&&(this.appleCriticalAlertOptions=new h(e.apple_critical_alert_options)),e.hasOwnProperty("is_auto_resend_registered")&&(this._isAutoResendRegistered=e.is_auto_resend_registered),this.reqId=e.hasOwnProperty("req_id")?e.req_id:""}},{key:"getMetaArraysByKeys",value:function(e){return Array.isArray(e)?this.metaArrays.filter(function(t){return e.indexOf(t.key)>-1}):[]}},{key:"metaArray",get:function(){var e={};return this.metaArrays.forEach(function(t){e[t.key]=t.value}),e},set:function(e){if("object"===f(e)&&e){var t=G.get(this._iid).MessageMetaArray,n=[];Object.keys(e).forEach(function(r){n.push(new t(r,e[r]))}),this.metaArrays=n}}},{key:"getMetaArrayByKeys",value:function(e){var t={};return this.getMetaArraysByKeys(e).forEach(function(e){t[e.key]=e.value}),t}},{key:"applyReactionEvent",value:function(e){var t=this,n=G.get(this._iid),r=n.Reaction,a=null,i=me.parse(arguments,[new me({type:Ct,constraint:function(e){return parseInt(e.messageId)===parseInt(t.messageId)}})]),s=N(i,2);if(a=s[0],e=s[1],!a){for(var o=!1,l=0;l<this.reactions.length;l++)if(this.reactions[l].key===e.key){this.reactions[l]._applyEvent(e),this.reactions[l].isEmpty&&this.reactions.splice(l,1),o=!0;break}o||"add"!==e.operation||this.reactions.push(new r(e.key,[e.userId],e.updatedAt))}}},{key:"_getThreadedMessageList",value:function(t,n,r,a){var i=this,s=G.get(this._iid),o=s.ThreadedMessageListParams,l=null,u=me.parse(arguments,[new me({type:"number"}),new me({type:"string",constraint:function(e){return Object.values(St).includes(e)}}),new me({type:o,constraint:function(e){return e._validate()}}),new me({type:"callback"})]),c=N(u,5);return l=c[0],t=c[1],n=c[2],r=c[3],a=c[4],le(this._iid,function(a){if(l)a(l,null);else{var s=G.get(i._iid),o=s.GroupChannel,u=s.OpenChannel;i.isGroupChannel()?o.getChannel(i.channelUrl,k.INTERNAL_CALL,function(s,o){if(Ba.getInstance(i._iid).getErrorFirstCallback()){var l=[s,o];o=l[0],s=l[1]}o?a(o,null):R.get(i._iid).container.apiClient.getMessageList(d(d({channel:s,token:t,tokenType:n},r),{},{shouldReverse:r.reverse,parentMessageId:i.messageId,includeThreadInfo:!0,replyType:e.ReplyType.ALL})).then(function(e){var t=G.get(i._iid).BaseChannel,n=e.messages.map(function(e){return t.buildMessage(e,s)}).filter(function(e){return null!==e}),r=n.filter(function(e){return e.messageId===i.messageId})[0],o=n.filter(function(e){return e.parentMessageId===i.messageId});a(null,{parentMessage:r,threadedReplies:o})}).catch(function(e){a(e,null)})}):i.isOpenChannel()&&u.getChannel(i.channelUrl,k.INTERNAL_CALL,function(s,o){if(Ba.getInstance(i._iid).getErrorFirstCallback()){var l=[s,o];o=l[0],s=l[1]}o?a(o,null):R.get(i._iid).container.apiClient.getMessageList(d(d({channel:s,token:t,tokenType:n},r),{},{shouldReverse:r.reverse,parentMessageId:i.messageId,includeThreadInfo:!0,replyType:e.ReplyType.ALL})).then(function(e){var t=G.get(i._iid).BaseChannel,n=e.messages.map(function(e){return t.buildMessage(e,s)}).filter(function(e){return null!==e}),r=n.filter(function(e){return e.messageId===i.messageId})[0],o=n.filter(function(e){return e.parentMessageId===i.messageId});a(null,{parentMessage:r,threadedReplies:o})}).catch(function(e){a(e,null)})})}},a)}},{key:"getThreadedMessagesByTimestamp",value:function(e,t,n){return this._getThreadedMessageList(e,St.TIMESTAMP,t,n)}},{key:"applyThreadInfoUpdateEvent",value:function(e){var t=this,n=G.get(this._iid),r=n.ThreadInfoUpdateEvent,a=null,i=me.parse(arguments,[new me({type:r,constraint:function(e){return parseInt(e.targetMessageId)===parseInt(t.messageId)}})]),s=N(i,2);return a=s[0],e=s[1],!a&&(this.threadInfo=e.threadInfo,!0)}},{key:"applyParentMessage",value:function(e){if(this.parentMessageId===e.messageId){var t=this.parentMessage.updatedAt;if(e.updatedAt>=t)return this.parentMessage=e,!0}return!1}},{key:"_setRootMessageId",value:function(e){Tt.set(this,e)}}],[{key:"MESSAGE_TYPE_BASE",get:function(){return"base"}},{key:"MESSAGE_TYPE_ADMIN",get:function(){return"admin"}},{key:"MESSAGE_TYPE_USER",get:function(){return"user"}},{key:"MESSAGE_TYPE_FILE",get:function(){return"file"}},{key:"SendingStatus",get:function(){return{NONE:"none",PENDING:"pending",FAILED:"failed",CANCELED:"canceled",SUCCEEDED:"succeeded"}}},{key:"ReplyType",get:function(){return{ALL:"all",NONE:"none",ONLY_REPLY_TO_CHANNEL:"only_reply_to_channel"}}},{key:"getMessage",value:function(e,t){var n=this,r=G.get(this._iid),a=r.BaseChannel,i=r.MessageRetrievalParams,s=null,o=me.parse(arguments,[new me({type:i,constraint:function(e){return e._validate()}}),new me({type:"callback"})]),l=N(o,3);return s=l[0],e=l[1],t=l[2],le(this._iid,function(t){if(s)t(s,null);else{var r=G.get(n._iid),i=r.GroupChannel,o=r.OpenChannel;switch(e.channelType){case a.CHANNEL_TYPE_GROUP:i.getChannel(e.channelUrl,k.INTERNAL_CALL,function(r,i){if(Ba.getInstance(n._iid).getErrorFirstCallback()){var s=[r,i];i=s[0],r=s[1]}i?t(i,null):R.get(n._iid).container.apiClient.getMessage(d({channel:r},e),function(e,n){if(e)t(e,null);else{var i=a.buildMessage(n,r);t(null,i)}})});break;case a.CHANNEL_TYPE_OPEN:o.getChannel(e.channelUrl,k.INTERNAL_CALL,function(r,i){if(Ba.getInstance(n._iid).getErrorFirstCallback()){var s=[r,i];i=s[0],r=s[1]}i?t(i,null):R.get(n._iid).container.apiClient.getMessage(d({channel:r},e),function(e,n){if(e)t(e,null);else{var i=a.buildMessage(n,r);t(null,i)}})})}}},t)}}]),e}(),wt=function(){function e(e){this.nickname="",this.plainProfileUrl="",this.userId="",this.connectionStatus="",this.lastSeenAt=null,this.metaData={},this.isActive=!0,this.friendDiscoveryKey=null,this.friendName=null,this._preferredLanguages=null,this.requireAuth=null,e&&this.__update(e)}return e.objectify=function(e){var t=e.userId,n=void 0===t?null:t,r=e.nickname,a=void 0===r?"":r,i=e.plainProfileUrl,s=void 0===i?"":i,o=e.connectionStatus,l=void 0===o?"":o,u=e.lastSeenAt,c=void 0===u?0:u,d=e.metaData,f=void 0===d?{}:d,h=e.isActive,p=void 0===h||h,m=e.friendDiscoveryKey,g=void 0===m?null:m,y=e.friendName,_=void 0===y?null:y,v=e.preferredLanguages,E=void 0===v?null:v,b=e.requireAuth;return{user_id:n,nickname:a,profile_url:s,is_online:l,last_seen_at:c,metadata:f,is_active:p,friend_discovery_key:g,friend_name:_,preferred_languages:E,require_auth_for_profile_image:void 0!==b&&b}},e.buildFromSerializedData=function(e){var t=G.get(this._iid).User,n=Nt.deserialize(e);return new t(t.objectify(n))},Object.defineProperty(e.prototype,"preferredLanguages",{get:function(){return this._preferredLanguages},enumerable:!1,configurable:!0}),e.prototype.__update=function(t){var n=R.get(this._iid).container.auth;t.hasOwnProperty("guest_id")&&(this.userId=t.guest_id),t.hasOwnProperty("user_id")&&(this.userId=t.user_id),t.hasOwnProperty("name")&&(this.nickname=t.name),t.hasOwnProperty("nickname")&&(this.nickname=t.nickname),t.hasOwnProperty("require_auth_for_profile_image")?this.requireAuth=t.require_auth_for_profile_image:this.requireAuth=null,(t.hasOwnProperty("image")||t.hasOwnProperty("profile_url"))&&(this.plainProfileUrl=t.image||t.profile_url||"",Object.defineProperty(this,"profileUrl",{value:this.requireAuth?"".concat(this.plainProfileUrl,"?auth=").concat(n.eKey):this.plainProfileUrl,configurable:!0,writable:!1})),t.hasOwnProperty("is_online")?t.is_online===e.NON_AVAILABLE?this.connectionStatus=e.NON_AVAILABLE:this.connectionStatus=t.is_online?e.ONLINE:e.OFFLINE:this.connectionStatus=e.NON_AVAILABLE,t.hasOwnProperty("last_seen_at")?this.lastSeenAt=parseInt(t.last_seen_at):this.lastSeenAt=0,t.hasOwnProperty("metadata")?this.metaData=t.metadata:this.metaData={},t.hasOwnProperty("is_active")?this.isActive=void 0===t.is_active||t.is_active:this.isActive=!0,t.hasOwnProperty("friend_discovery_key")?this.friendDiscoveryKey=t.friend_discovery_key:this.friendDiscoveryKey=null,t.hasOwnProperty("friend_name")?this.friendName=t.friend_name:this.friendName=null,t.hasOwnProperty("preferred_languages")?this._preferredLanguages=t.preferred_languages||null:this._preferredLanguages=null},e.prototype._updateMetaData=function(e,t){var n=this;void 0===t&&(t=!1);var r=G.get(this._iid).GroupChannel;Object.keys(e).forEach(function(r){t?delete n.metaData[r]:n.metaData[r]=e[r]}),Object.keys(r.cachedChannels).forEach(function(e){if(r.cachedChannels.hasOwnProperty(e)){var t=r.cachedChannels[e];t.memberMap.hasOwnProperty(n.userId)&&(t.memberMap[n.userId].metaData=n.metaData)}})},e.prototype.serialize=function(){return Nt.serialize(this,function(e){e.hasOwnProperty("_preferredLanguages")&&(e.preferredLanguages=e._preferredLanguages,delete e._preferredLanguages)})},e.prototype.getOriginalProfileUrl=function(){var e="";if(((e=(e=this.plainProfileUrl.indexOf("://")>-1?this.plainProfileUrl.split("/")[2]:this.plainProfileUrl.split("/")[0]).split("?")[0]).indexOf("sendbird.com")>-1||e.indexOf("sendbirdtest.com")>-1||e.indexOf("intoz.com")>-1||e.indexOf("file-local")>-1)&&this.plainProfileUrl.indexOf(e+"/profile_images/")>-1){var t=this.plainProfileUrl.replace("profile_images/","");return t===this.plainProfileUrl?"":t}return""},e.prototype.createMetaData=function(e,t){var n,r=this,a=null;return n=me.parse(arguments,[new me({type:"object",constraint:function(e){return Object.keys(e).length>0&&!Array.isArray(e)}}),new me({type:"callback"})]),a=n[0],e=n[1],t=n[2],le(this._iid,function(t){a?t(a,null):R.get(r._iid).container.apiClient.createUserMetaData({metaData:e},function(e,n){e||r._updateMetaData(n),t(e,n)})},t)},e.prototype.updateMetaData=function(e,t,n){var r,a=this,i=null;return r=me.parse(arguments,[new me({type:"object",constraint:function(e){return!Array.isArray(e)&&Object.keys(e).length>0&&Object.keys(e).map(function(t){return e[t]}).every(function(e){return"string"==typeof e})}}),new me({type:"boolean",optional:!0,defaultValue:!1}),new me({type:"callback"})]),i=r[0],e=r[1],t=r[2],n=r[3],le(this._iid,function(n){i?n(i,null):R.get(a._iid).container.apiClient.updateUserMetaData({metaData:e,upsert:t},function(e,t){e||a._updateMetaData(t),n(e,t)})},n)},e.prototype.deleteMetaData=function(e,t){var n,r=this,a=null;return n=me.parse(arguments,[new me({type:"string",constraint:function(e){return e.length>0}}),new me({type:"callback"})]),a=n[0],e=n[1],t=n[2],le(this._iid,function(t){if(a)t(a,null);else{var n={};n[e]="",R.get(r._iid).container.apiClient.deleteUserMetaData({metaDataKey:e},function(e,a){e||r._updateMetaData(n,!0),t(e,a)})}},t)},e.prototype.deleteAllMetaData=function(e){var t=this;return le(this._iid,function(e){var n=t.metaData;R.get(t._iid).container.apiClient.deleteAllUserMetaData({},function(r,a){r||t._updateMetaData(n,!0),e(r,a)})},e)},Object.defineProperty(e,"NON_AVAILABLE",{get:function(){return"nonavailable"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"ONLINE",{get:function(){return"online"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"OFFLINE",{get:function(){return"offline"},enumerable:!1,configurable:!0}),e}(),kt={TIMESTAMP:"timestamp",MESSAGE_ID:"messageId"},At=new WeakMap,Rt=new WeakMap,It=function(){function e(t){h(this,e),this.url="",this.channelType=e.CHANNEL_TYPE_BASE,this.name="",this.coverUrl="",this.creator=null,this.createdAt=0,this.data=null,this.customType=null,this.isFrozen=!1,this.isEphemeral=!1,At.set(this,{}),Rt.set(this,""),t&&this.__update(t)}return m(e,[{key:"__update",value:function(e){this.url=e.hasOwnProperty("channel_url")?String(e.channel_url):"",this.name=e.hasOwnProperty("name")?String(e.name):"",this.coverUrl=e.hasOwnProperty("cover_url")?String(e.cover_url):"",this.createdAt=e.hasOwnProperty("created_at")?1e3*e.created_at:0,this.data=e.hasOwnProperty("data")?String(e.data):"",this.customType=e.hasOwnProperty("custom_type")?e.custom_type:"",this.isFrozen=!!e.hasOwnProperty("freeze")&&e.freeze,this.isEphemeral=!!e.hasOwnProperty("is_ephemeral")&&e.is_ephemeral,e.hasOwnProperty("created_by")&&null!==e.created_by&&"object"===f(e.created_by)&&Object.keys(e.created_by).length>0?this.creator=new wt(e.created_by):this.creator=null,e.hasOwnProperty("metadata")&&null!==e.metadata&&e.hasOwnProperty("ts")&&"number"==typeof e.ts&&this._refreshMetaData(e.metadata,e.ts),e.hasOwnProperty("cached_primary_key")&&(this.cachedPrimaryKey=e.cached_primary_key)}},{key:"_addOrUpdateCachedMetaData",value:function(e,t){var n=At.get(this);Object.keys(e).forEach(function(r){var a=n[r],i=e[r];a?t>a.updatedAt&&(a.value=i,a.updatedAt=t,a.isRemoved=!1):n[r]={value:i,updatedAt:t,isRemoved:!1}})}},{key:"_markAsDeletedCachedMetaData",value:function(e,t){var n=At.get(this);e.forEach(function(e){var r=n[e];r?t>r.updatedAt&&(r.isRemoved=!0,r.updatedAt=t):n[e]={value:null,updatedAt:t,isRemoved:!0}})}},{key:"_refreshMetaData",value:function(e,t){var n={};Object.keys(e).forEach(function(r){n[r]={value:e[r],updatedAt:t,isRemoved:!1}}),At.set(this,n)}},{key:"_clearCachedMetaData",value:function(){At.set(this,{})}},{key:"cachedPrimaryKey",get:function(){return Rt.get(this)},set:function(e){Rt.set(this,e)}},{key:"isGroupChannel",value:function(){var e=G.get(this._iid).BaseChannel;return this.channelType===e.CHANNEL_TYPE_GROUP}},{key:"isOpenChannel",value:function(){var e=G.get(this._iid).BaseChannel;return this.channelType===e.CHANNEL_TYPE_OPEN}},{key:"createOperatorListQuery",value:function(){return new(0,G.get(this._iid).OperatorListQuery)(this)}},{key:"createMessageListQuery",value:function(){return new(0,G.get(this._iid).MessageListQuery)(this)}},{key:"createPreviousMessageListQuery",value:function(){return new(0,G.get(this._iid).PreviousMessageListQuery)(this)}},{key:"createPollListQuery",value:function(){return new(0,G.get(this._iid).PollListQuery)({channelUrl:this.url})}},{key:"createPollVoterListQuery",value:function(e,t){return new(0,G.get(this._iid).PollVoterListQuery)({channelUrl:this.url,pollId:e,optionId:t})}},{key:"serialize",value:function(){var e=this;return Nt.serialize(this,function(t){if(null!==t.lastMessage&&"object"===f(t.lastMessage)){var n=t.lastMessage;n.hasOwnProperty("_sender")&&(n.sender=n._sender,delete n._sender,t.lastMessage=n)}t.hasOwnProperty("_messageOffsetTimestamp")&&(t.messageOffsetTimestamp=t._messageOffsetTimestamp,delete t._messageOffsetTimestamp),e.cachedPrimaryKey&&(t.cachedPrimaryKey=e.cachedPrimaryKey)})}},{key:"getMessageChangeLogsByTimestamp",value:function(e,t,n,r){var a=this,i=null,s=me.parse(arguments,[new me({type:"number",constraint:function(e){return e>=0}}),new me({type:"boolean",optional:!0,defaultValue:!1}),new me({type:"boolean",optional:!0,defaultValue:!1}),new me({type:"callback"})]),o=N(s,5);return i=o[0],e=o[1],t=o[2],n=o[3],r=o[4],le(this._iid,function(r){i?r(i,null):R.get(a._iid).container.apiClient.getMessageChangeLogs({channelUrl:a.url,ts:e,token:null,isOpenChannel:a.isOpenChannel(),includeMetaArray:t,includeReactions:n}).then(function(e){var t=G.get(a._iid).BaseChannel,n={updatedMessages:e.updated.map(function(e){return t.buildMessage(e,a)}),deletedMessageIds:e.deleted.map(function(e){return parseInt(e.message_id)}),hasMore:e.has_more,token:e.next};r(null,n)}).catch(function(e){r(e,null)})},r)}},{key:"getMessageChangeLogsByToken",value:function(e,t,n,r){var a=this,i=null,s=me.parse(arguments,[new me({type:"string",nullable:!0}),new me({type:"boolean",optional:!0,defaultValue:!1}),new me({type:"boolean",optional:!0,defaultValue:!1}),new me({type:"callback"})]),o=N(s,5);return i=o[0],e=o[1],t=o[2],n=o[3],r=o[4],le(this._iid,function(r){i?r(i,null):R.get(a._iid).container.apiClient.getMessageChangeLogs({channelUrl:a.url,ts:null,token:e,isOpenChannel:a.isOpenChannel(),includeMetaArray:t,includeReactions:n}).then(function(e){var t=G.get(a._iid).BaseChannel,n={updatedMessages:e.updated.map(function(e){return t.buildMessage(e,a)}),deletedMessageIds:e.deleted.map(function(e){return parseInt(e.message_id)}),hasMore:e.has_more,token:e.next};r(null,n)}).catch(function(e){r(e,null)})},r)}},{key:"getMessageChangeLogsSinceToken",value:function(e,t,n){var r=this,a=G.get(this._iid),i=a.BaseChannel,s=a.MessageChangeLogsParams,o=null,l=me.parse(arguments,[new me({type:"string",nullable:!0}),new me({type:s,constraint:function(e){return e._validate()}}),new me({type:"callback"})]),u=N(l,4);return o=u[0],e=u[1],t=u[2],n=u[3],le(this._iid,function(n){o?n(o,null):R.get(r._iid).container.apiClient.getMessageChangeLogs(d({channelUrl:r.url,ts:null,token:e,isOpenChannel:r.isOpenChannel()},t)).then(function(e){var t={updatedMessages:e.updated.map(function(e){return i.buildMessage(e,r)}),deletedMessageIds:e.deleted.map(function(e){return parseInt(e.message_id)}),hasMore:e.has_more,token:e.next};n(null,t)}).catch(function(e){n(e,null)})},n)}},{key:"getMessageChangeLogsSinceTimestamp",value:function(e,t,n){var r=this,a=G.get(this._iid),i=a.BaseChannel,s=a.MessageChangeLogsParams,o=null,l=me.parse(arguments,[new me({type:"number",constraint:function(e){return e>=0}}),new me({type:s,constraint:function(e){return e._validate()}}),new me({type:"callback"})]),u=N(l,4);return o=u[0],e=u[1],t=u[2],n=u[3],le(this._iid,function(n){o?n(o,null):R.get(r._iid).container.apiClient.getMessageChangeLogs(d({channelUrl:r.url,timestamp:e,token:null,isOpenChannel:r.isOpenChannel()},t)).then(function(e){var t={updatedMessages:e.updated.map(function(e){return i.buildMessage(e,r)}),deletedMessageIds:e.deleted.map(function(e){return parseInt(e.message_id)}),hasMore:e.has_more,token:e.next};n(null,t)}).catch(function(e){n(e,null)})},n)}},{key:"getMyMutedInfo",value:function(e){var t=this;return le(this._iid,function(e){var n=Ba.getInstance(t._iid);R.get(t._iid).container.apiClient.getMyMutedInfo({channelUrl:t.url,userId:n.currentUser?n.currentUser.userId:null,isGroupChannel:t.isGroupChannel()},function(t,n){var r=null;t||(r={isMuted:n.is_muted,startAt:n.start_at,endAt:n.end_at,remainingDuration:n.remaining_duration,description:n.description}),e(t,r)})},e)}},{key:"_parseMessageListParams",value:function(e){for(var t=G.get(this._iid),n=t.MessageListParams,r=new n,a=null,i=!1,s=0,o=0,l=!1,u="",c="",d=null,f=!1,h=!1,p=null,m=arguments.length,g=new Array(m>1?m-1:0),y=1;y<m;y++)g[y-1]=arguments[y];switch(e){case"prev":var _=me.parse(g,[new me({type:"number"}),new me({type:"boolean"}),new me({type:"number"}),new me({type:"boolean"}),new me({type:"string"}),new me({type:"string"}),new me({type:"array",optional:!0}),new me({type:"boolean",optional:!0,defaultValue:!1}),new me({type:"boolean",optional:!0,defaultValue:!1}),new me({type:"callback"})]),v=N(_,11);a=v[0],i=v[2],s=v[3],l=v[4],u=v[5],c=v[6],d=v[7],f=v[8],h=v[9],p=v[10];break;case"next":var E=me.parse(g,[new me({type:"number"}),new me({type:"boolean"}),new me({type:"number"}),new me({type:"boolean"}),new me({type:"string"}),new me({type:"string"}),new me({type:"array",optional:!0}),new me({type:"boolean",optional:!0,defaultValue:!1}),new me({type:"boolean",optional:!0,defaultValue:!1}),new me({type:"callback"})]),b=N(E,11);a=b[0],i=b[2],o=b[3],l=b[4],u=b[5],c=b[6],d=b[7],f=b[8],h=b[9],p=b[10];break;case"prevnext":var C=me.parse(g,[new me({type:"number"}),new me({type:"number"}),new me({type:"number"}),new me({type:"boolean"}),new me({type:"string"}),new me({type:"string"}),new me({type:"array",optional:!0}),new me({type:"boolean",optional:!0,defaultValue:!1}),new me({type:"boolean",optional:!0,defaultValue:!1}),new me({type:"callback"})]),S=N(C,11);a=S[0],s=S[2],o=S[3],l=S[4],u=S[5],c=S[6],d=S[7],f=S[8],h=S[9],p=S[10],i=!0}return a?[null,p]:(r.isInclusive=i,r.prevResultSize=s,r.nextResultSize=o,r.reverse=l,r.messageType=u,r.customType=c,""===r.customType&&(r.customType="*"),r.senderUserIds=d,r.includeMetaArray=f,r.includeReactions=h,[r,p])}},{key:"_getMessageList",value:function(e,t,n,r){var a=this,i=G.get(this._iid),s=i.MessageListParams,o=null,l=me.parse(arguments,[new me({type:"number"}),new me({type:"string",constraint:function(e){return Object.values(kt).includes(e)}}),new me({type:s,constraint:function(e){return e._validate()}}),new me({type:"callback"})]),u=N(l,5);return o=u[0],e=u[1],t=u[2],n=u[3],r=u[4],le(this._iid,function(r){o?r(o,null):R.get(a._iid).container.apiClient.getMessageList(d(d({channel:a,token:e,tokenType:t},n),{},{shouldReverse:n.reverse})).then(function(e){var t=G.get(a._iid).BaseChannel,n=e.messages.map(function(e){return t.buildMessage(e,a)}).filter(function(e){return null!==e});r(null,n)}).catch(function(e){r(e,null)})},r)}},{key:"getPreviousMessagesByTimestamp",value:function(e){var t=this._parseMessageListParams.apply(this,["prev"].concat(S(me.toArray(arguments)))),n=N(t,2),r=n[0],a=n[1];return this._getMessageList(e,kt.TIMESTAMP,r,a)}},{key:"getNextMessagesByTimestamp",value:function(e){var t=this._parseMessageListParams.apply(this,["next"].concat(S(me.toArray(arguments)))),n=N(t,2),r=n[0],a=n[1];return this._getMessageList(e,kt.TIMESTAMP,r,a)}},{key:"getPreviousAndNextMessagesByTimestamp",value:function(e){var t=this._parseMessageListParams.apply(this,["prevnext"].concat(S(me.toArray(arguments)))),n=N(t,2),r=n[0],a=n[1];return this._getMessageList(e,kt.TIMESTAMP,r,a)}},{key:"getPreviousMessagesByID",value:function(e){var t=this._parseMessageListParams.apply(this,["prev"].concat(S(me.toArray(arguments)))),n=N(t,2),r=n[0],a=n[1];return this._getMessageList(e,kt.MESSAGE_ID,r,a)}},{key:"getNextMessagesByID",value:function(e){var t=this._parseMessageListParams.apply(this,["next"].concat(S(me.toArray(arguments)))),n=N(t,2),r=n[0],a=n[1];return this._getMessageList(e,kt.MESSAGE_ID,r,a)}},{key:"getPreviousAndNextMessagesByID",value:function(e){var t=this._parseMessageListParams.apply(this,["prevnext"].concat(S(me.toArray(arguments)))),n=N(t,2),r=n[0],a=n[1];return this._getMessageList(e,kt.MESSAGE_ID,r,a)}},{key:"getMessagesByTimestamp",value:function(e,t,n){return this._getMessageList(e,kt.TIMESTAMP,t,n)}},{key:"getMessagesByMessageId",value:function(e,t,n){return this._getMessageList(e,kt.MESSAGE_ID,t,n)}},{key:"_sendUserMessage",value:function(e){var t=this,n=e.reqId,r=e.message,a=e.data,i=e.customType,s=e.metaArrays,o=e.mentionType,l=e.mentionedUserIds,u=e.mentionedMessageTemplate,c=e.pushNotificationDeliveryOption,f=e.rootMessageId,h=e.parentMessageId,p=e.translationTargetLanguages,m=e.appleCriticalAlertOptions,g=e.pollId,y=e.silent,_=void 0!==y&&y,v=e.isReplyToChannel,E=e.messageParams,b=e.oldMessage,C=void 0===b?null:b,N=e.isManualResend,S=void 0!==N&&N,T=e.callback,O=G.get(this._iid),w=O.Command,k=O.UserMessage,A=Ba.getInstance(this._iid),I=je.of(this._iid),M=bt.of(this._iid),P=Oe.of(this._iid),U=R.get(this._iid).container.localCacheEnabled;n||(n=w.generateRequestId());var L={};Array.isArray(p)&&p.forEach(function(e){return L[e]=""});var D=k.objectify({messageId:0,reqId:n,user:A.currentUser||{},channel:this,message:r,data:a,customType:i,metaArrays:s,mentionType:o,mentionedUserIds:l,mentionedMessageTemplate:u,rootMessageId:f,parentMessageId:h,translations:L,silent:_,appleCriticalAlertOptions:m,isReplyToChannel:v,messageParams:E,createdAt:(new Date).getTime()}),x=new k(D);if(x.requestState=A.MessageRequestState.PENDING,x.sendingStatus=A.MessageSendingStatus.PENDING,x.requestedMentionUserIds=l,x._messageParams=E,!A.currentUser){var j=new F("Connection should be made first.",F.CONNECTION_REQUIRED),H=new k(D);return H.requestState=A.MessageRequestState.FAILED,H.sendingStatus=A.MessageSendingStatus.FAILED,H.requestedMentionUserIds=l,H.errorCode=j.code,T(j,H),x}return(!t.isGroupChannel()||C&&C._isAutoResendRegistered?Promise.resolve():I.upsert([x],Se.UNSENT).then(function(){P.send({source:S?de.LOCAL_MESSAGE_RESEND_STARTED:de.LOCAL_MESSAGE_PENDING_CREATED,payload:{channel:t,message:x}})})).then(function(){var e=w.bMessage({channelUrl:t.url,message:r,data:a,customType:i,metaArrays:s,mentionType:o,mentionedUserIds:l,mentionedMessageTemplate:u,requestId:n,rootMessageId:f,parentMessageId:h,silent:_,translationTargetLanguages:p,pushNotificationDeliveryOption:c,appleCriticalAlertOptions:m,pollId:g,isReplyToChannel:v});x.reqId=e.requestId,t.isGroupChannel()&&A.getConnectionState()!==A.ConnectionState.OPEN&&A.currentUser&&!A.connecting&&!A.reconnecting&&"string"==typeof i&&0===i.indexOf("SB_VIDEOCHAT")?R.get(A._iid).container.apiClient.sendUserMessage({channelUrl:t.url,isOpenChannel:t.isOpenChannel(),message:r,data:a,customType:i,translationTargetLanguages:p,metaArrays:s,mentionType:o,mentionedUserIds:l,mentionedMessageTemplate:u,pushNotificationDeliveryOption:c,rootMessageId:f,parentMessageId:h,appleCriticalAlertOptions:m,pollId:g,isReplyToChannel:v},function(e,r){var a=null;if(e){if(x._isAutoResendRegistered&&ie.isAutoResendableError(e.code))return;(a=new k(D)).requestState=A.MessageRequestState.FAILED,a.requestedMentionUserIds=l,C&&(a._isAutoResendRegistered=C._isAutoResendRegistered),e.code===F.REQUEST_CANCELED?(a.sendingStatus=A.MessageSendingStatus.CANCELED,I.removeUnsentMessages({channelUrl:t.url,sendingStatus:A.MessageSendingStatus.PENDING,reqIds:[n]}).then(function(){P.send({source:de.LOCAL_MESSAGE_CANCELED,payload:{channel:t,message:a}})}).catch(function(e){return $.error(e)}).finally(function(){T&&T(new F(e.message,e.code),a)})):(a.errorCode=e.code,a.sendingStatus=A.MessageSendingStatus.FAILED,U&&ie.isAutoResendableError(e.code)&&(a.sendingStatus=A.MessageSendingStatus.PENDING,a.errorCode=0,a._isAutoResendRegistered=!0),I.upsert([a],Se.UNSENT).then(function(){nt._completeCurrentAndProcessNextAutoResend(A,a),P.send({source:de.LOCAL_MESSAGE_FAILED,payload:{channel:t,message:a}})}).catch(function(e){return $.error(e)}).finally(function(){var t=a._clone();t.sendingStatus=A.MessageSendingStatus.FAILED,t.errorCode=e.code,t._isAutoResendRegistered=!1,T&&T(new F(e.message,e.code),t)}))}else{for(var i in(a=new k(r)).reqId=n,a.requestState=A.MessageRequestState.SUCCEEDED,a.sendingStatus=A.MessageSendingStatus.SUCCEEDED,C&&(a._isAutoResendRegistered=C._isAutoResendRegistered),t.lastMessage=a,A.channelHandlers)A.channelHandlers[i].onChannelChanged(t);M.upsert([t]).then(function(){P.send({source:de.EVENT_CHANNEL_CHANGED,payload:{channel:t}})}).then(function(){return I.removeUnsentMessages({channelUrl:t.url,sendingStatus:A.MessageSendingStatus.PENDING,reqIds:[n]})}).then(function(){return I.upsert([a],Se.SUCCEEDED)}).then(function(){nt._completeCurrentAndProcessNextAutoResend(A,a),P.send({source:de.EVENT_MESSAGE_SENT,payload:{channel:t,message:a}})}).catch(function(e){return $.error(e)}).finally(function(){T&&T(null,a)})}}):A.sendCommand(e,function(r,a){if(A.getErrorFirstCallback()){var i=[r,a];a=i[0],r=i[1]}if(a){if(x._isAutoResendRegistered&&ie.isAutoResendableError(a.code))return;var s=new k(D);s.reqId=e.requestId,s.requestState=A.MessageRequestState.FAILED,a.code===F.REQUEST_CANCELED?(s.sendingStatus=A.MessageSendingStatus.CANCELED,t.isGroupChannel()&&I.removeUnsentMessages({channelUrl:t.url,sendingStatus:A.MessageSendingStatus.PENDING,reqIds:[n]}).then(function(){P.send({source:de.LOCAL_MESSAGE_CANCELED,payload:{channel:t,message:s}})}).catch(function(e){return $.error(e)}).finally(function(){T&&T(new F(a.message,a.code),s)})):(s.sendingStatus=A.MessageSendingStatus.FAILED,s.errorCode=a.code,s.requestedMentionUserIds=l,t.isGroupChannel()?(U&&ie.isAutoResendableError(a.code)&&(s.sendingStatus=A.MessageSendingStatus.PENDING,s.errorCode=0,s._isAutoResendRegistered=!0),I.upsert([s],Se.UNSENT).then(function(){return nt._completeCurrentAndProcessNextAutoResend(A,s),P.send({source:de.LOCAL_MESSAGE_FAILED,payload:{channel:t,message:s}})}).catch(function(e){$.error(e)}).finally(function(){var e=s._clone();e.sendingStatus=A.MessageSendingStatus.FAILED,e.errorCode=a.code,e._isAutoResendRegistered=!1,T&&T(new F(a.message,a.code),e)})):T&&T(new F(a.message,a.code),s))}else{var o=new k(d(d({},r.getJsonElement()),{},{messageParams:E}));o.reqId=n,o.requestState=A.MessageRequestState.SUCCEEDED,o.sendingStatus=A.MessageSendingStatus.SUCCEEDED,C&&(o._isAutoResendRegistered=C._isAutoResendRegistered);var u=A.currentUser;if(u&&o._sender&&u.userId===o._sender.userId&&(u.nickname!==o._sender.nickname&&(u.nickname=o._sender.nickname),u.plainProfileUrl!==o._sender.plainProfileUrl&&(u.plainProfileUrl=o._sender.plainProfileUrl),ie.deepEqual(u.metaData,o._sender.metaData)||(u.metaData=o._sender.metaData)),t.isGroupChannel()){t.lastMessage=o,Object.keys(A.channelHandlers).forEach(function(e){A.channelHandlers[e].onChannelChanged(t)});var c=Oe.of(t._iid);bt.of(t._iid).upsert([t]).then(function(){c.send({source:de.EVENT_CHANNEL_CHANGED,payload:{channel:t}})}).then(function(){return I.removeUnsentMessages({channelUrl:t.url,sendingStatus:A.MessageSendingStatus.PENDING,reqIds:[n]})}).then(function(){return I.upsert([o],Se.SUCCEEDED)}).then(function(){nt._completeCurrentAndProcessNextAutoResend(A,o),c.send({source:de.EVENT_MESSAGE_SENT,payload:{channel:t,message:o}})}).catch(function(e){$.error(e)}).finally(function(){T&&T(null,o)})}else T&&T(null,o)}})}),x}},{key:"sendUserMessage",value:function(){var e=me.toArray(arguments),t=e.pop(),n=null,r=null,a=G.get(this._iid),i=a.UserMessageParams;if("function"==typeof t)if(e[0]instanceof i)null===(r=e[0]).data&&(r.data=""),null===r.customType&&(r.customType="");else if("string"==typeof e[0])switch((r=new i).message=e[0],e.length){case 1:break;case 2:r.data=e[1]||"";break;case 3:r.data=e[1]||"",r.customType=e[2]||"";break;case 4:r.data=e[1]||"",r.customType=e[2]||"",r.translationTargetLanguages=Array.isArray(e[3])?e[3]:[e[3]];break;default:n=me.error}else n=me.error;else n=me.error;var s=R.get(this._iid),o=s.container.isErrorFirstInCallback;return!n&&r._validate()&&r.message?this._sendUserMessage(d(d({},r),{},{metaArrays:r.metaArrays,mentionType:r.mentionType,mentionedUserIds:r._mentionedUserIds,mentionedMessageTemplate:r.mentionedMessageTemplate,rootMessageId:r.rootMessageId,parentMessageId:r.parentMessageId,translationTargetLanguages:r._translationTargetLanguages,messageParams:r,callback:function(e,n){o?t(e,n):t(n,e)}})):(o?t(me.error,null):t(null,me.error),null)}},{key:"_autoResendUserMessage",value:function(e){var t=this,n=Ba.getInstance(this._iid);if(n&&n.currentUser){var r=e._messageParams;return new Promise(function(n,a){return t._sendUserMessage(d(d({},r),{},{reqId:e.reqId,metaArrays:r.metaArrays,mentionType:r.mentionType,mentionedUserIds:r._mentionedUserIds,rootMessageId:r.rootMessageId,parentMessageId:r.parentMessageId,translationTargetLanguages:r._translationTargetLanguages,pushNotificationDeliveryOption:r.pushNotificationDeliveryOption,messageParams:r,oldMessage:e,callback:function(e,t){e?a(e):n(t)}}))})}}},{key:"_autoResendFileMessage",value:function(e){var t=Ba.getInstance(this._iid);if(t&&t.currentUser){var n=this._parsePendingFileMessage(e),r=G.get(this._iid).FileMessageQueue;r.create(this).addJob(new r.Job({fileInfo:n,pendingMessage:e._clone(),requestId:e.reqId,error:n.error,response:null}))}}},{key:"resendUserMessage",value:function(e,t){var n=this,r=G.get(this._iid),a=r.UserMessage,i=r.UserMessageParams,s=null,o=me.parse(arguments,[new me({type:a,constraint:function(e){return 0===e.messageId&&e.isResendable()&&e.reqId&&e.channelUrl===n.url&&"string"==typeof e.message&&"string"==typeof e.data&&"string"==typeof e.customType&&"object"===f(e.translations)&&!Array.isArray(e.translations)}}),new me({type:"callback"})]),l=N(o,3);return s=l[0],e=l[1],t=l[2],le(this._iid,function(t){if(s)s.message+=" Please check if the failed message is resend-able with `message.isResendable().`",t(s,null);else{var r=Object.keys(e.translations),a=i.PushNotificationDeliveryOption.DEFAULT;n._sendUserMessage(d(d({},e),{},{mentionedUserIds:e.requestedMentionUserIds,translationTargetLanguages:r,pushNotificationDeliveryOption:a,reqId:e.reqId,messageParams:e._messageParams,isManualResend:!0,callback:t}))}},t)}},{key:"updateUserMessage",value:function(e,t,n,r,a){var i=this,s=G.get(this._iid),o=s.Command,l=s.UserMessage,u=s.UserMessageParams,c=arguments,f=null,h=null;if("number"==typeof e)switch(c.length){case 3:var p=me.parse(c,[new me({type:"number"}),new me({type:u}),new me({type:"callback"})]),m=N(p,4);f=m[0],e=m[1],h=m[2],a=m[3];break;case 5:h=new u;var g=me.parse(c,[new me({type:"number"}),new me({type:"string",nullable:!0}),new me({type:"string",nullable:!0}),new me({type:"string",nullable:!0}),new me({type:"callback"})]),y=N(g,6);f=y[0],e=y[1],t=y[2],n=y[3],r=y[4],a=y[5],h.message=t,h.data=n,h.customType=r}return le(this._iid,function(t){if(!f&&h&&h._validate()){var n=o.bUpdateUserMessage(d(d({channelUrl:i.url,messageId:e},h),{},{mentionType:h._mentionType,mentionedUserIds:h._mentionedUserIds,mentionedMessageTemplate:h.mentionedMessageTemplate})),r=Ba.getInstance(i._iid),a=je.of(i._iid),s=Oe.of(i._iid);r.sendCommand(n,function(e,n){if(r.getErrorFirstCallback()){var o=[e,n];n=o[0],e=o[1]}var u=null;n||(u=new l(d(d({},e.getJsonElement()),{},{messageParams:h})),i.isGroupChannel()&&a.upsert([u],Se.SUCCEEDED).then(function(){s.send({source:de.EVENT_MESSAGE_UPDATED,payload:{channel:i,message:u}})}).catch(function(e){$.error(e)})),t(n,u)})}else t(me.error,null)},a)}},{key:"translateUserMessage",value:function(e,t,n){var r=this,a=Ba.getInstance(this._iid),i=G.get(this._iid),s=i.UserMessage,o=null,l=me.parse(arguments,[new me({type:s,constraint:function(e){return e.channelUrl===r.url&&e.sendingStatus===a.MessageSendingStatus.SUCCEEDED}}),new me({type:"array",constraint:function(e){return e.every(function(e){return"string"==typeof e})}}),new me({type:"callback"})]),u=N(l,4);return o=u[0],e=u[1],t=u[2],n=u[3],le(this._iid,function(n){o?n(o,null):R.get(r._iid).container.apiClient.translateUserMessage({channelUrl:r.url,isOpenChannel:r.isOpenChannel(),messageId:e.messageId,translationTargetLanguages:t},function(e,t){var r=null;e||(r=new s(t)),n(e,r)})},n)}},{key:"_parsePendingFileMessage",value:function(e){var t=e._messageParams.serialize(),n=t.data,r=t.customType,a=t.fileUrl,i=t.thumbnailSizes,s=t.mentionType,o=t.mentionedUserIds,l=t.metaArrays,u=t.parentMessageId,c=t.pushNotificationDeliveryOption,d=e._messageParams;return{file:d.file?d.file:a,name:e.name,type:e.type,size:e.size,data:n,customType:r,thumbnailSizes:i,metaArrays:l,mentionType:s,mentionedUserIds:o,pushNotificationDeliveryOption:c,rootMessageId:u,parentMessageId:u,appleCriticalAlertOptions:d.appleCriticalAlertOptions,messageParams:e._messageParams,silent:e.silent,error:null,progressHandler:null,callback:null}}},{key:"_parseFileMessageArguments",value:function(e){var t=G.get(this._iid),n=t.BaseMessageParams,r=t.FileMessageParams,a={error:null,file:null,name:null,type:null,size:null,data:"",customType:"",thumbnailSizes:[],metaArrays:[],mentionType:n.MentionType.USERS,mentionedUserIds:[],pushNotificationDeliveryOption:r.PushNotificationDeliveryOption.DEFAULT,rootMessageId:null,parentMessageId:null,progressHandler:null,silent:!1,appleCriticalAlertOptions:null,isReplyToChannel:!1,messageParams:null,callback:null};if("function"==typeof e[e.length-1]&&(a.callback=e.pop()),"function"==typeof e[e.length-1]&&(a.progressHandler=e.pop()),e[0]instanceof r)a.file=e[0].file||e[0].fileUrl,a.name=e[0].fileName,a.type=e[0].mimeType,a.size=e[0].fileSize,a.data=e[0].data,a.customType=e[0].customType,a.thumbnailSizes=e[0].thumbnailSizes,a.metaArrays=e[0].metaArrays,a.mentionType=e[0]._mentionType,a.mentionedUserIds=e[0]._mentionedUserIds,a.pushNotificationDeliveryOption=e[0].pushNotificationDeliveryOption?e[0].pushNotificationDeliveryOption:r.PushNotificationDeliveryOption.DEFAULT,a.rootMessageId=e[0].rootMessageId,a.parentMessageId=e[0].parentMessageId,a.silent=e[0].silent,e[0]._validate()||(a.error=me.error),a.appleCriticalAlertOptions=e[0].appleCriticalAlertOptions,a.isReplyToChannel=e[0].isReplyToChannel,a.messageParams=e[0];else if(ie.isFile(e[0])||"string"==typeof e[0]){switch(a.file=e[0],e.length){case 1:break;case 2:a.data=e[1];break;case 3:a.data=e[1],a.customType=e[2];break;case 4:a.data=e[1],a.customType=e[2],a.thumbnailSizes=e[3];break;case 5:a.name=e[1],a.type=e[2],a.size=e[3],a.data=e[4];break;case 6:a.name=e[1],a.type=e[2],a.size=e[3],a.data=e[4],a.customType=e[5];break;case 7:a.name=e[1],a.type=e[2],a.size=e[3],a.data=e[4],a.customType=e[5],a.thumbnailSizes=e[6]}var i=N(me.parse([a.file,a.name,a.type,a.size,a.data,a.customType,a.thumbnailSizes],[new me({type:["file","string"]}),new me({type:"string",nullable:!0}),new me({type:"string",nullable:!0}),new me({type:"number",nullable:!0,constraint:function(e){return e>=0}}),new me({type:"string",nullable:!0}),new me({type:"string",nullable:!0}),new me({type:"array"})]),8);a.error=i[0],a.file=i[1],a.name=i[2],a.type=i[3],a.size=i[4],a.data=i[5],a.customType=i[6],a.thumbnailSizes=i[7];var s=ie.isFile(a.file);s&&(a.name=a.name||a.file.name,a.type=a.type||a.file.type,a.size=a.size||a.file.size),a.messageParams={mentionType:n.MentionType.USERS,mentionedUserIds:a.mentionedUserIds,cachedMentionedUsers:[],cachedMentionedUserIds:[],metaArrays:a.metaArrays,parentMessageId:a.parentMessageId,pushNotificationDeliveryOption:a.pushNotificationDeliveryOption,appleCriticalAlertOptions:a.appleCriticalAlertOptions,fileName:a.name,mimeType:a.type,fileSize:a.size,data:a.data,customType:a.customType,isUpdate:!1,file:s?a.file:null,fileUrl:s?null:a.file,thumbnailSizes:a.thumbnailSizes}}else a.error=me.error;return ie.isFile(a.file)&&(a.name=a.name||a.file.name,a.type=a.type||a.file.type,a.size=a.size||a.file.size),a}},{key:"_createTempFileMessage",value:function(e){try{var t=Ba.getInstance(this._iid),n=G.get(this._iid),r=n.Command,a=n.FileMessage,i=d(d({},e),{},{messageId:0,reqId:r.generateRequestId(),user:t.currentUser||{},channel:this,plainUrl:"string"==typeof e.file?e.file:"",thumbnails:e.thumbnailSizes.map(function(e){return{url:"",plainUrl:"",width:e.maxWidth,height:e.maxHeight,real_width:0,real_height:0}}),sendingStatus:t.MessageSendingStatus.PENDING,createdAt:(new Date).getTime()}),s=a.objectify(i);return new a(s)}catch(e){return null}}},{key:"sendFileMessage",value:function(){var e=this,t=me.toArray(arguments),n=this._parseFileMessageArguments(t),r=G.get(this._iid),a=r.Command,i=null,s=a.generateRequestId();n.error||((i=this._createTempFileMessage(n)).requestedMentionUserIds=n.mentionedUserIds,s=i.reqId);var o=Ba.getInstance(this._iid);if(o&&o.currentUser||(n.error=new F("Connection should be made first.",F.CONNECTION_REQUIRED)),this.isGroupChannel()){var l=je.of(this._iid),u=Oe.of(this._iid);l.upsert([i],Se.UNSENT).then(function(){u.send({source:de.LOCAL_MESSAGE_PENDING_CREATED,payload:{channel:e,message:i}})})}var c=G.get(this._iid),d=c.FileMessageQueue,f=d.create(this);return f.addJob(new d.Job({fileInfo:n,pendingMessage:i,requestId:s,error:n.error,response:null})),i}},{key:"sendFileMessages",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.progress?n.progress:function(){},a=n.sent?n.sent:function(){},i=n.complete?n.complete:function(){};if(Array.isArray(e)&&e.length>0&&e.length<=20){var s=[];return e.forEach(function(n,o){s.push(t.sendFileMessage(n,r,function(t,n){a(t,n),o===e.length-1&&i(null)}))}),s}return i(me.error),null}},{key:"resendFileMessage",value:function(e,t,n){var r=this,a=G.get(this._iid),i=a.FileMessage,s=a.FileMessageParams,o=null,l=me.parse(arguments,[new me({type:i,constraint:function(e){return 0===e.messageId&&e.isResendable()&&e.reqId&&e.channelUrl===r.url&&"string"==typeof e.data&&"string"==typeof e.customType&&Array.isArray(e.thumbnails)}}),new me({type:"file",optionalIf:function(e){return!!e[0].plainUrl},defaultValue:null}),new me({type:"callback"})]),u=N(l,4);return o=u[0],e=u[1],t=u[2],n=u[3],le(this._iid,function(n){if(o)o.message+=" Please check if the failed message is resend-able with `message.isResendable().`",n(o,null);else{var a=new s;e.plainUrl?a.fileUrl=e.plainUrl:a.file=t,a.fileName=e.name,a.fileSize=e.size,a.mimeType=e.type,a.data=e.data,a.customType=e.customType,a.mentionType=e.mentionType,a.mentionedUserIds=e.requestedMentionUserIds,a.metaArrays=e.metaArrays,a.thumbnailSizes=e.thumbnails.map(function(e){return{maxWidth:e.width,maxHeight:e.height}}),a.appleCriticalAlertOptions=e.appleCriticalAlertOptions,r.sendFileMessage(a,n)}},n)}},{key:"updateFileMessage",value:function(e,t,n,r){var a=this,i=G.get(this._iid),s=i.Command,o=i.FileMessage,l=i.FileMessageParams,u=arguments,c=null,f=null;if("number"==typeof e)switch(u.length){case 3:var h=me.parse(u,[new me({type:"number"}),new me({type:l}),new me({type:"callback"})]),p=N(h,4);c=p[0],e=p[1],f=p[2],r=p[3],f&&(f._isUpdate=!0);break;case 4:f=new l;var m=me.parse(u,[new me({type:"number"}),new me({type:"string",nullable:!0}),new me({type:"string",nullable:!0}),new me({type:"callback"})]),g=N(m,5);c=g[0],e=g[1],t=g[2],n=g[3],r=g[4],f.data=t,f.customType=n,f._isUpdate=!0}return le(this._iid,function(t){if(!c&&f&&f._validate()){var n=s.bUpdateFileMessage(d(d({channelUrl:a.url,messageId:e},f),{},{mentionType:f._mentionType,mentionedUserIds:f._mentionedUserIds})),r=Ba.getInstance(a._iid);r.sendCommand(n,function(e,n){if(r.getErrorFirstCallback()){var i=[e,n];n=i[0],e=i[1]}var s=null;if(!n&&(s=new o(d(d({},e.getJsonElement()),{},{messageParams:f})),a.isGroupChannel())){var l=je.of(a._iid),u=Oe.of(a._iid);l.upsert([s],Se.SUCCEEDED).then(function(){u.send({source:de.EVENT_MESSAGE_UPDATED,payload:{channel:a,message:s}})}).catch(function(e){$.error(e)})}t(n,s)})}else t(me.error,null)},r)}},{key:"cancelUploadingFileMessage",value:function(e,t){var n=null,r=me.parse(arguments,[new me({type:["number","string"]}),new me({type:"callback"})]),a=N(r,3);n=a[0],e=a[1],t=a[2];var i=R.get(this._iid),s=i.container.isErrorFirstInCallback;if(n)return s?t(n,null):t(null,n),!1;var o=G.get(this._iid),l=o.FileMessageQueue,u=l.create(this);return u.cancelUploadItemByRequestId(e,function(e,n){return s?t(e,n):t(n,e)})}},{key:"addReaction",value:function(e,t,n){var r=this,a=Ba.getInstance(this._iid),i=G.get(this._iid),s=i.ReactionEvent,o=null,l=me.parse(arguments,[new me({type:Ot}),new me({type:"string",constraint:function(e){return e.length>0}}),new me({type:"callback"})]),u=N(l,4);return o=u[0],e=u[1],t=u[2],n=u[3],le(this._iid,function(n){o?n(o,null):e.sendingStatus===a.MessageSendingStatus.SUCCEEDED?R.get(r._iid).container.apiClient.addReaction({isGroupChannel:e.isGroupChannel(),channelUrl:e.channelUrl,messageId:e.messageId,key:t},function(t,r){var a=null;t||(a=s.createFromJson(d(d({},r),{},{msg_id:e.messageId}))),n(t,a)}):n(new F("Cannot add reaction to a non-succeeded message.",F.REQUEST_FAILED),null)},n)}},{key:"deleteReaction",value:function(e,t,n){var r=this,a=Ba.getInstance(this._iid),i=G.get(this._iid),s=i.ReactionEvent,o=null,l=me.parse(arguments,[new me({type:Ot}),new me({type:"string",constraint:function(e){return e.length>0}}),new me({type:"callback"})]),u=N(l,4);return o=u[0],e=u[1],t=u[2],n=u[3],le(this._iid,function(n){o?n(o,null):e.sendingStatus===a.MessageSendingStatus.SUCCEEDED?R.get(r._iid).container.apiClient.deleteReaction({isGroupChannel:e.isGroupChannel(),channelUrl:e.channelUrl,messageId:e.messageId,key:t},function(t,r){var a=null;t||(a=s.createFromJson(d(d({},r),{},{msg_id:e.messageId}))),n(t,a)}):n(new F("Cannot remove reaction to a non-succeeded message.",F.REQUEST_FAILED),null)},n)}},{key:"deleteMessage",value:function(e,t){var n=this,r=null,a=me.parse(arguments,[new me({type:"object",constraint:function(e){return!Array.isArray(e)&&null!==e&&e.hasOwnProperty("messageId")}}),new me({type:"callback"})]),i=N(a,3);return r=i[0],e=i[1],t=i[2],le(this._iid,function(t){r?t(r,null):R.get(n._iid).container.apiClient.deleteMessage({channelUrl:n.url,isOpenChannel:n.isOpenChannel(),messageId:e.messageId},function(r,a){if(!r&&n.isGroupChannel()){var i=je.of(n._iid),s=Oe.of(n._iid);i.remove([e.messageId],Se.SUCCEEDED).then(function(){s.send({source:de.EVENT_MESSAGE_DELETED,payload:{channel:n,message:e}})}).catch(function(e){return $.error(e)})}t(r,null)})},t)}},{key:"copyUserMessage",value:function(t,n,r){var a=G.get(this._iid);a.Command;var i=a.UserMessage,s=a.BaseMessageParams,o=null,l=me.parse(arguments,[new me({type:e}),new me({type:i}),new me({type:"callback"})]),u=N(l,4);o=u[0],t=u[1],n=u[2],r=u[3];var c=R.get(this._iid),f=c.container.isErrorFirstInCallback;if(o)return f?r(me.error,null):r(null,me.error),null;if(this.url!==n.channelUrl){var h=new F("The message does not belong to this channel",F.INVALID_PARAMETER);return f?r(h,null):r(null,h),null}var p={},m=Object.keys(n.translations);m.forEach(function(e){return p[e]=""});var g=s.PushNotificationDeliveryOption.DEFAULT;return t._sendUserMessage(d(d({},n),{},{reqId:null,pushNotificationDeliveryOption:g,translationTargetLanguages:m,rootMessageId:null,parentMessageId:null,parentMessageText:null,messageParams:n._messageParams,callback:r}))}},{key:"copyFileMessage",value:function(t,n,r){var a=this,i=G.get(this._iid),s=i.Command;i.GroupChannel;var o=i.FileMessage,l=i.BaseMessageParams;i.FileMessageParams;var u=i.User,c=null,d=me.parse(arguments,[new me({type:e}),new me({type:o}),new me({type:"callback"})]),f=N(d,4);c=f[0],t=f[1],n=f[2],r=f[3];var h=R.get(this._iid),p=h.container.isErrorFirstInCallback;if(c)return p?r(me.error,null):r(null,me.error),null;if(this.url!==n.channelUrl){var m=new F("The message does not belong to this channel");return p?r(m,null):r(null,m),null}var g=Ba.getInstance(this._iid),y=n,_=y.url,v=y.name,E=y.type,b=y.size,C=y.data,S=y.customType,T=y.mentionType,O=y.mentionedUserIds,w=y.mentionedUsers,k=y.metaArrays,A=y.thumbnails,I=y.requireAuth,M=y.messageSurvivalSeconds,P=y.silent,U=y.appleCriticalAlertOptions,L=s.generateRequestId(),D=g.currentUser||{},x=t.url,j=t.isOpenChannel(),H=w.filter(function(e){return new u(u.objectify(e))}),B=l.PushNotificationDeliveryOption.DEFAULT,z=o.objectify({messageId:0,reqId:L,user:D,channel:t,plainUrl:_,name:v,type:E,size:b,data:C,customType:S,mentionType:T,mentionedUserIds:O,mentionedUsers:H,requestedMentionUserIds:O,metaArrays:k,thumbnails:A,requireAuth:I,messageSurvivalSeconds:M,silent:P,createdAt:(new Date).getTime(),appleCriticalAlertOptions:U}),V=new o(z);if(V.requestState=g.MessageRequestState.PENDING,V.sendingStatus=g.MessageSendingStatus.PENDING,!g.currentUser){var q=new F("Connection should be made first.",F.CONNECTION_REQUIRED),Y=new o(z);return Y.requestState=g.MessageRequestState.FAILED,Y.sendingStatus=g.MessageSendingStatus.FAILED,Y.errorCode=q.code,p?r(q,Y):r(Y,q),V}var K=s.bFile({requestId:L,channelUrl:x,url:_,name:v,type:E,size:b,data:C,customType:S,metaArrays:k,mentionType:T,mentionedUserIds:O,thumbnailSizes:A,requireAuth:I,pushNotificationDeliveryOption:B,silent:P,appleCriticalAlertOptions:U});return g.getConnectionState()===g.ConnectionState.OPEN||g.connecting||g.reconnecting?g.sendCommand(K,function(e,n){if(g.getErrorFirstCallback()){var i=[e,n];n=i[0],e=i[1]}if(n)if(n.code!==F.INVALID_PARAMETER){var s=new o(z);s.requestState=g.MessageRequestState.FAILED,s.sendingStatus=g.MessageSendingStatus.FAILED,n.code!==F.FILE_UPLOAD_CANCEL_FAILED&&n.code!==F.REQUEST_CANCELED||(s.sendingStatus=g.MessageSendingStatus.CANCELED),s.errorCode=n.code,p?r(n,s):r(s,n)}else p?r(n,null):r(null,n);else{var l=new o(e.getJsonElement()),u=l._sender;if(D&&u&&D.userId===u.userId&&(D.nickname!==u.nickname&&(D.nickname=u.nickname),D.plainProfileUrl!==u.plainProfileUrl&&(D.plainProfileUrl=u.plainProfileUrl)),t.isGroupChannel()){t.lastMessage=l,Object.keys(g.channelHandlers).forEach(function(e){g.channelHandlers[e].onChannelChanged(t)});var c=Oe.of(a._iid);bt.of(a._iid).upsert([t]).then(function(){c.send({source:de.EVENT_CHANNEL_CHANGED,payload:{channel:t}})}).catch(function(e){$.error(e)}),je.of(a._iid).upsert([l]).then(function(){c.send({source:de.EVENT_MESSAGE_SENT,payload:{channel:a,message:l}})}).catch(function(e){$.error(e)})}p?r(null,l):r(l,null)}}):h.container.apiClient.sendFileMessage({channelUrl:x,isOpenChannel:j,fileUrl:_,fileName:v,fileType:E,fileSize:b,data:C,customType:S,metaArrays:k,mentionType:T,mentionedUserIds:O,thumbnailSizes:A,requireAuth:I,pushNotificationDeliveryOption:B,appleCriticalAlertOptions:U},function(e,n){if(e)if(e.code!==F.INVALID_PARAMETER){var a=new o(commnad.getJsonElement());a.requestState=g.MessageRequestState.FAILED,a.sendingStatus=g.MessageSendingStatus.FAILED,e.code!==F.FILE_UPLOAD_CANCEL_FAILED&&e.code!==F.REQUEST_CANCELED||(a.sendingStatus=g.MessageSendingStatus.CANCELED),a.errorCode=e.code,p?r(e,a):r(a,e)}else p?r(e,null):r(null,e);else{var i=new o(n),s=i._sender;D&&s&&D.userId===s.userId&&(D.nickname!==s.nickname&&(D.nickname=s.nickname),D.plainProfileUrl!==s.plainProfileUrl&&(D.plainProfileUrl=s.plainProfileUrl)),t.isGroupChannel()&&(t.lastMessage=i,Object.keys(g.channelHandlers).forEach(function(e){g.channelHandlers[e].onChannelChanged(t)})),p?r(null,i):r(i,null)}}),V}},{key:"addOperators",value:function(e,t){var n=this,r=null,a=me.parse(arguments,[new me({type:"array",constraint:function(e){return Object.keys(e).map(function(t){return e[t]}).every(function(e){return"string"==typeof e})}}),new me({type:"callback"})]),i=N(a,3);return r=i[0],e=i[1],t=i[2],le(this._iid,function(t){r?t(r,null):R.get(n._iid).container.apiClient.addOperators({channelUrl:n.url,isOpenChannel:n.isOpenChannel(),operatorUserIds:e},function(e,n){return t(e,n)})},t)}},{key:"removeOperators",value:function(e,t){var n=this,r=null,a=me.parse(arguments,[new me({type:"array",constraint:function(e){return Object.keys(e).map(function(t){return e[t]}).every(function(e){return"string"==typeof e})}}),new me({type:"callback"})]),i=N(a,3);return r=i[0],e=i[1],t=i[2],le(this._iid,function(t){r?t(r,null):R.get(n._iid).container.apiClient.removeOperators({channelUrl:n.url,isOpenChannel:n.isOpenChannel(),operatorUserIds:e},function(e,n){return t(e,n)})},t)}},{key:"getMetaCounters",value:function(e,t){var n=this,r=null,a=me.parse(arguments,[new me({type:"array",constraint:function(e){return Object.keys(e).map(function(t){return e[t]}).every(function(e){return"string"==typeof e})}}),new me({type:"callback"})]),i=N(a,3);return r=i[0],e=i[1],t=i[2],le(this._iid,function(t){r?t(r,null):R.get(n._iid).container.apiClient.getMetaCounters({channelUrl:n.url,isOpenChannel:n.isOpenChannel(),keys:e},function(e,n){return t(e,n)})},t)}},{key:"getAllMetaCounters",value:function(e){var t=this;return le(this._iid,function(e){R.get(t._iid).container.apiClient.getMetaCounters({channelUrl:t.url,isOpenChannel:t.isOpenChannel(),keys:[]},function(t,n){return e(t,n)})},e)}},{key:"createMetaCounters",value:function(e,t){var n=this,r=null,a=me.parse(arguments,[new me({type:"object",constraint:function(e){return e&&!Array.isArray(e)&&Object.keys(e).length>0&&Object.keys(e).map(function(t){return e[t]}).every(function(e){return"number"==typeof e})}}),new me({type:"callback"})]),i=N(a,3);return r=i[0],e=i[1],t=i[2],le(this._iid,function(t){r?t(r,null):R.get(n._iid).container.apiClient.createMetaCounters({channelUrl:n.url,isOpenChannel:n.isOpenChannel(),metaCounter:e},function(e,n){return t(e,n)})},t)}},{key:"updateMetaCounters",value:function(e,t,n){var r=this,a=null,i=me.parse(arguments,[new me({type:"object",constraint:function(e){return e&&!Array.isArray(e)&&Object.keys(e).length>0&&Object.keys(e).map(function(t){return e[t]}).every(function(e){return"number"==typeof e})}}),new me({type:"boolean",optional:!0,defaultValue:!1}),new me({type:"callback"})]),s=N(i,4);return a=s[0],e=s[1],t=s[2],n=s[3],le(this._iid,function(n){a?n(a,null):R.get(r._iid).container.apiClient.updateMetaCounters({channelUrl:r.url,isOpenChannel:r.isOpenChannel(),metaCounter:e,upsert:t,mode:"set"},function(e,t){return n(e,t)})},n)}},{key:"increaseMetaCounters",value:function(e,t){var n=this,r=null,a=me.parse(arguments,[new me({type:"object",constraint:function(e){return e&&!Array.isArray(e)&&Object.keys(e).length>0&&Object.keys(e).map(function(t){return e[t]}).every(function(e){return"number"==typeof e})}}),new me({type:"callback"})]),i=N(a,3);return r=i[0],e=i[1],t=i[2],le(this._iid,function(t){r?t(r,null):R.get(n._iid).container.apiClient.updateMetaCounters({channelUrl:n.url,isOpenChannel:n.isOpenChannel(),metaCounter:e,upsert:!1,mode:"increase"},function(e,n){return t(e,n)})},t)}},{key:"decreaseMetaCounters",value:function(e,t){var n=this,r=null,a=me.parse(arguments,[new me({type:"object",constraint:function(e){return e&&!Array.isArray(e)&&Object.keys(e).length>0&&Object.keys(e).map(function(t){return e[t]}).every(function(e){return"number"==typeof e})}}),new me({type:"callback"})]),i=N(a,3);return r=i[0],e=i[1],t=i[2],le(this._iid,function(t){r?t(r,null):R.get(n._iid).container.apiClient.updateMetaCounters({channelUrl:n.url,isOpenChannel:n.isOpenChannel(),metaCounter:e,upsert:!1,mode:"decrease"},function(e,n){var r=null;e||(r={},Object.keys(n).forEach(function(e){r[e]=n[e]})),t(e,r)})},t)}},{key:"deleteMetaCounter",value:function(e,t){var n=this,r=null,a=me.parse(arguments,[new me({type:"string"}),new me({type:"callback"})]),i=N(a,3);return r=i[0],e=i[1],t=i[2],le(this._iid,function(t){r?t(r,null):R.get(n._iid).container.apiClient.deleteMetaCounter({channelUrl:n.url,isOpenChannel:n.isOpenChannel(),key:e},function(e,n){return t(e,n)})},t)}},{key:"deleteAllMetaCounters",value:function(e){var t=this;return le(this._iid,function(e){R.get(t._iid).container.apiClient.deleteAllMetaCounters({channelUrl:t.url,isOpenChannel:t.isOpenChannel()},function(t,n){return e(t,n)})},e)}},{key:"getCachedMetaData",value:function(){var e=At.get(this),t={};return Object.keys(e).forEach(function(n){var r=e[n];r.isRemoved||(t[n]=r.value)}),t}},{key:"getMetaData",value:function(e,t){var n=this,r=null,a=me.parse(arguments,[new me({type:"array",constraint:function(e){return Object.keys(e).map(function(t){return e[t]}).every(function(e){return"string"==typeof e})}}),new me({type:"callback"})]),i=N(a,3);return r=i[0],e=i[1],t=i[2],le(this._iid,function(t){r?t(r,null):R.get(n._iid).container.apiClient.getMetaData({channelUrl:n.url,isOpenChannel:n.isOpenChannel(),keys:e},function(e,r){if(r&&r.ts){var a=r.metadata;n._addOrUpdateCachedMetaData(a,r.ts),t(e,a)}else t(e,r)})},t)}},{key:"getAllMetaData",value:function(e){var t=this;return le(this._iid,function(e){R.get(t._iid).container.apiClient.getMetaData({channelUrl:t.url,isOpenChannel:t.isOpenChannel(),keys:[]},function(n,r){if(r&&r.ts){var a=r.metadata;t._refreshMetaData(a,r.ts),e(n,a)}else e(n,r)})},e)}},{key:"createMetaData",value:function(e,t){var n=this,r=null,a=me.parse(arguments,[new me({type:"object",constraint:function(e){return e&&!Array.isArray(e)&&Object.keys(e).length>0}}),new me({type:"callback"})]),i=N(a,3);return r=i[0],e=i[1],t=i[2],le(this._iid,function(t){r?t(r,null):R.get(n._iid).container.apiClient.createMetaData({channelUrl:n.url,isOpenChannel:n.isOpenChannel(),metaData:e},function(e,n){t(e,n&&n.ts?n.metadata:n)})},t)}},{key:"updateMetaData",value:function(e,t,n){var r=this,a=null,i=me.parse(arguments,[new me({type:"object",constraint:function(e){return e&&!Array.isArray(e)&&Object.keys(e).length>0}}),new me({type:"boolean",optional:!0,defaultValue:!1}),new me({type:"callback"})]),s=N(i,4);return a=s[0],e=s[1],t=s[2],n=s[3],le(this._iid,function(n){a?n(a,null):R.get(r._iid).container.apiClient.updateMetaData({channelUrl:r.url,isOpenChannel:r.isOpenChannel(),metaData:e,upsert:t},function(e,t){n(e,t&&t.ts?t.metadata:t)})},n)}},{key:"deleteMetaData",value:function(e,t){var n=this,r=null,a=me.parse(arguments,[new me({type:"string"}),new me({type:"callback"})]),i=N(a,3);return r=i[0],e=i[1],t=i[2],le(this._iid,function(t){r?t(r,null):R.get(n._iid).container.apiClient.deleteMetaData({channelUrl:n.url,isOpenChannel:n.isOpenChannel(),key:e},function(e,n){t(e,n&&n.ts?{}:n)})},t)}},{key:"deleteAllMetaData",value:function(e){var t=this;return le(this._iid,function(e){R.get(t._iid).container.apiClient.deleteAllMetaData({channelUrl:t.url,isOpenChannel:t.isOpenChannel()},function(t,n){return e(t,n&&n.ts?{}:n)})},e)}},{key:"_updateMessageMetaArray",value:function(e,t,n,r){var a=this;return le(this._iid,function(r){var i=G.get(a._iid),s=i.Command,o=i.UserMessage,l=i.FileMessage,u=i.AdminMessage,c=null;if(t.isUserMessage()?c=s.bUpdateUserMessage({channelUrl:e,messageId:t.messageId,metaArrayParams:n}):t.isFileMessage()&&(c=s.bUpdateFileMessage({channelUrl:e,messageId:t.messageId,metaArrayParams:n})),c){var d=Ba.getInstance(a._iid);d.sendCommand(c,function(e,n){if(d.getErrorFirstCallback()){var a=[e,n];n=a[0],e=a[1]}var i=null;n||(t.isUserMessage()?i=new o(e.getJsonElement()):t.isFileMessage()?i=new l(e.getJsonElement()):t.isAdminMessage()&&(i=new u(e.getJsonElement()))),r(n,i)})}else r(me.error,null)},r)}},{key:"createMessageMetaArrayKeys",value:function(e,t,n){var r=G.get(this._iid),a=r.MessageMetaArray,i=null,s=me.parse(arguments,[new me({type:Ot}),new me({type:"array",constraint:function(e){return e.every(function(e){return"string"==typeof e&&""!==e})}}),new me({type:"callback"})]),o=N(s,4);if(i=o[0],e=o[1],t=o[2],n=o[3],i)return le(this._iid,function(e){e(i,null)},n);var l=[];if(Array.isArray(t))for(var u=0;u<t.length;u++){var c=t[u];l.push(new a(c,[]))}return this._updateMessageMetaArray(this.url,e,{array:l.map(function(e){return e.encode()}),mode:"add",upsert:!0},n)}},{key:"deleteMessageMetaArrayKeys",value:function(e,t,n){var r=G.get(this._iid),a=r.MessageMetaArray,i=null,s=me.parse(arguments,[new me({type:Ot}),new me({type:"array",constraint:function(e){return e.every(function(e){return"string"==typeof e&&""!==e})}}),new me({type:"callback"})]),o=N(s,4);if(i=o[0],e=o[1],t=o[2],n=o[3],i)return le(this._iid,function(e){e(i,null)},n);var l=[];if(Array.isArray(t))for(var u=0;u<t.length;u++){var c=t[u];l.push(new a(c,[]))}return this._updateMessageMetaArray(this.url,e,{array:l.map(function(e){return e.encode()}),mode:"remove",upsert:!0},n)}},{key:"addMessageMetaArrayValues",value:function(e,t,n){var r=G.get(this._iid),a=r.MessageMetaArray,i=null,s=me.parse(arguments,[new me({type:Ot}),new me({type:"object",constraint:function(e){return e&&(Array.isArray(e)&&e.length>0&&e.every(function(e){return e instanceof a})||Object.keys(e).length>0&&Object.keys(e).every(function(t){return Array.isArray(e[t])&&e[t].length>0&&e[t].every(function(e){return"string"==typeof e&&e.length>0})}))}}),new me({type:"callback"})]),o=N(s,4);if(i=o[0],e=o[1],t=o[2],n=o[3],i)return le(this._iid,function(e){e(i,null)},n);var l=Array.isArray(t)?t.map(function(e){return e.encode()}):Object.keys(t).map(function(e){return{key:e,value:t[e]}});return this._updateMessageMetaArray(this.url,e,{array:l,mode:"add",upsert:!0},n)}},{key:"removeMessageMetaArrayValues",value:function(e,t,n){var r=G.get(this._iid),a=r.MessageMetaArray,i=null,s=me.parse(arguments,[new me({type:Ot}),new me({type:"object",constraint:function(e){return e&&(Array.isArray(e)&&e.length>0&&e.every(function(e){return e instanceof a})||Object.keys(e).length>0&&Object.keys(e).every(function(t){return Array.isArray(e[t])&&e[t].length>0&&e[t].every(function(e){return"string"==typeof e&&e.length>0})}))}}),new me({type:"callback"})]),o=N(s,4);if(i=o[0],e=o[1],t=o[2],n=o[3],i)return le(this._iid,function(e){e(i,null)},n);var l=Array.isArray(t)?t.map(function(e){return e.encode()}):Object.keys(t).map(function(e){return{key:e,value:t[e]}});return this._updateMessageMetaArray(this.url,e,{array:l,mode:"remove",upsert:!0},n)}},{key:"report",value:function(e,t,n){var r=this,a=G.get(this._iid),i=a.BaseChannel,s=null,o=me.parse(arguments,[new me({type:i.ReportCategory}),new me({type:"string"}),new me({type:"callback"})]),l=N(o,4);return s=l[0],e=l[1],t=l[2],n=l[3],le(this._iid,function(n){if(s)n(s,null);else{var a=Ba.getInstance(r._iid);R.get(r._iid).container.apiClient.report({channelUrl:r.url,isOpenChannel:r.isOpenChannel(),reportCategory:e,reportingUserId:a.currentUser?a.currentUser.userId:null,reportDescription:t},function(e,t){n(e,null)})}},n)}},{key:"reportUser",value:function(e,t,n,r){var a=this,i=G.get(this._iid),s=i.BaseChannel,o=null,l=me.parse(arguments,[new me({type:wt}),new me({type:s.ReportCategory}),new me({type:"string"}),new me({type:"callback"})]),u=N(l,5);return o=u[0],e=u[1],t=u[2],n=u[3],r=u[4],le(this._iid,function(r){if(o)r(o,null);else{var i=Ba.getInstance(a._iid);R.get(a._iid).container.apiClient.reportUser({channelUrl:a.url,isOpenChannel:a.isOpenChannel(),reportCategory:t,offendingUserId:e.userId,reportingUserId:i.currentUser?i.currentUser.userId:null,reportDescription:n},function(e,t){r(e,null)})}},r)}},{key:"reportMessage",value:function(e,t,n,r){var a=this,i=G.get(this._iid),s=i.BaseChannel,o=null,l=me.parse(arguments,[new me({type:Ot}),new me({type:s.ReportCategory}),new me({type:"string"}),new me({type:"callback"})]),u=N(l,5);return o=u[0],e=u[1],t=u[2],n=u[3],r=u[4],le(this._iid,function(r){if(o)r(o,null);else{var i=Ba.getInstance(a._iid);R.get(a._iid).container.apiClient.reportMessage({messageId:e.messageId,channelUrl:a.url,isOpenChannel:a.isOpenChannel(),reportCategory:t,offendingUserId:e.sender.userId,reportingUserId:i.currentUser?i.currentUser.userId:null,reportDescription:n},function(e,t){r(e,null)})}},r)}}],[{key:"CHANNEL_TYPE_OPEN",get:function(){return"open"}},{key:"CHANNEL_TYPE_GROUP",get:function(){return"group"}},{key:"CHANNEL_TYPE_BASE",get:function(){return"base"}},{key:"MessageTypeFilter",get:function(){return{ALL:"",USER:"MESG",FILE:"FILE",ADMIN:"ADMM"}}},{key:"ReportCategory",get:function(){return{SPAM:"spam",HARASSING:"harassing",SUSPICIOUS:"suspicious",INAPPROPRIATE:"inappropriate"}}},{key:"buildMessage",value:function(e,t){var n=G.get(this._iid),r=n.UserMessage,a=n.FileMessage,i=n.AdminMessage;if(e)switch(e.hasOwnProperty("channel_type")||(e.channel_type=t.channelType),e.type){case"MESG":return new r(e);case"FILE":var s=e.file;return new a(d(d({},e),{},{url:String(s.url),name:String(s.name),type:String(s.type),size:parseInt(s.size),data:String(s.data)}));case"BRDM":case"ADMM":return new i(e)}return null}}]),e}(),Mt=function(){function e(t){h(this,e),t&&(this.category=t.hasOwnProperty("cat")?parseInt(t.cat):0,this.data=t.hasOwnProperty("data")?t.data:null,this.channelUrl=t.hasOwnProperty("channel_url")?String(t.channel_url):"",this.channelType=t.hasOwnProperty("channel_type")?String(t.channel_type):It.CHANNEL_TYPE_GROUP)}return m(e,[{key:"isGroupChannel",value:function(){return this.channelType===It.CHANNEL_TYPE_GROUP}},{key:"isOpenChannel",value:function(){return this.channelType===It.CHANNEL_TYPE_OPEN}}]),e}();Mt.CATEGORY_NONE=0,Mt.CATEGORY_CHANNEL_ENTER=10102,Mt.CATEGORY_CHANNEL_EXIT=10103,Mt.CATEGORY_USER_CHANNEL_MUTE=10201,Mt.CATEGORY_USER_CHANNEL_UNMUTE=10200,Mt.CATEGORY_USER_CHANNEL_BAN=10601,Mt.CATEGORY_USER_CHANNEL_UNBAN=10600,Mt.CATEGORY_CHANNEL_FREEZE=10701,Mt.CATEGORY_CHANNEL_UNFREEZE=10700,Mt.CATEGORY_TYPING_START=10900,Mt.CATEGORY_TYPING_END=10901,Mt.CATEGORY_CHANNEL_JOIN=1e4,Mt.CATEGORY_CHANNEL_LEAVE=10001,Mt.CATEGORY_CHANNEL_OPERATOR_UPDATE=10002,Mt.CATEGORY_CHANNEL_INVITE=10020,Mt.CATEGORY_CHANNEL_DECLINE_INVITE=10022,Mt.CATEGORY_CHANNEL_PROP_CHANGED=11e3,Mt.CATEGORY_CHANNEL_DELETED=12e3,Mt.CATEGORY_CHANNEL_META_DATA_CHANGED=11100,Mt.CATEGORY_CHANNEL_META_COUNTERS_CHANGED=11200,Mt.CATEGORY_CHANNEL_HIDE=13e3,Mt.CATEGORY_CHANNEL_UNHIDE=13001;var Pt=m(function e(t){h(this,e),t&&(this.category=t.hasOwnProperty("cat")?parseInt(t.cat):0)});Pt.CATEGORY_USER_BLOCK=20001,Pt.CATEGORY_USER_UNBLOCK=2e4,Pt.CATEGORY_FRIEND_DISCOVERED=20900;var Ut=function(){function e(t){h(this,e),this.sb=t,this.cls=G.get(this.sb._iid)}return m(e,[{key:"onRawCommandReceived",value:function(e){var t=this,n=this.cls,r=n.Command,a=n.User,i=n.Member,s=n.RestrictedUser,o=n.BaseChannel,l=n.GroupChannel,u=n.OpenChannel,c=n.UserMessage,h=n.FileMessage,p=n.AdminMessage,m=n.BaseMessageParams,g=n.ReactionEvent,y=n.ReadStatus,_=n.ThreadInfoUpdateEvent,v=n.PollUpdateEvent,E=n.PollVoteEvent,b=n.RestrictionInfo,C=R.get(this.sb._iid),N=C.container,S=N.pinger,T=N.auth,O=N.subscribedUnreadMessageCount,A=N.sessionManager,I=N.ackStateMap,M=new r(e),P=M.getJsonElement();if(P.hasOwnProperty("unread_cnt")&&"object"===f(P.unread_cnt)){var U=!1,L=P.unread_cnt.ts;"number"==typeof L&&L>O.ts&&(O.all!==P.unread_cnt.all&&(U=!0),O.all=P.unread_cnt.all>=0?P.unread_cnt.all:0,P.unread_cnt.custom_types&&Object.keys(P.unread_cnt.custom_types).forEach(function(e){O.custom_types[e]!==P.unread_cnt.custom_types[e]&&(U=!0),O.custom_types[e]=P.unread_cnt.custom_types[e]}),U=U&&O.ts>0,O.ts=L),U&&Object.keys(this.sb.userEventHandlers).forEach(function(e){t.sb.userEventHandlers[e].onTotalUnreadMessageCountUpdated(O.all,O.custom_types)})}var D=M.requestId;if(D){var x=I[D];if(x){clearTimeout(x.timer);var j=x.handler;j&&("EROR"===M.command?j(new F(P.message,P.code),null):j(null,M)),I.hasOwnProperty(D)&&delete I[D]}}else{S&&"LOGI"!==M.command&&S.refreshTimer();var H,G=bt.of(this.sb._iid),B=je.of(this.sb._iid),z=Oe.of(this.sb._iid);switch(M.command){case"LOGI":if(this.sb.loginTimer)if(clearTimeout(this.sb.loginTimer),this.sb.loginTimer=null,this.sb.onLoginTimerCancel=null,P.hasOwnProperty("error"))this.sb.isSessionOpened=!1,this.sb.loginHandler(new F(P.message,P.code),null);else{if(this.sb.isSessionOpened=!0,P.hasOwnProperty("key")&&(T.sessionKey=P.key),P.hasOwnProperty("ekey")&&(T.eKey=P.ekey),P.hasOwnProperty("user_id")&&(this.sb.currentUser=new a(P)),"number"==typeof P.ping_interval&&P.ping_interval>0&&C.set("pingInterval",1e3*P.ping_interval),"number"==typeof P.pong_timeout&&P.pong_timeout>0&&C.set("pongTimeout",1e3*P.pong_timeout),"number"==typeof P.login_ts){var V=1e3*P.login_ts;C.set("connectedAt",V);var q=C.container,Y=q.firstConnectedAt,K=q.localCacheEnabled,W=q.store;if(!Y){var Q=V;if(K){var J=(H=this.sb.currentUser.userId,"sendbird:".concat(H,"@firstConnectedAt"));W.get(J).then(function(e){e&&(Q=e.ts)}).catch(function(e){t.handleCacheError(e)}).finally(function(){C.set("firstConnectedAt",Q)})}else C.set("firstConnectedAt",Q)}}if(P.hasOwnProperty("reconnect")&&"object"===f(P.reconnect)){var X=P.reconnect,Z=C.container.wsAdapter;X.hasOwnProperty("interval")&&"number"==typeof X.interval&&(Z.reconnectParams.interval=X.interval),X.hasOwnProperty("max_interval")&&"number"==typeof X.max_interval&&(Z.reconnectParams.maxInterval=X.max_interval),X.hasOwnProperty("mul")&&"number"==typeof X.mul&&(Z.reconnectParams.multiplier=X.mul),X.hasOwnProperty("retry_cnt")&&"number"==typeof X.retry_cnt&&(Z.reconnectParams.retryCount=X.retry_cnt)}"number"==typeof P.max_unread_cnt_on_super_group?C.set("maxUnreadCountOfSuperGroupChannel",P.max_unread_cnt_on_super_group):C.set("maxUnreadCountOfSuperGroupChannel",k.DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL),P.profile_image_encryption&&C.set("profileImageEncryption",!0),S&&S.start(),P.hasOwnProperty("file_upload_size_limit")&&P.hasOwnProperty("premium_feature_list")&&P.hasOwnProperty("emoji_hash")&&C.set("appInfo",new Ne(P)),P.hasOwnProperty("concurrent_call_limit")&&P.hasOwnProperty("back_off_delay")&&(C.set("concurrentCallLimit",P.concurrent_call_limit),C.set("backOffDelay",P.back_off_delay)),this.sb.loginHandler(null,this.sb.currentUser)}break;case"EXPR":var ee=new F("The session would be expired.",P.reason||F.SESSION_KEY_EXPIRED);A.refreshSessionIfExpiredError(ee).then(function(){}).catch(function(){});break;case"MESG":case"FILE":case"BRDM":case"ADMM":var te=null;if("MESG"===M.command?te=new c(P):"FILE"===M.command?te=new h(P):"BRDM"!==M.command&&"ADMM"!==M.command||(te=new p(P)),te){var ne=this.sb.currentUser?this.sb.currentUser.userId:null,re=te.silent,ae=!!P.force_update_last_message,se=te._sender&&te._sender.userId===ne;if(te.isGroupChannel()){var oe=l.cachedChannels.hasOwnProperty(te.channelUrl);l.getChannel(te.channelUrl,k.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var a=[e,n];n=a[0],e=a[1]}if(!n){if(!C.container.appInfo.isSupergroupMackDisabled||!e.isSuper||e.isBroadcast){var i=r.bMessageAck({channelUrl:te.channelUrl,messageId:te.messageId});t.sb.sendCommand(i)}if(e.isHidden=!1,e.hiddenState=l.HiddenState.UNHIDDEN,l.cachedChannels[e.url]=e,te._sender&&e.memberMap.hasOwnProperty(te._sender.userId)){var s=e.memberMap[te._sender.userId];s.nickname!==te._sender.nickname&&(s.nickname=te._sender.nickname),s.plainProfileUrl!==te._sender.plainProfileUrl&&(s.plainProfileUrl=te._sender.plainProfileUrl),ie.deepEqual(s.metaData,te._sender.metaData)||(s.metaData=te._sender.metaData),s.isBlockedByMe!==te._sender.isBlockedByMe&&(s.isBlockedByMe=te._sender.isBlockedByMe)}var o=t.sb.currentUser;o&&se&&(o.nickname!==te._sender.nickname&&(o.nickname=te._sender.nickname),o.plainProfileUrl!==te._sender.plainProfileUrl&&(o.plainProfileUrl=te._sender.plainProfileUrl),ie.deepEqual(o.metaData,te._sender.metaData)||(o.metaData=te._sender.metaData));var u=!1;if(te.mentionType===m.MentionType.CHANNEL)se||(u=!0);else if(te.mentionType===m.MentionType.USERS)for(var c=0;c<te.mentionedUsers.length;c++)if(!se&&te.mentionedUsers[c].userId===ne){u=!0;break}re&&!se||(e.isEphemeral||oe)&&((!e.lastMessage||e.lastMessage.createdAt<te.createdAt)&&(e.lastMessage=te),se||e._setGroupChannelUnreadCount(e.unreadMessageCount+1,e.unreadMentionCount+(u?1:0))),ae&&(!e.lastMessage||e.lastMessage.createdAt<te.createdAt)&&(e.lastMessage=te),re&&!se||(G.upsert([e]).then(function(){z.send({source:de.EVENT_CHANNEL_CHANGED,payload:{channel:e}})}).catch(function(e){t.handleCacheError(e)}),Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onChannelChanged(e)})),Object.keys(t.sb.channelHandlers).forEach(function(n){var r=t.sb.channelHandlers[n];r.onMessageReceived(e,te),u&&r.onMentionReceived(e,te)}),B.upsert([te]).then(function(){z.send({source:de.EVENT_MESSAGE_RECEIVED,payload:{channel:e,message:te}})}).catch(function(e){t.handleCacheError(e)})}})}else te.isOpenChannel()&&u.getChannel(te.channelUrl,k.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(!n){var a=!1;if(te.mentionType===m.MentionType.CHANNEL)a=!0;else if(te.mentionType===m.MentionType.USERS)for(var i=0;i<te.mentionedUsers.length;i++)if(te.mentionedUsers[i].userId===ne){a=!0;break}Object.keys(t.sb.channelHandlers).forEach(function(n){var r=t.sb.channelHandlers[n];u.enteredChannels[e.url]&&r.onMessageReceived(e,te),a&&r.onMentionReceived(e,te)}),u.enteredChannels[e.url]&&z.send({source:de.EVENT_MESSAGE_RECEIVED,payload:{channel:e,message:te}})}})}break;case"MEDI":case"FEDI":case"AEDI":var le=null;if("MEDI"===M.command?le=new c(P):"FEDI"===M.command?le=new h(P):"AEDI"===M.command&&(le=new p(P)),le){var ue=this.sb.currentUser?this.sb.currentUser.userId:null,ce=le.silent,fe=le.sender&&le.sender.userId===ue;if(le.isGroupChannel()){var he=l.cachedChannels.hasOwnProperty(le.channelUrl);l.getChannel(le.channelUrl,k.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(!n){var a=e.cachedReadReceiptStatus[ue],i=a&&a>=le.createAt,s=t.sb.currentUser;s&&fe&&(s.nickname!==le._sender.nickname&&(s.nickname=le._sender.nickname),s.plainProfileUrl!==le._sender.plainProfileUrl&&(s.plainProfileUrl=le._sender.plainProfileUrl),ie.deepEqual(s.metaData,le._sender.metaData)||(s.metaData=le._sender.metaData));var o=!1,l=!1;if(!fe&&!i&&P&&P.hasOwnProperty("old_values")){var u=P.old_values.mention_type||le.mentionType,c=P.old_values.mentioned_user_ids||le.mentionedUsers.map(function(e){return e.userId});if(u===m.MentionType.USERS&&le.mentionType===m.MentionType.USERS){for(var d=!1,f=!1,h=0;h<c.length;h++)if(c[h]===ue){d=!0;break}for(var p=0;p<le.mentionedUsers.length;p++)if(le.mentionedUsers[p].userId===ue){f=!0;break}!d&&f&&(l=!0,!ce&&he&&(e._setGroupChannelUnreadCount(e.unreadMessageCount,e.unreadMentionCount+1),o=!0))}else if(u===m.MentionType.USERS&&le.mentionType===m.MentionType.CHANNEL){for(var g=!1,y=0;y<c.length;y++)if(c[y]===ue){g=!0;break}g||(l=!0,!ce&&he&&(e._setGroupChannelUnreadCount(e.unreadMessageCount,e.unreadMentionCount+1),o=!0))}}e.lastMessage?e.lastMessage.createdAt<le.createdAt?(e.lastMessage=le,o=!0):e.lastMessage.createdAt===le.createdAt&&e.lastMessage.messageId===le.messageId&&(he?e.lastMessage.updatedAt<le.updatedAt&&(e.lastMessage=le,o=!0):o=!0):(e.lastMessage=le,o=!0),ce&&!fe||!o||(Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onChannelChanged(e)}),G.upsert([e]).then(function(){z.send({source:de.EVENT_CHANNEL_CHANGED,payload:{channel:e}})}).catch(function(e){t.handleCacheError(e)})),Object.keys(t.sb.channelHandlers).forEach(function(n){var r=t.sb.channelHandlers[n];r.onMessageUpdated(e,le),l&&r.onMentionReceived(e,le)}),B.upsert([le]).then(function(){z.send({source:de.EVENT_MESSAGE_UPDATED,payload:{channel:e,message:le}})}).catch(function(e){t.handleCacheError(e)})}})}else le.isOpenChannel()&&u.getChannel(le.channelUrl,k.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}n||(Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onMessageUpdated(e,le)}),z.send({source:de.EVENT_MESSAGE_UPDATED,payload:{channel:e,message:le}}))})}break;case"DELM":var pe=String(P.channel_type),me=String(P.channel_url),ge=parseInt(P.msg_id);switch(pe){case o.CHANNEL_TYPE_GROUP:l.getChannel(me,k.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}n?$.debug("Discard command:","`".concat(M.command,"`")):(Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onMessageDeleted(e,ge)}),B.remove(["".concat(ge)]).then(function(){z.send({source:de.EVENT_MESSAGE_DELETED,payload:{channel:e,messageId:ge}})}).catch(function(e){t.handleCacheError(e)}))});break;case o.CHANNEL_TYPE_OPEN:u.getChannel(me,k.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}n?$.debug("Discard command:","`".concat(M.command,"`")):(Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onMessageDeleted(e,ge)}),z.send({source:de.EVENT_MESSAGE_DELETED,payload:{channel:e,messageId:ge}}))})}break;case"READ":var ye=new y(P),_e=l.cachedChannels.hasOwnProperty(ye.channelUrl);l.getChannel(ye.channelUrl,k.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}n||(_e&&e.updateReadReceipt(ye.reader.userId,ye.timestamp),t.sb.currentUser&&(ye.reader.userId===t.sb.currentUser.userId?_e?(e.unreadMessageCount>0||e.unreadMentionCount>0)&&(e._setGroupChannelUnreadCount(0,0),Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onChannelChanged(e)}),G.upsert([e]).then(function(){z.send({source:de.EVENT_CHANNEL_CHANGED,payload:{channel:e}})}).catch(function(e){t.handleCacheError(e)})):0!==e.unreadMessageCount&&0!==e.unreadMentionCount||(Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onChannelChanged(e)}),G.upsert([e]).then(function(){z.send({source:de.EVENT_CHANNEL_CHANGED,payload:{channel:e}})}).catch(function(e){t.handleCacheError(e)})):Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onReadReceiptUpdated(e)}),z.send({source:de.EVENT_READ_RECEIPT_UPDATED,payload:{channel:e,user:ye.reader}})))});break;case"MRCT":var ve=String(P.channel_type),Ee=String(P.channel_url),be=g.createFromJson(P);switch(ve){case o.CHANNEL_TYPE_GROUP:l.getChannel(Ee,k.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}n?$.debug("Discard command:","`".concat(M.command,"`")):(Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onReactionUpdated(e,be)}),B.get("".concat(be.messageId)).then(function(n){n&&(n.applyReactionEvent(be),B.upsert([n]).then(function(){z.send({source:de.EVENT_REACTION_UPDATED,payload:{channel:e,reactionEvent:be}})}).catch(function(e){t.handleCacheError(e)}))}).catch(function(e){t.handleCacheError(e)}))});break;case o.CHANNEL_TYPE_OPEN:u.getChannel(Ee,k.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}n?$.debug("Discard command:","`".concat(M.command,"`")):(Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onReactionUpdated(e,be)}),z.send({source:de.EVENT_REACTION_UPDATED,payload:{channel:e,reactionEvent:be}}))})}break;case"DLVR":var Ce=String(P.channel_url),Se=P.hasOwnProperty("updated")?P.updated:null,Te=l.cachedChannels.hasOwnProperty(Ce);l.getChannel(Ce,k.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(!n){var a=!1;Object.keys(Se).forEach(function(n){t.sb.currentUser&&n===t.sb.currentUser.userId&&(a=!0),Te&&e.updateDeliveryReceipt(n,parseInt(Se[n]))}),l.cachedChannels[e.url]=e,a&&1===Object.keys(Se).length||(Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onDeliveryReceiptUpdated(e)}),z.send({source:de.EVENT_DELIVERY_RECEIPT_UPDATED,payload:{channel:e}}))}});break;case"MTHD":var we=String(P.channel_url),ke=String(P.channel_type),Ae=_.createFromJson(P);switch(ke){case o.CHANNEL_TYPE_GROUP:l.getChannel(we,k.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}n||(Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onThreadInfoUpdated(e,Ae)}),B.get("".concat(Ae.targetMessageId)).then(function(n){n&&(n.applyThreadInfoUpdateEvent(Ae),B.upsert([n]).then(function(){z.send({source:de.EVENT_THREAD_INFO_UPDATED,payload:{channel:e,threadInfoUpdateEvent:Ae}})}).catch(function(e){t.handleCacheError(e)}))}).catch(function(e){t.handleCacheError(e)}))});break;case o.CHANNEL_TYPE_OPEN:u.getChannel(we,k.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}n||(Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onThreadInfoUpdated(e,Ae)}),z.send({source:de.EVENT_THREAD_INFO_UPDATED,payload:{channel:e,threadInfoUpdateEvent:Ae}}))})}break;case"MCNT":if(P.hasOwnProperty("group_channels")&&Array.isArray(P.group_channels)){var Re,Ie=[],Me=w(P.group_channels);try{for(Me.s();!(Re=Me.n()).done;){var Pe=Re.value;if(Pe){var Ue=l.cachedChannels[Pe.channel_url];Ue&&Ue.isBroadcast&&Ue.setLatestMemberCount(Pe.member_count,Pe.joined_member_count,Pe.ts)&&Ie.push(Ue)}}}catch(e){Me.e(e)}finally{Me.f()}Ie.length>0&&(Object.keys(this.sb.channelHandlers).forEach(function(e){t.sb.channelHandlers[e].onChannelMemberCountChanged(Ie)}),G.upsert(Ie).then(function(){var e,t=w(Ie);try{for(t.s();!(e=t.n()).done;){var n=e.value;z.send({source:de.EVENT_CHANNEL_CHANGED,payload:{channel:n}})}}catch(e){t.e(e)}finally{t.f()}}).catch(function(e){t.handleCacheError(e)}))}if(P.hasOwnProperty("open_channels")&&Array.isArray(P.open_channels)){var Le,De=[],xe=w(P.open_channels);try{for(xe.s();!(Le=xe.n()).done;){var Fe=Le.value;if(Fe){var He=u.cachedChannels[Fe.channel_url];He&&He.setLatestParticipantCount(Fe.participant_count,Fe.ts)&&De.push(He)}}}catch(e){xe.e(e)}finally{xe.f()}if(De.length>0){Object.keys(this.sb.channelHandlers).forEach(function(e){t.sb.channelHandlers[e].onChannelParticipantCountChanged(De)});var Ge,Be=w(De);try{for(Be.s();!(Ge=Be.n()).done;){var ze=Ge.value;z.send({source:de.EVENT_CHANNEL_CHANGED,payload:{channel:ze}})}}catch(e){Be.e(e)}finally{Be.f()}}}break;case"PEDI":var Ve=v.createFromJson(P);Object.keys(this.sb.channelHandlers).forEach(function(e){t.sb.channelHandlers[e].onPollUpdated(Ve)});break;case"VOTE":var qe=E.createFromJson(P);Object.keys(this.sb.channelHandlers).forEach(function(e){t.sb.channelHandlers[e].onPollVoted(qe)});break;case"SYEV":var Ye=new Mt(P),Ke=P.ts;switch(Ye.category){case Mt.CATEGORY_CHANNEL_JOIN:case Mt.CATEGORY_CHANNEL_LEAVE:l.getChannel(Ye.channelUrl,k.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(n)$.debug("Discard command:","`".concat(M.command,"`"),Ye.category);else{var s=Ye.data.hasOwnProperty("member_count")?Ye.data.member_count:null,o=Ye.data.hasOwnProperty("joined_member_count")?Ye.data.joined_member_count:null,u=!1;if(Ye.category===Mt.CATEGORY_CHANNEL_JOIN)(Ye.data.hasOwnProperty("users")?Ye.data.users:[Ye.data]).forEach(function(n){e.isSuper||e.isBroadcast?u=e.setLatestMemberCount(s,o,P.ts):(n.state=i.JOINED,e.addMember(new i(n),Ke),e.updateJoinedMemberCount());var r=new a(n);t.sb.currentUser&&r.userId===t.sb.currentUser.userId&&(e.myMemberState="joined",l.cachedChannels[e.url]=e),Object.keys(t.sb.channelHandlers).forEach(function(n){var a=t.sb.channelHandlers[n];a.onUserJoined(e,r),e.isBroadcast&&u&&a.onChannelMemberCountChanged([e])}),G.upsert([e]).then(function(){z.send({source:de.EVENT_USER_JOINED,payload:{channel:e,user:r}})}).catch(function(e){t.handleCacheError(e)})});else{var c=new a(Ye.data);t.sb.currentUser&&c.userId===t.sb.currentUser.userId?(e.isPublic||l.removeCachedChannel(Ye.channelUrl),e.myMemberState="none",e.invitedAt=0,e.joinedAt=0,e._setGroupChannelUnreadCount(0,0)):l.cachedChannels[e.url]=e,e.isSuper||e.isBroadcast?u=e.setLatestMemberCount(s,o,P.ts):(e.removeMember(c),e.updateJoinedMemberCount()),Object.keys(t.sb.channelHandlers).forEach(function(n){var r=t.sb.channelHandlers[n];r.onUserLeft(e,c),e.isBroadcast&&u&&r.onChannelMemberCountChanged([e])}),G.upsert([e]).then(function(){z.send({source:de.EVENT_USER_LEFT,payload:{channel:e,user:c}})}).catch(function(e){t.handleCacheError(e)})}}});break;case Mt.CATEGORY_CHANNEL_OPERATOR_UPDATE:Ye.isGroupChannel()?l.getChannel(Ye.channelUrl,k.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(n)$.debug("Discard command:","`".concat(M.command,"`"),Ye.category);else{for(var i=Ye.data.operators.map(function(e){return new a(e)}),s=i.map(function(e){return e.userId}),o=0;o<e.members.length;o++)e.members[o].role=s.indexOf(e.members[o].userId)>=0?l.Role.OPERATOR:l.Role.NONE;e.myRole=t.sb.currentUser&&s.indexOf(t.sb.currentUser.userId)>=0?l.Role.OPERATOR:l.Role.NONE,Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onOperatorUpdated(e,i)}),G.upsert([e]).then(function(){z.send({source:de.EVENT_OPERATOR_UPDATED,payload:{channel:e,operators:i}})}).catch(function(e){t.handleCacheError(e)})}}):Ye.isOpenChannel()&&u.getChannel(Ye.channelUrl,k.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}n?$.debug("Discard command:","`".concat(M.command,"`"),Ye.category):(e.operators=Ye.data.operators.map(function(e){return new a(e)}),Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onOperatorUpdated(e,e.operators)}),z.send({source:de.EVENT_OPERATOR_UPDATED,payload:{channel:e,operators:operators}}))});break;case Mt.CATEGORY_CHANNEL_INVITE:l.getChannel(Ye.channelUrl,k.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(n)$.debug("Discard command:","`".concat(M.command,"`"),Ye.category);else{var s=null;Ye.data&&Ye.data.inviter&&Object.keys(Ye.data.inviter).length>0&&(s=new a(Ye.data.inviter));for(var o=[],u=0;u<Ye.data.invitees.length;u++){var c=new a(Ye.data.invitees[u]);o.push(c),Ye.data.invitees[u].state=i.INVITED;var d=new i(Ye.data.invitees[u]);if(e.isSuper||e.isBroadcast){var f=Ye.data.hasOwnProperty("member_count")?Ye.data.member_count:null,h=Ye.data.hasOwnProperty("joined_member_count")?Ye.data.joined_member_count:null;e.setLatestMemberCount(f,h,P.ts)}else e.addMember(d,Ke);t.sb.currentUser&&d.userId===t.sb.currentUser.userId&&(e.isHidden=!1,"joined"!==e.myMemberState&&(e.myMemberState="invited"),e.invitedAt=P.ts,l.cachedChannels[e.url]=e)}Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onUserReceivedInvitation(e,s,o)}),G.upsert([e]).then(function(){z.send({source:de.EVENT_USER_RECEIVED_INVITATION,payload:{channel:e,inviter:s,invitees:o}})}).catch(function(e){t.handleCacheError(e)})}});break;case Mt.CATEGORY_CHANNEL_DECLINE_INVITE:l.getChannel(Ye.channelUrl,k.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(n)$.debug("Discard command:","`".concat(M.command,"`"),Ye.category);else{var i=null;Ye.data&&Ye.data.inviter&&Object.keys(Ye.data.inviter).length>0&&(i=new a(Ye.data.inviter));var s=new a(Ye.data.invitee);if(t.sb.currentUser&&s.userId===t.sb.currentUser.userId&&(e.invitedAt=0,e.myMemberState="none",e.isPublic||l.removeCachedChannel(Ye.channelUrl)),e.isSuper||e.isBroadcast){var o=Ye.data.hasOwnProperty("member_count")?Ye.data.member_count:null,u=Ye.data.hasOwnProperty("joined_member_count")?Ye.data.joined_member_count:null;e.setLatestMemberCount(o,u,P.ts)}else e.removeMember(s);t.sb.currentUser&&s.userId!==t.sb.currentUser.userId&&(l.cachedChannels[e.url]=e),Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onUserDeclinedInvitation(e,i,s)}),G.upsert([e]).then(function(){z.send({source:de.EVENT_USER_DECLINED_INVITATION,payload:{channel:e,inviter:i,invitee:s}})}).catch(function(e){t.handleCacheError(e)})}});break;case Mt.CATEGORY_TYPING_START:case Mt.CATEGORY_TYPING_END:l.getChannel(Ye.channelUrl,k.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(n)$.debug("Discard command:","`".concat(M.command,"`"),Ye.category);else{var i=new a(Ye.data);Ye.category===Mt.CATEGORY_TYPING_START?e.updateTypingStatus(i,!0):e.updateTypingStatus(i,!1),Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onTypingStatusUpdated(e)}),G.upsert([e]).then(function(){z.send({source:de.EVENT_TYPING_STATUS_UPDATED,payload:{channel:e}})}).catch(function(e){t.handleCacheError(e)})}});break;case Mt.CATEGORY_CHANNEL_ENTER:case Mt.CATEGORY_CHANNEL_EXIT:u.getChannel(Ye.channelUrl,k.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(n)$.debug("Discard command:","`".concat(M.command,"`"),Ye.category);else{var i=Ye.data.hasOwnProperty("participant_count")?Ye.data.participant_count:null,s=e.setLatestParticipantCount(i,P.ts),o=new a(Ye.data);Ye.category===Mt.CATEGORY_CHANNEL_ENTER?(Object.keys(t.sb.channelHandlers).forEach(function(n){var r=t.sb.channelHandlers[n];r.onUserEntered(e,o),s&&r.onChannelParticipantCountChanged([e])}),z.send({source:de.EVENT_CHANNEL_ENTER,payload:{channel:e,user:o}})):(Object.keys(t.sb.channelHandlers).forEach(function(n){var r=t.sb.channelHandlers[n];r.onUserExited(e,o),s&&r.onChannelParticipantCountChanged([e])}),z.send({source:de.EVENT_CHANNEL_EXIT,payload:{channel:e,user:o}}))}});break;case Mt.CATEGORY_USER_CHANNEL_MUTE:case Mt.CATEGORY_USER_CHANNEL_UNMUTE:var We=Ye.category===Mt.CATEGORY_USER_CHANNEL_MUTE,Qe=d({},Ye.data);We&&(Qe.restriction_type=s.RestrictionType.MUTED);var Je=We?new s(Qe):new a(Ye.data),$e=We?"muted":"unmuted";Ye.isOpenChannel()?u.getChannel(Ye.channelUrl,k.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}n?$.debug("Discard command:","`".concat(M.command,"`"),Ye.category):We?(Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onUserMuted(e,Je)}),z.send({source:de.EVENT_USER_MUTED,payload:{channel:e,user:Je}})):(Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onUserUnmuted(e,Je)}),z.send({source:de.EVENT_USER_UNMUTED,payload:{channel:e,user:Je}}))}):l.getChannel(Ye.channelUrl,k.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}n?$.debug("Discard command:","`".concat(M.command,"`"),Ye.category):(t.sb.currentUser&&Je.userId===t.sb.currentUser.userId&&(e.myMutedState=$e),Array.isArray(e.members)&&e.members.filter(function(e){return e&&e.userId===Je.userId}).forEach(function(e){e.isMuted=We,e.restrictionInfo=new b(Qe)}),We?(Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onUserMuted(e,Je)}),G.upsert([e]).then(function(){z.send({source:de.EVENT_USER_MUTED,payload:{channel:e,user:Je}})}).catch(function(e){t.handleCacheError(e)})):(Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onUserUnmuted(e,Je)}),G.upsert([e]).then(function(){z.send({source:de.EVENT_USER_UNMUTED,payload:{channel:e,user:Je}})}).catch(function(e){t.handleCacheError(e)})))});break;case Mt.CATEGORY_USER_CHANNEL_BAN:case Mt.CATEGORY_USER_CHANNEL_UNBAN:var Xe=Ye.category===Mt.CATEGORY_USER_CHANNEL_BAN,Ze=d({},Ye.data);Xe&&(Ze.restriction_type=s.RestrictionType.BANNED);var et=Xe?new s(Ze):new a(Ye.data);Ye.isOpenChannel()?u.getChannel(Ye.channelUrl,k.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}n?$.debug("Discard command:","`".concat(M.command,"`"),Ye.category):Xe?(t.sb.currentUser&&et.userId===t.sb.currentUser.userId&&(delete u.enteredChannels[Ye.channelUrl],t.cls.FileMessageQueue.delete(Ye.channelUrl)),Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onUserBanned(e,et)}),z.send({source:de.EVENT_USER_BANNED,payload:{channel:e,user:et}})):(Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onUserUnbanned(e,et)}),z.send({source:de.EVENT_USER_UNBANNED,payload:{channel:e,user:et}}))}):l.getChannel(Ye.channelUrl,k.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(n)$.debug("Discard command:","`".concat(M.command,"`"),Ye.category);else if(Xe){if(t.sb.currentUser&&et.userId===t.sb.currentUser.userId&&(e.isPublic||l.removeCachedChannel(Ye.channelUrl),e.myMemberState="none",e.invitedAt=0,e.joinedAt=0,e._setGroupChannelUnreadCount(0,0)),e.isSuper||e.isBroadcast){var a=Ye.data.hasOwnProperty("member_count")?Ye.data.member_count:null,i=Ye.data.hasOwnProperty("joined_member_count")?Ye.data.joined_member_count:null;e.setLatestMemberCount(a,i,P.ts)}else e.removeMember(et),e.updateJoinedMemberCount();Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onUserBanned(e,et)}),z.send({source:de.EVENT_USER_BANNED,payload:{channel:e,user:et}})}else Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onUserUnbanned(e,et)}),z.send({source:de.EVENT_USER_UNBANNED,payload:{channel:e,user:et}})});break;case Mt.CATEGORY_CHANNEL_FREEZE:case Mt.CATEGORY_CHANNEL_UNFREEZE:Ye.isOpenChannel()?u.getChannel(Ye.channelUrl,k.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}n?$.debug("Discard command:","`".concat(M.command,"`"),Ye.category):(e.isFrozen=Ye.data.freeze,u.cachedChannels[e.url]=e,Ye.category===Mt.CATEGORY_CHANNEL_FREEZE?(Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onChannelFrozen(e)}),z.send({source:de.EVENT_CHANNEL_FROZEN,payload:{channel:e}})):(Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onChannelUnfrozen(e)}),z.send({source:de.EVENT_CHANNEL_UNFROZEN,payload:{channel:e}})))}):l.getChannel(Ye.channelUrl,k.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}n?$.debug("Discard command:","`".concat(M.command,"`"),Ye.category):(e.isFrozen=Ye.data.freeze,l.cachedChannels[e.url]=e,Ye.category===Mt.CATEGORY_CHANNEL_FREEZE?(Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onChannelFrozen(e)}),G.upsert([e]).then(function(){z.send({source:de.EVENT_CHANNEL_FROZEN,payload:{channel:e}})}).catch(function(e){t.handleCacheError(e)})):(Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onChannelUnfrozen(e)}),G.upsert([e]).then(function(){z.send({source:de.EVENT_CHANNEL_UNFROZEN,payload:{channel:e}})}).catch(function(e){t.handleCacheError(e)})))});break;case Mt.CATEGORY_CHANNEL_DELETED:Ye.isGroupChannel()?l.removeCachedChannel(Ye.channelUrl):u.removeCachedChannel(Ye.channelUrl);var tt=Ye.channelUrl,nt=Ye.isGroupChannel()?"group":"open";Object.keys(this.sb.channelHandlers).forEach(function(e){t.sb.channelHandlers[e].onChannelDeleted(tt,nt)}),G.remove([tt]).then(function(){z.send({source:de.EVENT_CHANNEL_DELETED,payload:{channelUrl:tt,channelType:nt}})}).catch(function(e){t.handleCacheError(e)});break;case Mt.CATEGORY_CHANNEL_PROP_CHANGED:Ye.isOpenChannel()?u.getChannelWithoutCache(Ye.channelUrl,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}n?$.debug("Discard command:","`".concat(M.command,"`"),Ye.category):(Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onChannelChanged(e)}),z.send({source:de.EVENT_CHANNEL_CHANGED,payload:{channel:e}}))}):l.getChannelWithoutCache(Ye.channelUrl,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(n)$.debug("Discard command:","`".concat(M.command,"`"),Ye.category);else{var a=e.unreadMessageCount,i=e.unreadMentionCount;e.myCountPreference!==l.CountPreference.ALL&&(e.myCountPreference===l.CountPreference.UNREAD_MESSAGE_COUNT_ONLY?i=0:e.myCountPreference===l.CountPreference.UNREAD_MENTION_COUNT_ONLY?a=0:(a=0,i=0)),e._setGroupChannelUnreadCount(a,i),Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onChannelChanged(e)}),G.upsert([e]).then(function(){z.send({source:de.EVENT_CHANNEL_CHANGED,payload:{channel:e}})}).catch(function(e){t.handleCacheError(e)})}});break;case Mt.CATEGORY_CHANNEL_META_DATA_CHANGED:case Mt.CATEGORY_CHANNEL_META_COUNTERS_CHANGED:var rt=Ye.data.hasOwnProperty("created"),at=Ye.data.hasOwnProperty("updated"),it=Ye.data.hasOwnProperty("deleted");(Ye.isOpenChannel()?u.getChannel(Ye.channelUrl,k.INTERNAL_CALL):l.getChannel(Ye.channelUrl,k.INTERNAL_CALL)).then(function(e){var n=Ye.data.created,r=Ye.data.updated,a=Ye.data.deleted,i=P.ts;rt&&e._addOrUpdateCachedMetaData(n,i),at&&e._addOrUpdateCachedMetaData(r,i),it&&e._markAsDeletedCachedMetaData(a,i),Object.keys(t.sb.channelHandlers).forEach(function(i){var s=t.sb.channelHandlers[i];Ye.category===Mt.CATEGORY_CHANNEL_META_DATA_CHANGED?(rt&&s.onMetaDataCreated(e,n),at&&s.onMetaDataUpdated(e,r),it&&s.onMetaDataDeleted(e,a),(rt||at)&&z.send({source:de.EVENT_CHANNEL_METADATA_UPDATED,payload:{channel:e,metaData:d(d({},n),r)}}),it&&z.send({source:de.EVENT_CHANNEL_METADATA_DELETED,payload:{channel:e,metaData:d({},a)}})):(rt&&s.onMetaCountersCreated(e,n),at&&s.onMetaCountersUpdated(e,r),it&&s.onMetaCountersDeleted(e,a),(rt||at)&&z.send({source:de.EVENT_CHANNEL_METACOUNTER_UPDATED,payload:{channel:e,metaData:d(d({},n),r)}}),it&&z.send({source:de.EVENT_CHANNEL_METACOUNTER_DELETED,payload:{channel:e,metaData:d({},a)}}))})}).catch(function(e){return $.debug("Discard command:","`".concat(M.command,"`"),Ye.category)});break;case Mt.CATEGORY_CHANNEL_HIDE:case Mt.CATEGORY_CHANNEL_UNHIDE:l.getChannel(Ye.channelUrl,k.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}n?$.debug("Discard command:","`".concat(M.command,"`"),Ye.category):Ye.category===Mt.CATEGORY_CHANNEL_HIDE?(e.isHidden=!0,Ye.data&&(Ye.data.hasOwnProperty("allow_auto_unhide")&&(e.hiddenState=Ye.data.allow_auto_unhide?l.HiddenState.HIDDEN_ALLOW_AUTO_UNHIDE:l.HiddenState.HIDDEN_PREVENT_AUTO_UNHIDE),Ye.data.hasOwnProperty("hide_previous_messages")&&Ye.data.hide_previous_messages&&e._setGroupChannelUnreadCount(0,0)),P.hasOwnProperty("ts_message_offset")&&(e._messageOffsetTimestamp=P.ts_message_offset),l.cachedChannels[e.url]=e,Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onChannelHidden(e)}),G.upsert([e]).then(function(){z.send({source:de.EVENT_CHANNEL_HIDDEN,payload:{channel:e}})}).catch(function(e){t.handleCacheError(e)})):(e.isHidden=!1,e.hiddenState=l.HiddenState.UNHIDDEN,l.cachedChannels[e.url]=e,Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onChannelChanged(e)}),G.upsert([e]).then(function(){z.send({source:de.EVENT_CHANNEL_UNHIDDEN,payload:{channel:e}})}).catch(function(e){t.handleCacheError(e)}))})}break;case"USEV":var st=new Mt(P);switch(st.category){case Pt.CATEGORY_USER_BLOCK:case Pt.CATEGORY_USER_UNBLOCK:var ot=st.data.blocker.user_id,lt=st.data.blockee.user_id;Object.keys(l.cachedChannels).forEach(function(e){var n=l.cachedChannels[e];try{t.sb.currentUser&&(t.sb.currentUser.userId===ot?n.memberMap[lt].isBlockedByMe=st.category===Pt.CATEGORY_USER_BLOCK:t.sb.currentUser.userId===lt&&(n.memberMap[ot].isBlockingMe=st.category===Pt.CATEGORY_USER_BLOCK))}catch(e){}});break;case Pt.CATEGORY_FRIEND_DISCOVERED:var ut=st.data.friend_discoveries.map(function(e){return new a(e)});Object.keys(this.sb.userEventHandlers).forEach(function(e){t.sb.userEventHandlers[e].onFriendsDiscovered(ut)})}break;case"LEAV":case"JOIN":case"PONG":case"MTIO":case"TPST":case"TPEN":break;default:$.debug("Discard command:","`".concat(M.command,"`"))}}}},{key:"handleCacheError",value:function(e){$.error(e)}}]),e}(),Lt={},Dt={},xt=function(){function e(t){h(this,e),this.channel=t,this.uploadQueue=[],this.messageQueue=[],this.latestTimestampToSendMessage=0,G.get(this._iid).FileMessageQueue.queueMap[t.url]=this}return m(e,[{key:"_handleMessageQueueUpdated",value:function(e){var t=this;switch($.debug("`fileMessageQueue` message queue updated:",this.messageQueue),e){case"add":this.uploadQueue.length<6&&this._moveFirstPendingMessageToUploadQueue();break;case"update":case"remove":if(this.messageQueue.length>0){var n=G.get(this._iid).FileMessageQueue,r=this.messageQueue[0];if(r)if(r.state===n.State.UPLOADED)if(r.state=n.State.SENDING,navigator&&"boolean"==typeof navigator.onLine)if(navigator.onLine){for(0===this.latestTimestampToSendMessage&&(this.latestTimestampToSendMessage=(new Date).getTime()-200);(new Date).getTime()-this.latestTimestampToSendMessage<200;);this.latestTimestampToSendMessage=(new Date).getTime(),this._sendUploadedMessage(r,function(e,a){r.state=n.State.SENT,r.error=e||null,r.response=a||null,t._handleMessageQueueUpdated("update")})}else r.state=n.State.SENT,r.error=new F("Connection is not valid. Please reconnect.",F.WEBSOCKET_CONNECTION_CLOSED),r.response=null,this._finalizeMessage();else Je.ready().then(function(e){if(e){for(0===t.latestTimestampToSendMessage&&(t.latestTimestampToSendMessage=(new Date).getTime()-200);(new Date).getTime()-t.latestTimestampToSendMessage<200;);t.latestTimestampToSendMessage=(new Date).getTime(),t._sendUploadedMessage(r,function(e,a){r.state=n.State.SENT,r.error=e||null,r.response=a||null,t._handleMessageQueueUpdated("update")})}else r.state=n.State.SENT,r.error=new F("Connection is not valid. Please reconnect.",F.WEBSOCKET_CONNECTION_CLOSED),r.response=null,t._finalizeMessage()});else r.state===n.State.SENT&&this._finalizeMessage()}}}},{key:"_handleUploadQueueUpdated",value:function(e,t){var n=this;switch($.debug("`fileMessageQueue` upload queue updated:",this.uploadQueue),e){case"add":var r=G.get(this._iid).FileMessageQueue;if(t.state=r.State.UPLOADING,t.error){var a=this.messageQueue.map(function(e){return e.requestId}).indexOf(t.requestId);a>-1&&(t.state=r.State.SENT,this._handleMessageQueueUpdated("update")),this._finalizeUpload(t.requestId)}else navigator&&"boolean"==typeof navigator.onLine?navigator.onLine?this._uploadFile(t,function(e){t.error&&t.state===r.State.SENT||(t.state=r.State.UPLOADED),t.fileInfo=e,n._handleMessageQueueUpdated("update"),n._finalizeUpload(t.requestId)}):(t.state=r.State.SENT,t.error=new F("Connection is not valid. Please reconnect.",F.WEBSOCKET_CONNECTION_CLOSED),t.response=null,this._handleMessageQueueUpdated("update"),this._finalizeUpload(t.requestId)):Je.ready().then(function(e){e?n._uploadFile(t,function(e){t.error&&t.state===r.State.SENT||(t.state=r.State.UPLOADED),t.fileInfo=e,n._handleMessageQueueUpdated("update"),n._finalizeUpload(t.requestId)}):(t.state=r.State.SENT,t.error=new F("Connection is not valid. Please reconnect.",F.WEBSOCKET_CONNECTION_CLOSED),t.response=null,n._handleMessageQueueUpdated("update"),n._finalizeUpload(t.requestId))});break;case"update":break;case"remove":this.uploadQueue.length<6&&this._moveFirstPendingMessageToUploadQueue()}}},{key:"_moveFirstPendingMessageToUploadQueue",value:function(){var e=G.get(this._iid).FileMessageQueue,t=this.messageQueue.filter(function(t){return t.state===e.State.PENDING});if(t.length>0){var n=t[0];this.uploadQueue.push(n),this._handleUploadQueueUpdated("add",n)}}},{key:"_sendUploadedMessage",value:function(e,t){var n=G.get(this._iid),r=n.Command,a=n.FileMessage,i=e.fileInfo,s=r.bFile(d(d({},i),{},{requestId:e.requestId,channelUrl:this.channel.url,url:i.file,metaArrays:i.metaArrays})),o=Ba.getInstance(this._iid),l=R.get(this._iid);o.getConnectionState()===o.ConnectionState.OPEN||!o.currentUser||o.connecting||o.reconnecting?o.sendCommand(s,function(e,n){if(o.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(n){var l=new a(s.getJsonElement());l.requestedMentionUserIds=i.mentionedUserIds,t(n,l)}else{var u=new a(e.getJsonElement());t(null,u)}}):l.container.apiClient.sendFileMessage(d(d({reqId:e.requestId,channelUrl:this.channel.url,isOpenChannel:this.channel.isOpenChannel()},i),{},{fileUrl:i.file,fileName:i.name,fileSize:i.size,fileType:i.type,metaArrays:i.metaArrays}),function(e,n){var r=new a(e?s.getJsonElement():n);e&&(r.requestedMentionUserIds=i.mentionedUserIds),t(e,r)})}},{key:"_uploadFile",value:function(e,t){var n=e.fileInfo,r=e.pendingMessage;if("string"!=typeof n.file&&n.file){var a=G.get(this._iid).FileMessageQueue;R.get(this._iid).container.apiClient.uploadFile(d(d({},n),{},{fileType:n.type,channelUrl:this.channel.url,reqId:r?r.reqId:null}),function(r,i){if(r)e.state=a.State.SENT,e.error=r,e.response=null,t(n);else{var s="object"===f(i)?i:JSON.parse(i);n.file=s.url,n.thumbnailSizes=s.hasOwnProperty("thumbnails")?s.thumbnails:[],n.requireAuth=!!s.hasOwnProperty("require_auth")&&s.require_auth,n.size=s.hasOwnProperty("file_size")?s.file_size:n.size,t(n)}})}else n.thumbnailSizes=[],n.requireAuth=!1,t(n)}},{key:"_finalizeUpload",value:function(e){var t=this.uploadQueue.map(function(e){return e.requestId}).indexOf(e);if(t>-1){var n=this.uploadQueue.splice(t,1);n.length>0&&this._handleUploadQueueUpdated("remove",n[0])}}},{key:"_finalizeMessage",value:function(){var e=this,t=R.get(this._iid),n=t.container.localCacheEnabled,r=t.container.isErrorFirstInCallback,a=Ba.getInstance(this._iid),i=bt.of(this._iid),s=je.of(this._iid),o=Oe.of(this._iid),l=G.get(this._iid).FileMessageQueue,u=this.messageQueue[0],c=u.pendingMessage;if(u&&u.state===l.State.SENT){u.state=l.State.DONE;var d=u.response;d&&c&&(d._isAutoResendRegistered=c._isAutoResendRegistered);var f=u.error,h=f?new F(f.message,f.code):null,p=u.fileInfo.callback;if(d&&!f){d.reqId=c.reqId,d.requestState=a.MessageRequestState.SUCCEEDED,d.sendingStatus=a.MessageSendingStatus.SUCCEEDED;var m=a.currentUser;if(m&&d._sender&&m.userId===d._sender.userId&&(m.nickname!==d._sender.nickname&&(m.nickname=d._sender.nickname),m.plainProfileUrl!==d._sender.plainProfileUrl&&(m.plainProfileUrl=d._sender.plainProfileUrl)),this.channel.isGroupChannel())return this.channel.lastMessage=d,Object.keys(a.channelHandlers).forEach(function(t){a.channelHandlers[t].onChannelChanged(e.channel)}),void i.upsert([this.channel]).then(function(){o.send({source:de.EVENT_CHANNEL_CHANGED,payload:{channel:e.channel}})}).then(function(){return s.removeUnsentMessages({channelUrl:e.channel.url,sendingStatus:a.MessageSendingStatus.PENDING,reqIds:[d.reqId]})}).then(function(){return s.upsert([d],Se.SUCCEEDED)}).then(function(){nt._completeCurrentAndProcessNextAutoResend(a,d),o.send({source:de.EVENT_MESSAGE_SENT,payload:{channel:e.channel,message:d}})}).catch(function(e){return $.error(e)}).finally(function(){p&&(r?p(null,d):p(d,null)),e.messageQueue.shift(),e._handleMessageQueueUpdated("remove")})}if(f){if(d&&d._isAutoResendRegistered&&ie.isAutoResendableError(f.code))return this.messageQueue.shift(),void this._handleMessageQueueUpdated("remove");if(u.pendingMessage&&(d=u.pendingMessage._clone()),d&&f.code!==F.INVALID_PARAMETER)if(d.requestState=a.MessageRequestState.FAILED,f.code===F.FILE_UPLOAD_CANCEL_FAILED||f.code===F.REQUEST_CANCELED){if(d.sendingStatus=a.MessageSendingStatus.CANCELED,this.channel.isGroupChannel())return void s.removeUnsentMessages({channelUrl:this.channel.url,sendingStatus:a.MessageSendingStatus.PENDING,reqIds:[d.reqId]}).then(function(){o.send({source:de.LOCAL_MESSAGE_CANCELED,payload:{channel:e.channel,message:d}})}).catch(function(e){return $.error(e)}).finally(function(){p&&(r?p(h,d):p(d,h)),e.messageQueue.shift(),e._handleMessageQueueUpdated("remove")})}else if(d.sendingStatus=a.MessageSendingStatus.FAILED,d.errorCode=f.code,d.requestedMentionUserIds=u.fileInfo.mentionedUserIds,f.code===F.FILE_SIZE_LIMIT_EXCEEDED&&d._messageParams&&d._messageParams.file&&(d._messageParams.file=null),this.channel.isGroupChannel())return void(f.code===F.USER_NOT_MEMBER||f.code===F.CHANNEL_NOT_FOUND?i.remove([this.channel.url]).then(function(){return s.removeUnsentMessages({channelUrl:e.channel.url,sendingStatus:a.MessageSendingStatus.PENDING,reqIds:[d.reqId]})}).then(function(){o.send({source:de.LOCAL_MESSAGE_FAILED,payload:{channel:e.channel,message:d}})}).catch(function(e){return $.error(e)}).finally(function(){p&&(r?p(h,d):p(d,h)),e.messageQueue.shift(),e._handleMessageQueueUpdated("remove")}):(n&&ie.isAutoResendableError(f.code)&&(d.sendingStatus=a.MessageSendingStatus.PENDING,d.errorCode=0,d._isAutoResendRegistered=!0),s.upsert([d],Se.UNSENT).then(function(){nt._completeCurrentAndProcessNextAutoResend(a,d),o.send({source:de.LOCAL_MESSAGE_FAILED,payload:{channel:e.channel,message:d}})}).catch(function(e){return $.error(e)}).finally(function(){var t=d._clone();t.sendingStatus=a.MessageSendingStatus.FAILED,t.errorCode=f.code,t._isAutoResendRegistered=!1,p&&(r?p(h,t):p(t,h)),e.messageQueue.shift(),e._handleMessageQueueUpdated("remove")})))}p&&(r?p(h,d):p(d,h)),this.messageQueue.shift(),this._handleMessageQueueUpdated("remove")}}},{key:"addJob",value:function(e){this.messageQueue.push(e),this._handleMessageQueueUpdated("add")}},{key:"cancelUploadItemByRequestId",value:function(e,t){this._finalizeUpload(e);var n=this.messageQueue.map(function(e){return e.requestId}).indexOf(e);if(n>-1){var r=G.get(this._iid).FileMessageQueue,a=this.messageQueue[n];!a||a.state!==r.State.UPLOADING&&a.state!==r.State.PENDING||(a.state=r.State.SENT,a.response=null,a.error=new F("Uploading has been completed or canceled.",F.FILE_UPLOAD_CANCEL_FAILED),this._handleMessageQueueUpdated("update"));var i=r.uploadRequest[e];if(i)return"function"==typeof i.abort?i.abort():"function"==typeof i.cancel&&i.cancel("Upload has been canceled."),t(null,!0),!0;t(new F("Uploading has been completed or canceled.",F.FILE_UPLOAD_CANCEL_FAILED),!1)}else t(new F("Uploading has been completed or canceled.",F.FILE_UPLOAD_CANCEL_FAILED),!1);return!1}}],[{key:"State",get:function(){return{PENDING:"pending",UPLOADING:"uploading",UPLOADED:"uploaded",SENDING:"sending",SENT:"sent",DONE:"done"}}},{key:"getByChannelUrl",value:function(e){return G.get(this._iid).FileMessageQueue.queueMap[e]}},{key:"create",value:function(e){var t=G.get(this._iid).FileMessageQueue;return t.queueMap.hasOwnProperty(e.url)||(t.queueMap[e.url]=new t(e)),t.queueMap[e.url]}},{key:"delete",value:function(e){var t=G.get(this._iid).FileMessageQueue;t.queueMap.hasOwnProperty(e)&&delete t.queueMap[e]}},{key:"clear",value:function(){Dt[this._iid]={}}},{key:"queueMap",get:function(){return Dt[this._iid]||(Dt[this._iid]={}),Dt[this._iid]}},{key:"uploadRequest",get:function(){return Lt[this._iid]||(Lt[this._iid]={}),Lt[this._iid]}}]),e}();xt.Job=m(function e(t){var n=t.fileInfo,r=t.requestId,a=t.pendingMessage,i=t.state,s=t.error,o=void 0===s?null:s,l=t.response,u=void 0===l?null:l;h(this,e),this.fileInfo=n,this.requestId=r,this.pendingMessage=a,this.state=i||xt.State.PENDING,this.error=o,this.response=u});var Ft=function(e,t){return(Ft=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},jt=function(){return(jt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function Ht(e,t,n,r){return new(n||(n=Promise))(function(a,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function o(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,o)}l((r=r.apply(e,t||[])).next())})}function Gt(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}}function Bt(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||t)}var zt,Vt={},qt=function(){function e(e){var t=e.dbname,n=e.itemSizeLimit,r=void 0===n?1048576:n,a=e.cacheLimit,i=void 0===a?256:a,s=e.blockHashBase,o=void 0===s?2:s,l=e.blockHashMultiplier,u=void 0===l?10:l,c=e.blockHashConstant,d=void 0===c?11:c,f=e.transactionApplyDelay,h=void 0===f?200:f,p=e.disableLogger,m=void 0!==p&&p;return Vt[t]||(this.itemSizeLimit=r,this.cacheLimit=i,this.blockHashBase=o,this.blockHashMultiplier=u,this.blockHashConstant=d,this.transactionApplyDelay=h,this.disableLogger=m,Vt[t]=this),Vt[t]}return e.get=function(e){return Vt[e]},e}();!function(e){e[e.UNKNOWN_ERROR=6e7]="UNKNOWN_ERROR",e[e.STORE_NOT_DEFINED=61001e3]="STORE_NOT_DEFINED",e[e.STORE_NOT_AVAILABLE=61001001]="STORE_NOT_AVAILABLE",e[e.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING=61001002]="STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING",e[e.STORE_IS_FULL=61001003]="STORE_IS_FULL",e[e.STORE_INVALID_KEY_TYPE=61002e3]="STORE_INVALID_KEY_TYPE",e[e.STORE_BROKEN_INTEGRITY=61002001]="STORE_BROKEN_INTEGRITY",e[e.STORE_BROKEN_BLOB=61002002]="STORE_BROKEN_BLOB",e[e.STORE_ITEM_SIZE_LIMIT_EXCEEDED=61017e3]="STORE_ITEM_SIZE_LIMIT_EXCEEDED",e[e.STORE_READ_FAILED=61017001]="STORE_READ_FAILED",e[e.STORE_WRITE_FAILED=61017002]="STORE_WRITE_FAILED",e[e.DATABASE_SCHEMA_NOT_ON_UPGRADE=62002e3]="DATABASE_SCHEMA_NOT_ON_UPGRADE",e[e.COLLECTION_NOT_READY=63001e3]="COLLECTION_NOT_READY",e[e.COLLECTION_KEY_NOT_MATCH=63002e3]="COLLECTION_KEY_NOT_MATCH",e[e.COLLECTION_QUERY_NOT_VALID=63002001]="COLLECTION_QUERY_NOT_VALID",e[e.COLLECTION_KEY_NOT_FOUND=63004e3]="COLLECTION_KEY_NOT_FOUND",e[e.COLLECTION_KEY_NOT_GIVEN=63004001]="COLLECTION_KEY_NOT_GIVEN",e[e.COLLECTION_INSERT_DUPLICATE=63009e3]="COLLECTION_INSERT_DUPLICATE",e[e.COLLECTION_WRITE_FAILED=63017e3]="COLLECTION_WRITE_FAILED",e[e.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED=63017001]="COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED",e[e.INDEX_TABLE_IS_REQUIRED=65001e3]="INDEX_TABLE_IS_REQUIRED",e[e.INDEX_TYPE_NOT_MATCH=65002e3]="INDEX_TYPE_NOT_MATCH",e[e.COMPARE_TYPE_NOT_MATCH=69002001]="COMPARE_TYPE_NOT_MATCH",e[e.CIRCULAR_REFERENCE_FOUND=69002002]="CIRCULAR_REFERENCE_FOUND"}(zt||(zt={}));var Yt,Kt=function(e){function t(t){var n=t.code,r=void 0===n?zt.UNKNOWN_ERROR:n,a=t.message,i=void 0===a?"Unknown error occurred.":a,s=e.call(this,i)||this;return s.code=r,s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Ft(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),Object.defineProperty(t,"storeNotDefined",{get:function(){return new t({code:zt.STORE_NOT_DEFINED,message:"Store is not defined. Specify the store on NestDB()"})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeNotAvailable",{get:function(){return new t({code:zt.STORE_NOT_AVAILABLE,message:"Store is not available. Check your environment settings."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeNotAvailableInPrivateBrowsing",{get:function(){return new t({code:zt.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING,message:"Store is not available because it is in private browsing."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeIsFull",{get:function(){return new t({code:zt.STORE_IS_FULL,message:"Store is full."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeKeyTypeIsInvalid",{get:function(){return new t({code:zt.STORE_INVALID_KEY_TYPE,message:"Store key should be string type."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeBrokenIntegrity",{get:function(){return new t({code:zt.STORE_BROKEN_INTEGRITY,message:"Data should be in a store but it does not. Integrity is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeBrokenBlob",{get:function(){return new t({code:zt.STORE_BROKEN_BLOB,message:"Data should be in a store but it does not. Blob data is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeItemSizeExceeded",{get:function(){return new t({code:zt.STORE_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that the store allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeReadFailed",{get:function(){return new t({code:zt.STORE_READ_FAILED,message:"Failed to read from store."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeWriteFailed",{get:function(){return new t({code:zt.STORE_WRITE_FAILED,message:"Failed to write to store."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"databaseSchemaNotOnUpgrade",{get:function(){return new t({code:zt.DATABASE_SCHEMA_NOT_ON_UPGRADE,message:"Committing schema is not allowed when upgrade is not running."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionNotReady",{get:function(){return new t({code:zt.COLLECTION_NOT_READY,message:"Collection is not ready due to an error during initialization."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionKeyNotMatch",{get:function(){return new t({code:zt.COLLECTION_KEY_NOT_MATCH,message:"keyName of collection could not change."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionQueryNotValid",{get:function(){return new t({code:zt.COLLECTION_QUERY_NOT_VALID,message:"Query parameter is not a valid format."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionInsertDuplicate",{get:function(){return new t({code:zt.COLLECTION_INSERT_DUPLICATE,message:"The key already exists."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionKeyNotFound",{get:function(){return new t({code:zt.COLLECTION_KEY_NOT_FOUND,message:"The key is not found."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionKeyNotGiven",{get:function(){return new t({code:zt.COLLECTION_KEY_NOT_GIVEN,message:"The item should contain [keyName] property."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionWriteFailed",{get:function(){return new t({code:zt.COLLECTION_WRITE_FAILED,message:"Failed to write an item."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionItemSizeExceeded",{get:function(){return new t({code:zt.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that a collection allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"indexTableIsRequired",{get:function(){return new t({code:zt.INDEX_TABLE_IS_REQUIRED,message:"Index table is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"indexTypesNotMatch",{get:function(){return new t({code:zt.INDEX_TYPE_NOT_MATCH,message:"Indexed column should have primitive type."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"compareTypesNotMatch",{get:function(){return new t({code:zt.COMPARE_TYPE_NOT_MATCH,message:"Values to compare have different types."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"circularReferenceFound",{get:function(){return new t({code:zt.CIRCULAR_REFERENCE_FOUND,message:"Cannot handle circular referenced object."})},enumerable:!1,configurable:!0}),t}(Error);!function(e){e.INIT="init",e.READY="ready",e.CLOSED="closed"}(Yt||(Yt={}));var Wt,Qt=function e(t,n){if(void 0===n&&(n=new WeakMap),"object"==typeof t&&null!==t){if(n.has(t))throw Kt.circularReferenceFound;n.set(t,!0);var r=null;if(Array.isArray(t))r=t.map(function(t){return e(t,n)});else if(t instanceof RegExp)r=t;else if(t instanceof Date)r=t;else for(var a in r={},t)r[a]=e(t[a],n);return n.delete(t),r}return t},Jt=function(e,t){if(null==t)return 1;if(null==e)return-1;if(typeof e!=typeof t)throw Kt.compareTypesNotMatch;var n=0;switch(typeof e){case"boolean":case"number":n=e-t;break;case"string":n=e.localeCompare(t)}return n},$t=function(e,t){for(var n=0,r=0;r<e.length;r++)n=e.charCodeAt(r)+(n<<6)+(n<<16)-n;return(n>>>0)%t},Xt=function(e){return new Promise(function(t){setTimeout(function(){return t()},e)})},Zt=function e(t,n){if(!n)return!1;if("function"!=typeof t){for(var r in t)if(["/and","&&"].includes(r)){if(t[r].some(function(t){return!e(t,n)}))return!1}else if(["/or","||"].includes(r)){if(t[r].every(function(t){return!e(t,n)}))return!1}else if("/where"===r){if(!(0,t[r])(n))return!1}else{var a=r;if("object"==typeof t[a]){var i=t[a];for(var s in i)switch(s){case"/eq":case"=":if((o=n[a])!==(l=i[s]))return!1;break;case"/neq":case"!=":if((o=n[a])===(l=i[s]))return!1;break;case"/gt":case">":var o=n[a],l=i[s];if(!(Jt(o,l)>0))return!1;break;case"/gte":case">=":if(o=n[a],l=i[s],!(Jt(o,l)>=0))return!1;break;case"/lt":case"<":if(o=n[a],l=i[s],!(Jt(o,l)<0))return!1;break;case"/lte":case"<=":if(o=n[a],l=i[s],!(Jt(o,l)<=0))return!1;break;case"/in":if(o=n[a],!(l=i[s]).includes(o))return!1;break;case"/nin":if(o=n[a],(l=i[s]).includes(o))return!1;break;case"/contain":if(o=n[a],l=i[s],!o.includes(l))return!1;break;case"/regex":if(o=n[a],!(l=i[s]).test(o))return!1;break;case"/where":if(o=n[a],!(0,i[s])(o))return!1}}else if("function"==typeof t[a]){if(!t[a](n[a]))return!1}else if(t[a]!==n[a])return!1}return!0}return t(n)},en=function(){},tn=function(){return Promise.resolve()},nn=function(e){return e},rn=function(e,t){t(null)};!function(e){e[e.FORWARD=0]="FORWARD",e[e.BACKWARD=1]="BACKWARD"}(Wt||(Wt={}));var an,sn,on,ln=function(){function e(e){var t=e.initialPrevValue,n=void 0===t?null:t,r=e.initialNextValue,a=void 0===r?null:r,i=e.iterator,s=e.map,o=void 0===s?nn:s,l=e.backward,u=void 0===l?tn:l,c=e.forward,d=void 0===c?tn:c,f=e.complete,h=void 0===f?en:f;this._prevValue=n,this._nextValue=a,this._error=null,this._map=o,this._backward=u,this._forward=d,this._iterator=i,this._complete=h}return Object.defineProperty(e.prototype,"prevValue",{get:function(){return this._map(this._prevValue)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextValue",{get:function(){return this._map(this._nextValue)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"error",{get:function(){return this._error},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPrevious",{get:function(){return!!this._prevValue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasNext",{get:function(){return!!this._nextValue},enumerable:!1,configurable:!0}),e.prototype.prev=function(){return Ht(this,void 0,void 0,function(){var e,t,n;return Gt(this,function(r){switch(r.label){case 0:if(!this.hasPrevious)return[3,6];r.label=1;case 1:return r.trys.push([1,3,,4]),e=this._prevValue,t=this,[4,this._backward()];case 2:return t._prevValue=r.sent()||null,this._nextValue=e,[3,4];case 3:return n=r.sent(),this._error=n,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,r.sent()];case 6:this._complete(),r.label=7;case 7:return[2]}})})},e.prototype.next=function(){return Ht(this,void 0,void 0,function(){var e,t,n;return Gt(this,function(r){switch(r.label){case 0:if(!this.hasNext)return[3,6];r.label=1;case 1:return r.trys.push([1,3,,4]),e=this._nextValue,t=this,[4,this._forward()];case 2:return t._nextValue=r.sent()||null,this._prevValue=e,[3,4];case 3:return n=r.sent(),this._error=n,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,r.sent()];case 6:this._complete(),r.label=7;case 7:return[2]}})})},e.prototype.stop=function(){this._prevValue=null,this._nextValue=null,this._complete()},e}(),un=function(){function e(e){var t=e.condition,n=void 0===t?{}:t,r=e.backward,a=void 0!==r&&r,i=e.blockManager,s=e.indexer;this.condition=n,this.backward=a,this._blockManager=i,this._indexer=s}return e.prototype.findOptimizedStartPosition=function(){var e=this,t=["=","/eq",">",">=","/gt","/gte"],n=["=","/eq","<","<=","/lt","/lte"];if(this.backward){var r=this._indexer.origin.length-1;if("function"!=typeof this.condition)for(var a in this._indexer.fields){var i=this._indexer.fields[a],s=1;if("-"===i[0]&&(i=i.slice(1),s=-1),this.condition[i])if("object"==typeof this.condition[i]){var o=s>0?n:t;for(var l in this.condition[i])if(o.includes(l))for(var u=r;u>=0;u--)if(s*Jt(this._indexer.origin[u].columnValues[a],this.condition[i][l])<=0){r=u;break}}else for(u=r;u>=0;u--)if(s*Jt(this._indexer.origin[u].columnValues[a],this.condition[i])<=0){r=u;break}}return Math.min(r+1,this._indexer.origin.length-1)}var c=0;if("function"!=typeof this.condition)for(var d=function(r){var a=f._indexer.fields[r],i=1;if("-"===a[0]&&(a=a.slice(1),i=-1),f.condition[a])if("object"==typeof f.condition[a])Object.keys(f.condition[a]).forEach(function(s){if((i>0?t:n).includes(s))for(var o=c;o<e._indexer.origin.length;o++)if(i*Jt(e._indexer.origin[o].columnValues[r],e.condition[a][s])>=0){c=o;break}});else for(var s=c;s<f._indexer.origin.length;s++)if(i*Jt(f._indexer.origin[s].columnValues[r],f.condition[a])>=0){c=s;break}},f=this,a=0;a<this._indexer.fields.length;a++)d(a);return Math.max(c-1,0)},e.prototype.each=function(e){return Ht(this,void 0,void 0,function(){var t,n,r,a,i,s,o,l=this;return Gt(this,function(u){switch(u.label){case 0:if(t=this.findOptimizedStartPosition(),n=0,this.backward&&this._indexer.origin[t]&&(n=this._indexer.origin[t].keys.length-1),r=function(){if(l._indexer.origin[t]){if(!l._indexer.origin[t].keys[++n]){if(!l._indexer.origin[++t])return!1;n=0}return!0}return!1},a=function(){if(l._indexer.origin[t]){if(!l._indexer.origin[t].keys[--n]){if(!l._indexer.origin[--t])return!1;n=l._indexer.origin[t].keys.length-1}return!0}return!1},i=null,!this._indexer.origin[t])return[3,4];s=this.backward?a:r,u.label=1;case 1:return[4,this._blockManager.getFromBlock(this._indexer.origin[t].keys[n])];case 2:if(o=u.sent(),Zt(this.condition,o))return i=o,[3,4];u.label=3;case 3:if(s())return[3,1];u.label=4;case 4:return[4,new Promise(function(s){var o=new ln({initialNextValue:Qt(i),iterator:e,forward:function(){return Ht(l,void 0,void 0,function(){var e,i;return Gt(this,function(s){switch(s.label){case 0:e=this.backward?a:r,s.label=1;case 1:return e()?[4,this._blockManager.getFromBlock(this._indexer.origin[t].keys[n])]:[3,3];case 2:return i=s.sent(),Zt(this.condition,i)?[2,Qt(i)]:[3,1];case 3:return[2,null]}})})},backward:function(){return Ht(l,void 0,void 0,function(){var e,i;return Gt(this,function(s){switch(s.label){case 0:e=this.backward?r:a,s.label=1;case 1:return e()?[4,this._blockManager.getFromBlock(this._indexer.origin[t].keys[n])]:[3,3];case 2:return i=s.sent(),Zt(this.condition,i)?[2,Qt(i)]:[3,1];case 3:return[2,null]}})})},complete:s});e(o)})];case 5:return[2,u.sent()]}})})},e}(),cn=function(){function e(e){var t=e.condition,n=void 0===t?{}:t,r=e.backward,a=void 0!==r&&r,i=e.mutex,s=e.blockManager,o=e.indexer;this._mutex=i,this._iterator=new un({condition:n,backward:a,blockManager:s,indexer:o})}return e.prototype.fetch=function(e){return void 0===e&&(e={}),Ht(this,void 0,void 0,function(){var t,n,r,a,i=this;return Gt(this,function(s){switch(s.label){case 0:if(t=Math.max(e.offset||0,0),0===(n="number"==typeof e.limit?e.limit:Number.MAX_SAFE_INTEGER))return[2,[]];if(n<0)throw Kt.collectionQueryNotValid;s.label=1;case 1:return s.trys.push([1,4,,5]),r=[],[4,this._mutex.lock()];case 2:return s.sent(),[4,this._iterator.each(function(e){return Ht(i,void 0,void 0,function(){return Gt(this,function(a){return e.error?e.stop():e.hasNext?0===t?(r.push(e.nextValue),0<n&&n<=r.length?e.stop():e.next()):(t--,e.next()):e.stop(),[2]})})})];case 3:return s.sent(),this._mutex.unlock(),[2,r];case 4:throw a=s.sent(),this._mutex.unlock(),a;case 5:return[2]}})})},e.prototype.count=function(){return Ht(this,void 0,void 0,function(){var e,t,n=this;return Gt(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),e=0,[4,this._mutex.lock()];case 1:return r.sent(),[4,this._iterator.each(function(t){return Ht(n,void 0,void 0,function(){return Gt(this,function(n){return t.error?t.stop():t.hasNext?(e++,t.next()):t.stop(),[2]})})})];case 2:return r.sent(),this._mutex.unlock(),[2,e];case 3:throw t=r.sent(),this._mutex.unlock(),t;case 4:return[2]}})})},e}(),dn=function(e){return"".concat("nest","@").concat(e)},fn=function(e,t){return"".concat(dn(e),"/").concat(t)},hn=function(e,t){return"".concat(fn(e,t),".metadata")},pn=function(e,t){return"".concat(fn(e,t),"/block.")},mn=function(e,t){return"".concat(fn(e,t),"/blob.")},gn=function(e,t,n,r){return void 0===r&&(r=0),"".concat(mn(e,t)).concat(n,".").concat(r)},yn=function(){function e(e){var t=e.dbname,n=e.collectionName,r=e.store;this.dbname=t,this.collectionName=n,this._store=r}return e.prototype._makeShards=function(e,t){var n=Math.max(this._store.itemSizeLimit-1024,0);if(n>0){for(var r=Math.ceil(e.data.length/n),a="".concat(r,".").concat(e.type,".").concat(t),i=[],s=0;s<e.data.length;s+=n){var o=e.data.slice(s,s+n);i.push(o)}return{blobId:a,shards:i}}return{blobId:null,shards:null}},e.prototype._encode=function(e){return Ht(this,void 0,void 0,function(){return Gt(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t){var n=new FileReader;n.onload=function(){t({data:n.result,type:e.type})},n.readAsDataURL(e)})];case 1:return[2,t.sent()]}})})},e.prototype._decode=function(e){return Ht(this,void 0,void 0,function(){var t,n,r,a,i,s;return Gt(this,function(o){switch(o.label){case 0:return"undefined"==typeof fetch?[3,3]:[4,fetch(e.data)];case 1:return[4,o.sent().blob()];case 2:return[2,o.sent()];case 3:for(t=[],n=atob(e.data.split(",")[1]),r=0;r<n.length;r+=512){for(a=n.slice(r,r+512),i=new Array(a.length),s=0;s<a.length;s++)i[s]=a.charCodeAt(s);t.push(new Uint8Array(i))}return[2,new Blob(t,{type:e.type})]}})})},e.prototype.get=function(e){return Ht(this,void 0,void 0,function(){var t,n,r,a,i,s,o,l;return Gt(this,function(u){switch(u.label){case 0:if(t=[],n=e.split("."),r=n[0],a=n[1],!((i=parseInt(r))>0))return[3,6];s=0,u.label=1;case 1:return s<i?(o=gn(this.dbname,this.collectionName,e,s),[4,this._store.get(o)]):[3,4];case 2:if(!(l=u.sent())||!l.d)throw Kt.storeBrokenBlob;t.push(l.d),u.label=3;case 3:return s++,[3,1];case 4:return[4,this._decode({data:t.join(""),type:a})];case 5:return[2,u.sent()];case 6:return[2,null]}})})},e.prototype.save=function(e,t){return void 0===t&&(t="".concat(Date.now())),Ht(this,void 0,void 0,function(){var n,r,a,i,s,o,l;return Gt(this,function(u){switch(u.label){case 0:return n=[],[4,this._encode(e)];case 1:if(r=u.sent(),a=this._makeShards(r,t),i=a.blobId,s=a.shards,!i)return[3,3];for(o=0;o<s.length;o++)l=gn(this.dbname,this.collectionName,i,o),n.push({key:l,value:{d:s[o]},generation:1});return[4,this._store.setMany(n)];case 2:if(u.sent().some(function(e){return e instanceof Error}))throw Kt.storeWriteFailed;return[2,i];case 3:return[2,null]}})})},e.prototype.remove=function(e){return Ht(this,void 0,void 0,function(){var t,n,r,a;return Gt(this,function(i){switch(i.label){case 0:if(t=[],n=e.split(".")[0],!((r=parseInt(n))>0))return[3,2];for(a=0;a<r;a++)t.push(gn(this.dbname,this.collectionName,e,a));return[4,this._store.removeMany(t)];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.clear=function(){return Ht(this,void 0,void 0,function(){var e,t,n,r,a,i;return Gt(this,function(s){switch(s.label){case 0:return e=mn(this.dbname,this.collectionName),t=[],[4,this._store.getAllKeys()];case 1:for(n=s.sent(),r=0,a=n;r<a.length;r++)(i=a[r]).startsWith(e)&&t.push(i);return[4,this._store.removeMany(n)];case 2:return s.sent(),[2]}})})},e}();!function(e){e[e.COMMIT=0]="COMMIT",e[e.WRITE=1]="WRITE",e[e.ERROR=2]="ERROR"}(an||(an={})),function(e){e.PENDING="pending",e.PERSISTENT="persistent",e.VOLATILE="volatile"}(sn||(sn={})),function(e){e[e.NO_CACHE=0]="NO_CACHE",e[e.DEFAULT=1]="DEFAULT",e[e.PERSISTENT=2]="PERSISTENT"}(on||(on={}));var _n=[sn.PENDING,sn.VOLATILE],vn={},En=function(){function e(e){var t=e.dbname,n=e.limit,r=void 0===n?256:n;return vn[t]||(this.dbname=t,this._items=[],this._limit=r,vn[t]=this),vn[t]}return e.get=function(e){return vn[e]},Object.defineProperty(e.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),e.prototype.find=function(e,t,n){return void 0===n&&(n=on.DEFAULT),Ht(this,void 0,void 0,function(){var r,a;return Gt(this,function(i){switch(i.label){case 0:return(r=this.get(t))?[3,2]:[4,e.get(t)];case 1:return(a=i.sent())&&(r={key:t,value:a,generation:1,state:n===on.PERSISTENT?sn.PERSISTENT:sn.VOLATILE},this.put(r)),[3,3];case 2:n===on.PERSISTENT&&(r.state=sn.PERSISTENT),i.label=3;case 3:return[2,r]}})})},e.prototype.get=function(e,t){void 0===t&&(t=on.DEFAULT);var n=this._items.map(function(e){return e.key}).indexOf(e);if(n>-1){var r=this._items[n];return t===on.PERSISTENT&&(r.state=sn.PERSISTENT),t!==on.NO_CACHE&&this.put(r),r}return null},e.prototype.put=function(e){if(this._limit>0){var t=this._items.map(function(e){return e.key}).indexOf(e.key);if(t>-1)_n.includes(this._items[t].state)&&_n.includes(e.state)?(this._items.splice(t,1),this._items.push(e)):(this._items[t].state=e.state,this._items[t].generation=e.generation,this._items[t].value=e.value);else{this._items.push(e);var n=this._items.filter(function(e){return e.state===sn.VOLATILE}),r=n.length-this._limit;if(r>0){for(var a=[],i=0,s=this._items;i<s.length;i++){var o=s[i];o.state===sn.VOLATILE&&r>0?r--:a.push(o)}this._items=a}}}},e.prototype.remove=function(e){var t=this._items.map(function(e){return e.key}).indexOf(e);t>-1&&this._items.splice(t,1)},e.prototype.clearByCondition=function(e){this._items=this._items.filter(function(t){return!e(t)})},e.prototype.clear=function(e){void 0===e&&(e=!1),this._items=e?[]:this._items.filter(function(e){return e.state!==sn.VOLATILE})},e}(),bn=function(){function e(e){var t=e.dbname,n=e.collectionName,r=e.store;this._metadata=null,this._requests=[],this._onCommit=new Map,this._onWrite=new Map,this._onError=new Map,this.dbname=t,this.collectionName=n,this.metadataKey=function(e,t){return"".concat(fn(e,t),"/trans.metadata")}(t,n),this.recordsetKey=function(e,t){return"".concat(fn(e,t),"/trans.recordset")}(t,n),this._store=r}return Object.defineProperty(e.prototype,"generation",{get:function(){return this._metadata?this._metadata.generation:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"requestCount",{get:function(){return this._requests.length},enumerable:!1,configurable:!0}),e.prototype._getReducedRecordset=function(e){return void 0===e&&(e=[]),Ht(this,void 0,void 0,function(){var t;return Gt(this,function(n){switch(n.label){case 0:return[4,this._store.get(this.recordsetKey)];case 1:return(t=n.sent()||[]).push.apply(t,e),[2,this._reduceRecordSet(t)]}})})},e.prototype._reduceRecordSet=function(e){for(var t=[],n={},r=e.length-1;r>=0;r--){for(var a=e[r],i=[],s=a.requests.length-1;s>=0;s--){var o=a.requests[s],l=o.data;n[l.key]||(i.unshift(o),n[l.key]=!0)}i.length>0&&(a.requests=i,t.unshift(a))}return t},e.prototype._applyRecord=function(e,t){return Ht(this,void 0,void 0,function(){var n,r,a,i,s,o,l,u,c;return Gt(this,function(d){switch(d.label){case 0:n=En.get(this.dbname),r=t.generation,a=t.requests,i=null,d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this._store.setMany(a.map(function(e){return jt(jt({},e.data),{generation:r})}))];case 2:for(s=d.sent(),o=0;o<a.length;o++)s[o]instanceof Error&&(i||(i=s[o]),l=a[o].data,n.put(jt(jt({},l),{generation:r,state:sn.PERSISTENT})));return[3,4];case 3:return u=d.sent(),i=u,[3,4];case 4:return i?[3,6]:(c=e.filter(function(e){return e.generation!==r}),[4,this._store.set({key:this.recordsetKey,value:c,generation:r})]);case 5:return d.sent(),this._onWrite.forEach(function(e){e(a.map(function(e){return e.data}))}),[3,7];case 6:this._onError.forEach(function(e){return e(i)}),d.label=7;case 7:return[2]}})})},e.prototype.init=function(){return Ht(this,void 0,void 0,function(){var e,t,n,r,a;return Gt(this,function(i){switch(i.label){case 0:return e=this,[4,this._store.get(this.metadataKey)];case 1:return e._metadata=i.sent()||{generation:1},[4,this._getReducedRecordset()];case 2:t=i.sent(),n=0,r=t,i.label=3;case 3:return n<r.length?(a=r[n],[4,this._applyRecord(t,a)]):[3,6];case 4:i.sent(),i.label=5;case 5:return n++,[3,3];case 6:return[2]}})})},e.prototype.on=function(e,t,n){switch(e){case an.COMMIT:this._onCommit.set(t,n);break;case an.WRITE:this._onWrite.set(t,n);break;case an.ERROR:this._onError.set(t,n)}},e.prototype.requestWrite=function(e,t){void 0===t&&(t=null),this._requests.push({data:e,options:t}),En.get(this.dbname).put(jt({state:sn.PENDING,generation:this.generation},e))},e.prototype.requestMultipleWrite=function(e,t){void 0===t&&(t=null);for(var n=En.get(this.dbname),r=0,a=e;r<a.length;r++){var i=a[r];this._requests.push({data:i,options:t}),n.put(jt({state:sn.PENDING,generation:this.generation},i))}},e.prototype.clear=function(){return Ht(this,void 0,void 0,function(){return Gt(this,function(e){return En.get(this.dbname).clearByCondition(function(e){return e.state===sn.PENDING}),this._requests=[],[2]})})},e.prototype.commit=function(){return Ht(this,void 0,void 0,function(){var e,t,n,r,a,i,s,o,l,u,c,d,f=this;return Gt(this,function(h){switch(h.label){case 0:if(!((e=this._requests).length>0))return[3,4];for(t=[],n={},o=e.length-1;o>=0;o--)r=e[o],u=r.data,n[u.key]||(n[u.key]=!0,t.unshift(r));return a={generation:this.generation,requests:t},[4,this._getReducedRecordset([a])];case 1:return i=h.sent(),[4,this._store.set({key:this.recordsetKey,value:i,generation:this.generation})];case 2:return h.sent(),this._metadata.generation++,[4,this._store.set({key:this.metadataKey,value:this._metadata,generation:1})];case 3:for(h.sent(),s=En.get(this.dbname),o=0;o<t.length;o++)l=t[o],u=l.data,c=l.options,s.put(jt(jt({},u),{generation:a.generation,state:c&&c.persistent?sn.PERSISTENT:sn.VOLATILE}));this._requests=[],this._onCommit.forEach(function(t){t(e.map(function(e){return e.data}))}),d=qt.get(this.dbname),setTimeout(function(){try{f._applyRecord(i,a)}catch(e){f._onError.forEach(function(n){return n(e)})}},d.transactionApplyDelay),h.label=4;case 4:return[2]}})})},e}(),Cn=function(){function e(e){var t=e.blockId,n=e.keyName,r=e.items,a=void 0===r?[]:r,i=e.limit;this.blockId=t,this.keyName=n,this.limit=i,this._items=Bt([],a,!0)}return e.createFromCacheItem=function(t){return t?new e(t.value):null},Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this._items.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),e.prototype.serialize=function(){return{blockId:this.blockId,keyName:this.keyName,limit:this.limit,items:this._items}},e.prototype.getItemByKey=function(e){var t=this;return this._items.find(function(n){var r=n[t.keyName];return e===r})},e.prototype.has=function(e){var t=this;return this._items.map(function(e){return e[t.keyName]}).includes(e)},e.prototype.add=function(e){var t=this,n=this._items.map(function(e){return e[t.keyName]}).indexOf(e[this.keyName]);return n<0?this._items.length<this.limit&&(this._items.push(e),!0):(this._items[n]=e,!0)},e.prototype.remove=function(e){for(var t in this._items)if(this._items[t][this.keyName]===e)return this._items.splice(parseInt(t),1),!0;return!1},e.prototype.clear=function(){this._items=[]},e}(),Nn=function(){function e(e){var t=e.dbname,n=e.collectionName,r=e.metadata,a=e.hashFunction,i=void 0===a?$t:a,s=e.transaction,o=e.store;this.dbname=t,this.collectionName=n,this.hashFunction=i,this.metadata=r,this._transaction=s,this._store=o}return Object.defineProperty(e.prototype,"keyName",{get:function(){return this.metadata.keyName},enumerable:!1,configurable:!0}),e.prototype.createBlockId=function(e,t){return void 0===t&&(t=this.metadata.blockLevel),n=this.dbname,r=this.collectionName,a=t,i="".concat(function(e,t,n){var r=n.base*Math.pow(n.multiplier,t)+n.constant;return(n.hashFunction||$t)(e,r)}(e,t,{hashFunction:this.hashFunction,base:this.metadata.blockHashBase,multiplier:this.metadata.blockHashMultiplier,constant:this.metadata.blockHashConstant})),"".concat(pn(n,r)).concat(a,".").concat(i);var n,r,a,i},e.prototype._findBlock=function(e){return Ht(this,void 0,void 0,function(){var t,n,r,a,i;return Gt(this,function(s){switch(s.label){case 0:t=En.get(this.dbname),n=this.metadata.blockLevel,s.label=1;case 1:return n>0?(r=this.createBlockId(e,n),[4,t.find(this._store,r)]):[3,4];case 2:if((a=s.sent())&&(i=Cn.createFromCacheItem(a)).getItemByKey(e))return[2,i];s.label=3;case 3:return n--,[3,1];case 4:return[2,null]}})})},e.prototype.getFromBlock=function(e){return Ht(this,void 0,void 0,function(){var t;return Gt(this,function(n){switch(n.label){case 0:return[4,this._findBlock(e)];case 1:return[2,(t=n.sent())?t.getItemByKey(e):null]}})})},e.prototype.putToBlock=function(e,t){return Ht(this,void 0,void 0,function(){var n,r,a,i,s;return Gt(this,function(o){switch(o.label){case 0:return n=qt.get(this.dbname),r=this.createBlockId(e),a=Math.floor(this._store.itemSizeLimit/n.itemSizeLimit),[4,En.get(this.dbname).find(this._store,r)];case 1:return i=o.sent(),(s=i?Cn.createFromCacheItem(i):new Cn({blockId:r,keyName:this.keyName,items:[],limit:a})).add(t)?(this._transaction.requestWrite({key:s.blockId,value:s.serialize()}),[2,!0]):[2,!1]}})})},e.prototype.removeFromBlock=function(e){return Ht(this,void 0,void 0,function(){var t;return Gt(this,function(n){switch(n.label){case 0:return[4,this._findBlock(e)];case 1:return(t=n.sent())&&t.remove(e)?(this._transaction.requestWrite({key:t.blockId,value:t.serialize()}),[2,!0]):[2,!1]}})})},e.prototype.clearAllBlocks=function(){return Ht(this,void 0,void 0,function(){var e,t,n,r,a,i,s;return Gt(this,function(o){switch(o.label){case 0:return e=pn(this.dbname,this.collectionName),[4,this._store.getAllKeys()];case 1:return t=o.sent(),n=t.filter(function(t){return t.startsWith(e)}),[4,this._store.removeMany(n)];case 2:for(o.sent(),r=En.get(this.dbname),a=0,i=n;a<i.length;a++)s=i[a],r.remove(s);return[2]}})})},e}(),Sn=function(){function e(e){var t=e.dbname,n=e.collectionName,r=e.keyName,a=e.fields,i=e.transaction,s=e.store,o=this;this._origin=[],this._table=[],this.dbname=t,this.collectionName=n,this.keyName=r,this.fields=a,this.indexerKey=function(e,t,n){return"".concat(fn(e,t),"/index.").concat(n)}(this.dbname,this.collectionName,this.fields.join(">")),this._transaction=i,this._store=s,this._transaction.on(an.COMMIT,this.indexerKey,function(){return o.commit()}),this._transaction.on(an.ERROR,this.indexerKey,function(){return o.abort()})}return e.createKey=function(e){return e.join(">")},e.parseKey=function(e){return e.split(">")},e.prototype._addItem=function(e){var t=e[this.keyName],n=this.getColumnValues(e),r=this.indexOf(n),a=r[0];return r[1]?!this._table[a].keys.includes(t)&&(this._table[a].keys.push(t),!0):(this._table.splice(a,0,{columnValues:n,keys:[t]}),!0)},e.prototype._removeItem=function(e){var t=e[this.keyName],n=this.getColumnValues(e),r=this.indexOf(n),a=r[0];if(r[1]){var i=this._table[a].keys.indexOf(t);if(i>-1)return this._table[a].keys.splice(i,1),0===this._table[a].keys.length&&this._table.splice(a,1),!0}return!1},Object.defineProperty(e.prototype,"origin",{get:function(){return this._origin},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"table",{get:function(){return this._table},enumerable:!1,configurable:!0}),e.prototype.getColumnValues=function(e){for(var t,n,r=[],a=0,i=this.fields;a<i.length;a++){var s=i[a];if("-"===s[0]&&(s=s.slice(1)),t=e[s],n=void 0,n=typeof t,null!==t&&"undefined"!==n&&"boolean"!==n&&"number"!==n&&"string"!==n)throw Kt.indexTypesNotMatch;r.push(e[s])}return r},e.prototype.diff=function(e,t){for(var n in this.fields){var r="-"===this.fields[n][0]?-1:1,a=Jt(e[n],t[n]);if(0!==a)return r*a}return 0},e.prototype.indexOf=function(e){if(this._table.length>0){for(var t=0,n=this._table.length-1;t<=n;){var r=Math.floor((t+n)/2),a=this.diff(e,this._table[r].columnValues);if(a>0)t=r+1;else{if(!(a<0))return[r,!0];n=r-1}}return[t,!1]}return[0,!1]},e.prototype.ensure=function(){return Ht(this,void 0,void 0,function(){var e,t,n,r,a,i,s,o,l,u,c,d;return Gt(this,function(f){switch(f.label){case 0:return[4,(e=En.get(this.dbname)).find(this._store,this.indexerKey,on.PERSISTENT)];case 1:return(t=f.sent())?[3,7]:(n=pn(this.dbname,this.collectionName),[4,this._store.getAllKeys()]);case 2:r=f.sent(),a=0,i=r,f.label=3;case 3:return a<i.length?(s=i[a]).startsWith(n)?[4,e.find(this._store,s,on.NO_CACHE)]:[3,5]:[3,6];case 4:for(o=f.sent(),l=Cn.createFromCacheItem(o),u=0,c=l.items;u<c.length;u++)d=c[u],this._addItem(d);f.label=5;case 5:return a++,[3,3];case 6:return this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[3,8];case 7:this._origin=t.value,this._table=Qt(this._origin),f.label=8;case 8:return[2]}})})},e.prototype.drop=function(){return Ht(this,void 0,void 0,function(){return Gt(this,function(e){switch(e.label){case 0:return En.get(this.dbname).remove(this.indexerKey),[4,this._store.remove(this.indexerKey)];case 1:return e.sent(),[2]}})})},e.prototype.addItem=function(e){return Ht(this,void 0,void 0,function(){return Gt(this,function(t){return this._addItem(e)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},e.prototype.removeItem=function(e){return Ht(this,void 0,void 0,function(){return Gt(this,function(t){return this._removeItem(e)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},e.prototype.clear=function(){return Ht(this,void 0,void 0,function(){return Gt(this,function(e){return this._table=[],this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},e.prototype.commit=function(){this._origin=this._table,this._table=Qt(this._origin)},e.prototype.abort=function(){this._table=Qt(this._origin)},e}(),Tn="undefined"!=typeof document&&"undefined"!=typeof navigator;Tn&&navigator.userAgent&&navigator.userAgent.includes("Chrome/")&&navigator.userAgent.includes("Chromium/");var On=Tn&&navigator.userAgent&&navigator.userAgent.includes("Firefox/")&&!navigator.userAgent.includes("Seamonkey/");Tn&&navigator.userAgent&&navigator.userAgent.includes("Safari/")&&!navigator.userAgent.includes("Chrome/")&&navigator.userAgent.includes("Chromium/"),Tn&&navigator.userAgent&&(navigator.userAgent.includes("OPR/")||navigator.userAgent.includes("Opera/")),Tn&&navigator.userAgent&&navigator.userAgent.includes("Trident/7.0");var wn,kn,An=Tn&&navigator.userAgent&&navigator.userAgent.includes("Edge/"),Rn=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)})};!function(e){e[e.PROCESSING=0]="PROCESSING",e[e.DONE=1]="DONE"}(wn||(wn={})),function(e){e.NEWNODE="newnode",e.REMOVENODE="removenode",e.CLAIM_HOST="claimhost",e.SYNC_HOST="synchost",e.REQUEST_LOCK="requestlock",e.ACQUIRE_LOCK="acquirelock",e.RELEASE_LOCK="releaselock"}(kn||(kn={}));var In,Mn={},Pn=function(){function e(e,t){void 0===t&&(t={});var n=this;return this._state=wn.PROCESSING,this._hostId=null,this._queue=[],this._currentItem=null,this._activationTimeout=null,this._activationQueue=[],Mn[e]&&!t.forceCreate||(this.nodeId=Rn(),this.key=e,Tn&&(t.startAsInvisible?this.registerNode():"visible"===document.visibilityState?this.claimHost():this.registerNode(),document.addEventListener("visibilitychange",function(){"visible"===document.visibilityState&&n.claimHost()}),window.addEventListener("message",function(e){var t=e.data,r=t.nodeId,a=t.requestId,i=t.key,s=t.op,o=t.data;if(r!==n.nodeId&&i===n.key)switch(s){case kn.NEWNODE:n._sendSync();break;case kn.CLAIM_HOST:n._sendSync(),n._hostId=r;break;case kn.SYNC_HOST:if(!n.isInSync){n._activationTimeout&&clearTimeout(n._activationTimeout);for(var l=o,u=l.currentItemRequestId,c=function(e){var t=n._queue.findIndex(function(t){return t.requestId===e.requestId});t<0&&n._requestLock({nodeId:e.nodeId,requestId:e.requestId,key:n.key,op:kn.REQUEST_LOCK,ts:e.ts})},d=0,f=l.queue;d<f.length;d++)c(f[d]);n._currentItem=n._queue.find(function(e){return e.requestId===u}),n._completeSync()}break;case kn.REMOVENODE:n._queue=n._queue.filter(function(e){return e.nodeId!==t.nodeId}),n._currentItem&&n._currentItem.nodeId===t.nodeId&&(n._currentItem=null,n._acquire(n._queue[0]));break;case kn.REQUEST_LOCK:n._requestLock(t);break;case kn.ACQUIRE_LOCK:var h=n._queue.find(function(e){return e.requestId===a});n._acquire(h);break;case kn.RELEASE_LOCK:n._release(a)}}),window.addEventListener("beforeunload",function(){n._send(kn.REMOVENODE)})),Mn[e]=this),Mn[e]}return Object.defineProperty(e.prototype,"locked",{get:function(){return!!this._currentItem},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isHost",{get:function(){return this._hostId===this.nodeId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isInSync",{get:function(){return this._state==wn.DONE},enumerable:!1,configurable:!0}),e.prototype._send=function(e,t){var n,r;if(void 0===t&&(t={}),Tn){var a={nodeId:this.nodeId,requestId:null!==(n=null==t?void 0:t.requestId)&&void 0!==n?n:Rn(),key:this.key,op:e,data:null!==(r=t.data)&&void 0!==r?r:null,ts:Date.now()};return window.postMessage(a,"*"),a}return null},e.prototype._acquire=function(e){void 0===e&&(e=null),e?(this._currentItem=e,this._currentItem.onAcquired(e.requestId)):this._currentItem=null},e.prototype._release=function(e){if(this._currentItem&&this._currentItem.requestId===e){var t=this._currentItem;this._currentItem=null,t.nodeId===this.nodeId&&this._send(kn.RELEASE_LOCK,{requestId:t.requestId});var n=this._queue.findIndex(function(t){return t.requestId===e});n>-1&&this._queue.splice(n,1),t.onReleased(e)}},e.prototype._requestLock=function(e){var t=this;return new Promise(function(n){var r={nodeId:e.nodeId,requestId:e.requestId,ts:e.ts,onAcquired:function(e){t.isHost&&t._send(kn.ACQUIRE_LOCK,{requestId:e}),n()},onReleased:function(){t._acquire(t._queue[0])}},a=!1;for(var i in t._queue)if(t._queue[i].ts>r.ts){t._queue.splice(parseInt(i),0,r),a=!0;break}a||t._queue.push(r),t._currentItem||t._acquire(t._queue[0])})},e.prototype._sendSync=function(){var e;this.isHost&&this._send(kn.SYNC_HOST,{data:{currentItemRequestId:null===(e=this._currentItem)||void 0===e?void 0:e.requestId,queue:this._queue.map(function(e){return{nodeId:e.nodeId,requestId:e.requestId,ts:e.ts}})}})},e.prototype._waitUntilSyncCompleted=function(){return Ht(this,void 0,void 0,function(){var e=this;return Gt(this,function(t){return this.isHost&&!this.isInSync?[2,new Promise(function(t){e._activationQueue.push(t)})]:[2]})})},e.prototype._waitSync=function(){var e=this;this.isInSync||(this._activationTimeout=setTimeout(function(){e._completeSync()},8))},e.prototype._completeSync=function(){this.isInSync||(this._state=wn.DONE,this._activationQueue.forEach(function(e){return e()}),this._activationQueue=[])},e.prototype.registerNode=function(){this._send(kn.NEWNODE),this._waitSync()},e.prototype.claimHost=function(){this._hostId=this.nodeId,this._send(kn.CLAIM_HOST),this._waitSync()},e.prototype.lock=function(){return Ht(this,void 0,void 0,function(){var e;return Gt(this,function(t){switch(t.label){case 0:return[4,this._waitUntilSyncCompleted()];case 1:return t.sent(),e=this._send(kn.REQUEST_LOCK),[4,this._requestLock(e)];case 2:return t.sent(),[2]}})})},e.prototype.unlock=function(){var e;this._release(null===(e=this._currentItem)||void 0===e?void 0:e.requestId)},e}(),Un=function(){function e(e){var t=e.dbname,n=e.collectionName,r=e.keyName,a=e.keyHash,i=e.indexes,s=e.store,o=this;this._state=Yt.INIT,this._metadata=null,this._indexers=[],this.dbname=t,this.name=n,this.keyName=r,this.indexes=Bt([[r]],i.filter(function(e){return Sn.createKey(e)!==o.keyName}),!0),this._keyHash=a,this._store=s,this._mutex=new Pn(function(e,t){return"".concat(fn(e,t),".lock")}(t,n)),this._blobContainer=new yn({dbname:t,collectionName:n,store:s}),this._transaction=new bn({dbname:t,collectionName:n,store:s})}return e.metadataOf=function(e,t,n){return Ht(this,void 0,void 0,function(){var r;return Gt(this,function(a){switch(a.label){case 0:return r=hn(e,t),[4,n.get(r)];case 1:return[2,a.sent()]}})})},Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),e.prototype.init=function(){return Ht(this,void 0,void 0,function(){var t,n,r,a,i,s,o,l,u,c,d,f,h=this;return Gt(this,function(p){switch(p.label){case 0:return[4,this._mutex.lock()];case 1:p.sent(),p.label=2;case 2:return p.trys.push([2,9,,10]),t=qt.get(this.dbname),[4,e.metadataOf(this.dbname,this.name,this._store)];case 3:return n=p.sent(),this._metadata=n||{keyName:this.keyName,blockLevel:1,blockHashBase:t.blockHashBase,blockHashMultiplier:t.blockHashMultiplier,blockHashConstant:t.blockHashConstant,indexes:this.indexes},[4,this._transaction.init()];case 4:for(p.sent(),this._blockManager=new Nn({dbname:this.dbname,collectionName:this.name,hashFunction:this._keyHash,metadata:this._metadata,transaction:this._transaction,store:this._store}),r=Bt([],this.indexes,!0),a=[],i=r.map(function(e){return Sn.createKey(e)}),s=n?n.indexes.map(function(e){return Sn.createKey(e)}):[],o=0,l=s;o<l.length;o++)u=l[o],i.includes(u)||a.push(Sn.parseKey(u));return(c=[]).push.apply(c,r.map(function(e){var t=new Sn({dbname:h.dbname,collectionName:h.name,keyName:h.keyName,fields:e,transaction:h._transaction,store:h._store});return h._indexers.push(t),t.ensure()})),c.push.apply(c,a.map(function(e){return new Sn({dbname:h.dbname,collectionName:h.name,keyName:h.keyName,fields:e,transaction:h._transaction,store:h._store}).drop()})),[4,Promise.all(c)];case 5:return p.sent(),[4,this._transaction.commit()];case 6:return p.sent(),i.sort().join(",")===s.sort().join(",")?[3,8]:(d=hn(this.dbname,this.name),this._metadata.indexes=r,[4,this._store.set({key:d,value:this._metadata,generation:1})]);case 7:p.sent(),p.label=8;case 8:return this._state=Yt.READY,this._mutex.unlock(),[3,10];case 9:throw f=p.sent(),this._mutex.unlock(),f;case 10:return[2]}})})},e.prototype.close=function(){this._state=Yt.CLOSED},e.prototype._hasPropertyOfKeyName=function(e){var t=e[this.keyName];return"string"==typeof t&&!!t},e.prototype._getIndexerBy=function(e){void 0===e&&(e=null),e||(e=[this.keyName]);for(var t=Sn.createKey(e),n=0,r=this._indexers;n<r.length;n++){var a=r[n];if(t===Sn.createKey(a.fields))return a}return null},e.prototype._upgradeBlockLevel=function(){return Ht(this,void 0,void 0,function(){var e;return Gt(this,function(t){switch(t.label){case 0:return e=hn(this.dbname,this.name),this._metadata.blockLevel++,[4,this._store.set({key:e,value:this._metadata,generation:1})];case 1:return t.sent(),[2]}})})},e.prototype._requestInsert=function(e){return Ht(this,void 0,void 0,function(){var t,n,r;return Gt(this,function(a){switch(a.label){case 0:return t=e[this.keyName],[4,this._blockManager.getFromBlock(t)];case 1:return a.sent()?[3,10]:[4,this._blockManager.putToBlock(t,e)];case 2:return a.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return a.sent(),[4,this._blockManager.putToBlock(t,e)];case 4:a.sent(),a.label=5;case 5:n=0,r=this._indexers,a.label=6;case 6:return n<r.length?[4,r[n].addItem(e)]:[3,9];case 7:a.sent(),a.label=8;case 8:return n++,[3,6];case 9:return[3,11];case 10:throw Kt.collectionInsertDuplicate;case 11:return[2]}})})},e.prototype._requestUpsert=function(e){return Ht(this,void 0,void 0,function(){var t,n,r,a,i,s,o;return Gt(this,function(l){switch(l.label){case 0:return t=e[this.keyName],[4,this._blockManager.getFromBlock(t)];case 1:return(n=l.sent())?[3,10]:[4,this._blockManager.putToBlock(t,e)];case 2:return l.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return l.sent(),[4,this._blockManager.putToBlock(t,e)];case 4:l.sent(),l.label=5;case 5:r=0,a=this._indexers,l.label=6;case 6:return r<a.length?[4,(o=a[r]).addItem(e)]:[3,9];case 7:l.sent(),l.label=8;case 8:return r++,[3,6];case 9:return[3,16];case 10:return[4,this._blockManager.putToBlock(t,e)];case 11:l.sent(),i=0,s=this._indexers,l.label=12;case 12:return i<s.length?0===(o=s[i]).diff(o.getColumnValues(n),o.getColumnValues(e))?[3,15]:[4,o.removeItem(n)]:[3,16];case 13:return l.sent(),[4,o.addItem(e)];case 14:l.sent(),l.label=15;case 15:return i++,[3,12];case 16:return[2]}})})},e.prototype._requestUpdate=function(e){return Ht(this,void 0,void 0,function(){var t,n,r,a,i;return Gt(this,function(s){switch(s.label){case 0:return t=e[this.keyName],[4,this._blockManager.getFromBlock(t)];case 1:return(n=s.sent())?[4,this._blockManager.putToBlock(t,e)]:[3,7];case 2:s.sent(),r=0,a=this._indexers,s.label=3;case 3:return r<a.length?0===(i=a[r]).diff(i.getColumnValues(n),i.getColumnValues(e))?[3,6]:[4,i.removeItem(n)]:[3,7];case 4:return s.sent(),[4,i.addItem(e)];case 5:s.sent(),s.label=6;case 6:return r++,[3,3];case 7:return[2]}})})},e.prototype._requestRemove=function(e){return Ht(this,void 0,void 0,function(){var t,n,r;return Gt(this,function(a){switch(a.label){case 0:return[4,this._blockManager.getFromBlock(e)];case 1:return(t=a.sent())?[4,this._blockManager.removeFromBlock(e)]:[3,6];case 2:a.sent(),n=0,r=this._indexers,a.label=3;case 3:return n<r.length?[4,r[n].removeItem(t)]:[3,6];case 4:a.sent(),a.label=5;case 5:return n++,[3,3];case 6:return[2]}})})},e.prototype._requestClear=function(){return Ht(this,void 0,void 0,function(){var e,t;return Gt(this,function(n){switch(n.label){case 0:return[4,this._blockManager.clearAllBlocks()];case 1:n.sent(),e=0,t=this._indexers,n.label=2;case 2:return e<t.length?[4,t[e].clear()]:[3,5];case 3:n.sent(),n.label=4;case 4:return e++,[3,2];case 5:return[2]}})})},e.prototype.getByKey=function(e){return Ht(this,void 0,void 0,function(){var t,n;return Gt(this,function(r){switch(r.label){case 0:return this._state!==Yt.READY?[3,6]:[4,this._mutex.lock()];case 1:r.sent(),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,this._blockManager.getFromBlock(e)];case 3:return t=r.sent(),this._mutex.unlock(),[2,Qt(t)];case 4:throw n=r.sent(),this._mutex.unlock(),n;case 5:return[3,7];case 6:throw Kt.collectionNotReady;case 7:return[2]}})})},e.prototype.query=function(e){return void 0===e&&(e={}),this._state===Yt.READY?new cn({condition:e.where,mutex:this._mutex,blockManager:this._blockManager,indexer:this._getIndexerBy(e.index),backward:!!e.backward}):null},e.prototype.insertOne=function(e){return Ht(this,void 0,void 0,function(){var t;return Gt(this,function(n){switch(n.label){case 0:return this._state!==Yt.READY?[3,8]:[4,this._mutex.lock()];case 1:n.sent(),n.label=2;case 2:if(n.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(e))throw Kt.collectionKeyNotGiven;return[4,this._requestInsert(Qt(e))];case 3:return n.sent(),[4,this._transaction.commit()];case 4:return n.sent(),this._mutex.unlock(),[2,e];case 5:return t=n.sent(),[4,this._transaction.clear()];case 6:throw n.sent(),this._mutex.unlock(),t;case 7:return[3,9];case 8:throw Kt.collectionNotReady;case 9:return[2]}})})},e.prototype.insertMany=function(e){return Ht(this,void 0,void 0,function(){var t,n,r,a,i=this;return Gt(this,function(s){switch(s.label){case 0:return this._state!==Yt.READY?[3,11]:[4,this._mutex.lock()];case 1:s.sent(),s.label=2;case 2:if(s.trys.push([2,8,,10]),e.some(function(e){return!i._hasPropertyOfKeyName(e)}))throw Kt.collectionKeyNotGiven;t=0,n=e,s.label=3;case 3:return t<n.length?(r=n[t],[4,this._requestInsert(Qt(r))]):[3,6];case 4:s.sent(),s.label=5;case 5:return t++,[3,3];case 6:return[4,this._transaction.commit()];case 7:return s.sent(),this._mutex.unlock(),[2,e];case 8:return a=s.sent(),[4,this._transaction.clear()];case 9:throw s.sent(),this._mutex.unlock(),a;case 10:return[3,12];case 11:throw Kt.collectionNotReady;case 12:return[2]}})})},e.prototype.upsertOne=function(e){return Ht(this,void 0,void 0,function(){var t;return Gt(this,function(n){switch(n.label){case 0:return this._state!==Yt.READY?[3,8]:[4,this._mutex.lock()];case 1:n.sent(),n.label=2;case 2:if(n.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(e))throw Kt.collectionKeyNotGiven;return[4,this._requestUpsert(Qt(e))];case 3:return n.sent(),[4,this._transaction.commit()];case 4:return n.sent(),this._mutex.unlock(),[2,e];case 5:return t=n.sent(),[4,this._transaction.clear()];case 6:throw n.sent(),this._mutex.unlock(),t;case 7:return[3,9];case 8:throw Kt.collectionNotReady;case 9:return[2]}})})},e.prototype.upsertMany=function(e){return Ht(this,void 0,void 0,function(){var t,n,r,a,i=this;return Gt(this,function(s){switch(s.label){case 0:return this._state!==Yt.READY?[3,11]:[4,this._mutex.lock()];case 1:s.sent(),s.label=2;case 2:if(s.trys.push([2,8,,10]),e.some(function(e){return!i._hasPropertyOfKeyName(e)}))throw Kt.collectionKeyNotGiven;t=0,n=e,s.label=3;case 3:return t<n.length?(r=n[t],[4,this._requestUpsert(Qt(r))]):[3,6];case 4:s.sent(),s.label=5;case 5:return t++,[3,3];case 6:return[4,this._transaction.commit()];case 7:return s.sent(),this._mutex.unlock(),[2,e];case 8:return a=s.sent(),[4,this._transaction.clear()];case 9:throw s.sent(),this._mutex.unlock(),a;case 10:return[3,12];case 11:throw Kt.collectionNotReady;case 12:return[2]}})})},e.prototype.update=function(e){return Ht(this,void 0,void 0,function(){var t;return Gt(this,function(n){switch(n.label){case 0:return this._state!==Yt.READY?[3,8]:[4,this._mutex.lock()];case 1:n.sent(),n.label=2;case 2:if(n.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(e))throw Kt.collectionKeyNotGiven;return[4,this._requestUpdate(Qt(e))];case 3:return n.sent(),[4,this._transaction.commit()];case 4:return n.sent(),this._mutex.unlock(),[2,e];case 5:return t=n.sent(),[4,this._transaction.clear()];case 6:throw n.sent(),this._mutex.unlock(),t;case 7:return[3,9];case 8:throw Kt.collectionNotReady;case 9:return[2]}})})},e.prototype.updateIf=function(e,t){return Ht(this,void 0,void 0,function(){var n,r,a,i,s,o=this;return Gt(this,function(l){switch(l.label){case 0:return this._state!==Yt.READY?[3,12]:[4,this._mutex.lock()];case 1:l.sent(),l.label=2;case 2:return l.trys.push([2,9,,11]),n=[],[4,new un({condition:e,blockManager:this._blockManager,indexer:this._getIndexerBy(null)}).each(function(r){return Ht(o,void 0,void 0,function(){var a,i;return Gt(this,function(s){if(r.error)throw r.stop(),r.error;if(r.hasNext){if(a=r.nextValue,Zt(e,a)&&t.set){if("function"!=typeof t.set)for(i in t.set)a[i]=t.set[i];else t.set(a);n.push(a)}r.next()}else r.stop();return[2]})})})];case 3:l.sent(),r=0,a=n,l.label=4;case 4:return r<a.length?(i=a[r],[4,this._requestUpdate(Qt(i))]):[3,7];case 5:l.sent(),l.label=6;case 6:return r++,[3,4];case 7:return[4,this._transaction.commit()];case 8:return l.sent(),this._mutex.unlock(),[2,n];case 9:return s=l.sent(),[4,this._transaction.clear()];case 10:throw l.sent(),this._mutex.unlock(),s;case 11:return[3,13];case 12:throw this._transaction.clear(),Kt.collectionNotReady;case 13:return[2]}})})},e.prototype.remove=function(e){return Ht(this,void 0,void 0,function(){var t;return Gt(this,function(n){switch(n.label){case 0:return this._state!==Yt.READY?[3,8]:[4,this._mutex.lock()];case 1:n.sent(),n.label=2;case 2:return n.trys.push([2,5,,7]),[4,this._requestRemove(e)];case 3:return n.sent(),[4,this._transaction.commit()];case 4:return n.sent(),this._mutex.unlock(),[3,7];case 5:return t=n.sent(),[4,this._transaction.clear()];case 6:throw n.sent(),this._mutex.unlock(),t;case 7:return[3,9];case 8:throw Kt.collectionNotReady;case 9:return[2]}})})},e.prototype.removeIf=function(e){return Ht(this,void 0,void 0,function(){var t,n,r,a,i,s=this;return Gt(this,function(o){switch(o.label){case 0:return this._state!==Yt.READY?[3,11]:[4,this._mutex.lock()];case 1:o.sent(),o.label=2;case 2:return o.trys.push([2,9,,10]),t=[],[4,new un({condition:e,blockManager:this._blockManager,indexer:this._getIndexerBy(null)}).each(function(n){return Ht(s,void 0,void 0,function(){var r,a;return Gt(this,function(i){if(n.error)throw n.stop(),n.error;return n.hasNext?(r=n.nextValue,Zt(e,r)&&(a=r[this.keyName],t.push(a)),n.next()):n.stop(),[2]})})})];case 3:o.sent(),n=0,r=t,o.label=4;case 4:return n<r.length?(a=r[n],[4,this._requestRemove(a)]):[3,7];case 5:o.sent(),o.label=6;case 6:return n++,[3,4];case 7:return[4,this._transaction.commit()];case 8:return o.sent(),this._mutex.unlock(),[2,t];case 9:throw i=o.sent(),this._mutex.unlock(),i;case 10:return[3,12];case 11:throw this._transaction.clear(),Kt.collectionNotReady;case 12:return[2]}})})},e.prototype.clear=function(){return Ht(this,void 0,void 0,function(){var e;return Gt(this,function(t){switch(t.label){case 0:return this._state!==Yt.READY?[3,8]:[4,this._mutex.lock()];case 1:t.sent(),t.label=2;case 2:return t.trys.push([2,5,,7]),[4,this._requestClear()];case 3:return t.sent(),[4,this._transaction.commit()];case 4:return t.sent(),this._mutex.unlock(),[3,7];case 5:return e=t.sent(),[4,this._transaction.clear()];case 6:throw t.sent(),this._mutex.unlock(),e;case 7:return[3,9];case 8:throw Kt.collectionNotReady;case 9:return[2]}})})},e.prototype.getBlob=function(e){return Ht(this,void 0,void 0,function(){return Gt(this,function(t){switch(t.label){case 0:return[4,this._blobContainer.get(e)];case 1:return[2,t.sent()]}})})},e.prototype.saveBlob=function(e,t){return void 0===t&&(t=null),Ht(this,void 0,void 0,function(){return Gt(this,function(n){switch(n.label){case 0:return[4,this._blobContainer.save(e,t)];case 1:return[2,n.sent()]}})})},e.prototype.removeBlob=function(e){return Ht(this,void 0,void 0,function(){return Gt(this,function(t){switch(t.label){case 0:return[4,this._blobContainer.remove(e)];case 1:return t.sent(),[2]}})})},e.prototype.removeAllBlobs=function(){return Ht(this,void 0,void 0,function(){return Gt(this,function(e){switch(e.label){case 0:return[4,this._blobContainer.clear()];case 1:return e.sent(),[2]}})})},e}(),Ln={encrypt:function(e){return e},decrypt:function(e){return e}},Dn={},xn=function(){function e(e){void 0===e&&(e={});var t=e.itemSizeLimit,n=void 0===t?4194304:t,r=e.delay,a=void 0===r?1:r,i=e.encryption,s=void 0===i?Ln:i;this._encryption=s,this.itemSizeLimit=n,this.delay=a,this.observer={}}return Object.defineProperty(e.prototype,"rawData",{get:function(){return Dn[this.dbname]},set:function(e){Dn[this.dbname]=e},enumerable:!1,configurable:!0}),e.prototype.observe=function(e,t,n){var r=this;this.observer[e]={},t.forEach(function(t){return r.observer[e][t]=n})},e.prototype.init=function(e){return Ht(this,void 0,void 0,function(){return Gt(this,function(t){return this.dbname=e,Dn[this.dbname]={},[2]})})},e.prototype.getAllKeys=function(){return Ht(this,void 0,void 0,function(){return Gt(this,function(e){return[2,Object.keys(Dn[this.dbname])]})})},e.prototype.get=function(e){return Ht(this,void 0,void 0,function(){var t,n;return Gt(this,function(r){switch(r.label){case 0:return[4,Xt(this.delay)];case 1:if(r.sent(),t=this.observer[e],n=t&&t.get?t.get(e):null)throw n;return[2,Dn[this.dbname][e]?this._encryption.decrypt(Dn[this.dbname][e]):null]}})})},e.prototype.set=function(e){return Ht(this,void 0,void 0,function(){var t,n,r,a,i;return Gt(this,function(s){switch(s.label){case 0:return[4,Xt(this.delay)];case 1:if(s.sent(),t=e.key,n=e.value,r=this.observer[t],a=r&&r.set?r.set(t):null)throw a;if(i=this._encryption.encrypt(n),JSON.stringify(i).length<this.itemSizeLimit)return Dn[this.dbname][t]=i,[2,Dn[this.dbname][t]];throw Kt.storeItemSizeExceeded}})})},e.prototype.setMany=function(e){return Ht(this,void 0,void 0,function(){var t,n=this;return Gt(this,function(r){switch(r.label){case 0:return[4,Xt(this.delay)];case 1:return r.sent(),t=[],e.forEach(function(e){var r=e.key,a=e.value,i=n.observer[r];if(i&&i.set&&i.set(r))t.push(Kt.collectionWriteFailed);else{var s=n._encryption.encrypt(a);JSON.stringify(s).length<n.itemSizeLimit?(Dn[n.dbname][r]=s,t.push(a)):t.push(Kt.storeItemSizeExceeded)}}),[2,t]}})})},e.prototype.remove=function(e){return Ht(this,void 0,void 0,function(){var t,n;return Gt(this,function(r){switch(r.label){case 0:return[4,Xt(this.delay)];case 1:if(r.sent(),t=this.observer[e],n=t&&t.remove?t.remove(e):null)throw n;return Dn[this.dbname][e]&&delete Dn[this.dbname][e],[2,e]}})})},e.prototype.removeMany=function(e){return Ht(this,void 0,void 0,function(){var t,n,r,a,i;return Gt(this,function(s){switch(s.label){case 0:return[4,Xt(this.delay)];case 1:for(s.sent(),t=0,n=e;t<n.length;t++){if(r=n[t],a=this.observer[r],i=a&&a.remove?a.remove(r):null)throw i;Dn[this.dbname][r]&&delete Dn[this.dbname][r]}return[2,e]}})})},e.prototype.clear=function(){return Ht(this,void 0,void 0,function(){return Gt(this,function(e){switch(e.label){case 0:return[4,Xt(this.delay)];case 1:return e.sent(),Dn[this.dbname]={},[2]}})})},e}(),Fn="NestDBStore",jn=function(){function e(e){void 0===e&&(e={}),this.itemSizeLimit=104857600;var t=e.encryption,n=void 0===t?Ln:t;this._window="undefined"!=typeof window?window:null,this._indexedDB=this._window?this._window.indexedDB||this._window.mozIndexedDB||this._window.webkitIndexedDB||this._window.msIndexedDB:null,this._encryption=n}return e.prototype.init=function(e){return Ht(this,void 0,void 0,function(){var t,n=this;return Gt(this,function(r){switch(r.label){case 0:return this.dbname=e,[4,new Promise(function(e,t){if(n._window&&Tn)if(On){var r=n._indexedDB.open("_testMozilla");r.onerror=function(){return t(Kt.storeNotAvailableInPrivateBrowsing)},r.onsuccess=function(){return e()}}else An?n._window.indexedDB||!n._window.PointerEvent&&!n._window.MSPointerEvent||t(Kt.storeNotAvailableInPrivateBrowsing):e();else t(Kt.storeNotAvailable)})];case 1:return r.sent(),t=this,[4,new Promise(function(t,r){var a=n._indexedDB.open(e);a.addEventListener("upgradeneeded",function(e){e.target.result.createObjectStore(Fn,{keyPath:"key"})}),a.addEventListener("success",function(e){return t(e.target.result)}),a.addEventListener("error",function(e){return r(e.target.error)})})];case 2:return t._database=r.sent(),[2]}})})},e.prototype.getAllKeys=function(){return Ht(this,void 0,void 0,function(){var e=this;return Gt(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t,n){var r=e._database.transaction(Fn,"readonly").objectStore(Fn).getAllKeys();r.addEventListener("success",function(e){return t(e.target.result)}),r.addEventListener("error",function(e){return n(e.target.error)})})];case 1:return[2,t.sent()]}})})},e.prototype.get=function(e){return Ht(this,void 0,void 0,function(){var t=this;return Gt(this,function(n){switch(n.label){case 0:return[4,new Promise(function(n,r){var a=t._database.transaction(Fn,"readonly").objectStore(Fn).get(e);a.addEventListener("success",function(e){return n(e.target.result?t._encryption.decrypt(e.target.result.value):null)}),a.addEventListener("error",function(e){return r(e.target.error)})})];case 1:return[2,n.sent()]}})})},e.prototype.set=function(e){return Ht(this,void 0,void 0,function(){var t,n,r=this;return Gt(this,function(a){switch(a.label){case 0:return t=e.key,n=e.value,[4,new Promise(function(e,a){var i=r._database.transaction(Fn,"readwrite").objectStore(Fn).put({key:t,value:r._encryption.encrypt(n)});i.addEventListener("success",function(t){e(t.target.result)}),i.addEventListener("error",function(e){return a(e.target.error)})})];case 1:return a.sent(),[2,n]}})})},e.prototype.setMany=function(e){return Ht(this,void 0,void 0,function(){var t,n,r=this;return Gt(this,function(a){switch(a.label){case 0:return t=[],n=this._database.transaction(Fn,"readwrite").objectStore(Fn),e.forEach(function(e){var a=e.key,i=e.value;t.push(new Promise(function(e){var t=n.put({key:a,value:r._encryption.encrypt(i)});t.addEventListener("success",function(t){e(t.target.result)}),t.addEventListener("error",function(){e(Kt.collectionWriteFailed)})}))}),[4,Promise.all(t)];case 1:return a.sent(),[2,e.map(function(e){return e.value})]}})})},e.prototype.remove=function(e){return Ht(this,void 0,void 0,function(){var t=this;return Gt(this,function(n){switch(n.label){case 0:return[4,new Promise(function(n,r){var a=t._database.transaction(Fn,"readwrite").objectStore(Fn).delete(e);a.addEventListener("success",function(){return n(e)}),a.addEventListener("error",function(e){return r(e.target.error)})})];case 1:return[2,n.sent()]}})})},e.prototype.removeMany=function(e){return Ht(this,void 0,void 0,function(){var t;return Gt(this,function(n){switch(n.label){case 0:return t=this._database.transaction(Fn,"readwrite").objectStore(Fn),[4,Promise.all(e.map(function(e){return new Promise(function(n,r){var a=t.delete(e);a.addEventListener("success",function(){return n(e)}),a.addEventListener("error",function(e){return r(e.target.error)})})}))];case 1:return[2,n.sent()]}})})},e.prototype.clear=function(){return Ht(this,void 0,void 0,function(){var e=this;return Gt(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t,n){var r=e._database.transaction(Fn,"readwrite").objectStore(Fn).clear();r.addEventListener("success",function(){return t()}),r.addEventListener("error",function(e){return n(e.target.error)})})];case 1:return[2,t.sent()]}})})},e}(),Hn=function(){function e(e){var t=e.AsyncStorage,n=e.encryption,r=void 0===n?Ln:n;this.itemSizeLimit=6291456,this._asyncStorage=t,this._encryption=r}return e.prototype._isBelonging=function(e){return e.startsWith("".concat(this.dbname,"/"))},e.prototype._getActualKey=function(e){return"".concat(this.dbname,"/").concat(e)},e.prototype.init=function(e){return Ht(this,void 0,void 0,function(){return Gt(this,function(t){return this.dbname=e,[2]})})},e.prototype.getAllKeys=function(){return Ht(this,void 0,void 0,function(){var e=this;return Gt(this,function(t){switch(t.label){case 0:return[4,this._asyncStorage.getAllKeys()];case 1:return[2,t.sent().filter(function(t){return e._isBelonging(t)}).map(function(t){return t.substr("".concat(e.dbname,"/").length)})]}})})},e.prototype.get=function(e){return Ht(this,void 0,void 0,function(){var t,n,r,a;return Gt(this,function(i){switch(i.label){case 0:return n=(t=this._encryption).decrypt,a=(r=JSON).parse,[4,this._asyncStorage.getItem(this._getActualKey(e))];case 1:return[2,n.apply(t,[a.apply(r,[i.sent()])])]}})})},e.prototype.set=function(e){return Ht(this,void 0,void 0,function(){var t,n,r;return Gt(this,function(a){switch(a.label){case 0:return t=e.key,n=e.value,(r=JSON.stringify(this._encryption.encrypt(n))).length<this.itemSizeLimit?[4,this._asyncStorage.setItem(this._getActualKey(t),r)]:[3,2];case 1:return a.sent(),[2,JSON.parse(r)];case 2:throw Kt.storeItemSizeExceeded}})})},e.prototype.setMany=function(e){return Ht(this,void 0,void 0,function(){var t,n,r,a,i,s,o;return Gt(this,function(l){switch(l.label){case 0:t=[],n=0,r=e,l.label=1;case 1:if(!(n<r.length))return[3,8];a=r[n],l.label=2;case 2:return l.trys.push([2,6,,7]),i=a.key,s=a.value,(o=JSON.stringify(this._encryption.encrypt(s))).length<this.itemSizeLimit?[4,this._asyncStorage.setItem(this._getActualKey(i),o)]:[3,4];case 3:return l.sent(),t.push(s),[3,5];case 4:t.push(Kt.storeItemSizeExceeded),l.label=5;case 5:return[3,7];case 6:return l.sent(),t.push(Kt.collectionWriteFailed),[3,7];case 7:return n++,[3,1];case 8:return[2,t]}})})},e.prototype.remove=function(e){return Ht(this,void 0,void 0,function(){return Gt(this,function(t){switch(t.label){case 0:return[4,this._asyncStorage.removeItem(this._getActualKey(e))];case 1:return t.sent(),[2,e]}})})},e.prototype.removeMany=function(e){return Ht(this,void 0,void 0,function(){var t,n,r;return Gt(this,function(a){switch(a.label){case 0:t=0,n=e,a.label=1;case 1:return t<n.length?(r=n[t],[4,this._asyncStorage.removeItem(this._getActualKey(r))]):[3,4];case 2:a.sent(),a.label=3;case 3:return t++,[3,1];case 4:return[2,e]}})})},e.prototype.clear=function(){return Ht(this,void 0,void 0,function(){var e;return Gt(this,function(t){switch(t.label){case 0:return[4,this.getAllKeys()];case 1:return e=t.sent(),[4,this.removeMany(e)];case 2:return t.sent(),[2]}})})},e}(),Gn="[NESTDB]",Bn=!0,zn=function(){function e(){}return e.off=function(){Bn=!1},e.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Bn&&console.log.apply(console,Bt(["".concat(Gn,"[LOG]")],e,!1))},e.warning=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Bn&&console.warn.apply(console,Bt(["".concat(Gn,"[WARNING]")],e,!1))},e.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Bn&&console.error.apply(console,Bt(["".concat(Gn,"[ERROR]")],e,!1))},e}();!function(e){e.INIT="INIT",e.OPENING="OPENING",e.OPENED="OPENED",e.CLOSED="CLOSED"}(In||(In={}));var Vn,qn,Yn,Kn,Wn,Qn,Jn,$n=function(){function e(e){var t=e.name,n=e.version,r=e.store,a=e.config;this.name=t,this._version=n,this._state=In.INIT,this._config=a||new qt({dbname:t}),this._store=r,this._event={success:en,error:en,upgrade:rn},this._collections=new Map,this._globalMutex=new Pn("".concat(this.name,".lock")),this._config.disableLogger&&zn.off(),new En({dbname:t,limit:this._config.cacheLimit})}return Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),e.prototype.commitSchema=function(e){return Ht(this,void 0,void 0,function(){var t=this;return Gt(this,function(n){switch(n.label){case 0:return this._state!==In.OPENING?[3,2]:[4,Promise.all(e.map(function(e){return Ht(t,void 0,void 0,function(){var t,n,r,a;return Gt(this,function(i){switch(i.label){case 0:return t=e.collectionName,n=e.keyName,r=e.index,a=void 0===r?[]:r,this._collections.has(t)||this._collections.set(t,new Un({dbname:this.name,collectionName:t,keyName:n,keyHash:e.keyHash||null,indexes:a,store:this._store})),[4,this._collections.get(t).init()];case 1:return i.sent(),[2]}})})}))];case 1:return n.sent(),[3,3];case 2:throw Kt.databaseSchemaNotOnUpgrade;case 3:return[2]}})})},e.prototype.open=function(){var e;return Ht(this,void 0,void 0,function(){var t,n,r,a,i=this;return Gt(this,function(s){switch(s.label){case 0:return[4,this._globalMutex.lock()];case 1:if(s.sent(),this._state===In.OPENED)return[3,12];this._state=In.OPENING,s.label=2;case 2:return s.trys.push([2,5,,12]),[4,this._store.init(this.name)];case 3:return s.sent(),o=this.name,t="".concat(dn(o),".metadata"),n={version:0,collectionNames:[]},[4,this._store.get(t)];case 4:return r=null!==(e=s.sent())&&void 0!==e?e:n,[2,new Promise(function(e,n){var a=function(e){r.version<i._version?i._event.upgrade(r.version,function(n){return Ht(i,void 0,void 0,function(){var a;return Gt(this,function(i){switch(i.label){case 0:if(n)return[3,5];r.version++,r.collectionNames=Array.from(this._collections.keys()),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this._store.set({key:t,value:r,generation:this._version})];case 2:return i.sent(),e({continued:!0}),[3,4];case 3:return a=i.sent(),e({continued:!1,err:a}),[3,4];case 4:return[3,6];case 5:e({continued:!1,err:n}),i.label=6;case 6:return[2]}})})}):e({continued:!1})};a(function t(s){var o=s.continued,l=void 0!==o&&o,u=s.err,c=void 0===u?null:u;if(l)setTimeout(function(){return a(t)},10);else if(c)zn.error(c.message),i._globalMutex.unlock(),i._event.error(c),n(c);else{var d=[];r.collectionNames.forEach(function(e){i._collections.has(e)||d.push(Ht(i,void 0,void 0,function(){var t,n;return Gt(this,function(r){switch(r.label){case 0:return[4,Un.metadataOf(this.name,e,this._store)];case 1:return(t=r.sent())?(n=new Un({dbname:this.name,collectionName:e,keyName:t.keyName,indexes:t.indexes,store:this._store}),this._collections.set(e,n),[4,n.init()]):[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}})}))}),Promise.all(d).then(function(){i._state=In.OPENED,i._globalMutex.unlock(),i._event.success(),e()}).catch(function(e){zn.error(e.message),i._globalMutex.unlock(),i._event.error(e),n(e)})}})})];case 5:switch((a=s.sent()).code){case zt.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING:return[3,6];case zt.STORE_NOT_AVAILABLE:return[3,8]}return[3,10];case 6:return zn.warning("Access to the local storage is not allowed in private browsing. Switched to MemoryStore automatically."),this._store=new xn({}),this._globalMutex.unlock(),this._event.error(a),[4,this.open()];case 7:return s.sent(),[3,11];case 8:return zn.warning("IndexedDB is not available in this environment. Switched to MemoryStore automatically. Consider using other store to save data persistently (e.g. AsyncStorage)."),this._store=new xn({}),this._globalMutex.unlock(),this._event.error(a),[4,this.open()];case 9:return s.sent(),[3,11];case 10:throw zn.error(a.message),this._globalMutex.unlock(),this._event.error(a),a;case 11:return[3,12];case 12:return[2]}var o})})},e.prototype.close=function(){this._state=In.CLOSED,this._collections.forEach(function(e){return e.close()})},e.prototype.reset=function(){return Ht(this,void 0,void 0,function(){var e,t=this;return Gt(this,function(n){switch(n.label){case 0:return(e=En.get(this.name))&&e.clearByCondition(function(e){return e.key.startsWith(dn(t.name))}),[4,this._store.clear()];case 1:return n.sent(),[2]}})})},e.prototype.on=function(e,t){this._event[e]=t},e.prototype.off=function(e){"function"==typeof this._event[e]&&(this._event[e]="upgrade"===e?rn:en)},e.prototype.collection=function(e){return this._collections.get(e)||null},e}(),Xn=function(){function e(){}return e.create=function(){return"".concat(Math.floor(1e5*Math.random()),"-").concat((new Date).getTime())},e}();!function(e){e.AND="AND",e.OR="OR"}(Vn||(Vn={})),function(e){e.MEMBER_NICKNAME="member_nickname",e.CHANNEL_NAME="channel_name"}(qn||(qn={})),function(e){e.ALL="all",e.JOINED="joined_only",e.INVITED="invited_only",e.INVITED_BY_FRIEND="invited_by_friend",e.INVITED_BY_NON_FRIEND="invited_by_non_friend"}(Yn||(Yn={})),function(e){e.ALL="all",e.SUPER="super",e.NON_SUPER="nonsuper"}(Kn||(Kn={})),function(e){e.ALL="all",e.PUBLIC="public",e.PRIVATE="private"}(Wn||(Wn={})),function(e){e.ALL="all",e.UNREAD_MESSAGE="unread_message"}(Qn||(Qn={})),function(e){e.UNHIDDEN="unhidden_only",e.HIDDEN="hidden_only",e.HIDDEN_ALLOW_AUTO_UNHIDE="hidden_allow_auto_unhide",e.HIDDEN_PREVENT_AUTO_UNHIDE="hidden_prevent_auto_unhide"}(Jn||(Jn={}));var Zn=function(){function e(){this._iid=null,this._searchFilter={},this._userIdsFilter={userIds:[],includeMode:!0,queryType:Vn.AND},this.includeEmpty=!1,this.nicknameContainsFilter="",this.channelNameContainsFilter="",this.memberStateFilter=Yn.ALL,this.customTypesFilter=[],this.channelUrlsFilter=[],this.superChannelFilter=Kn.ALL,this.publicChannelFilter=Wn.ALL,this.customTypeStartsWithFilter=null,this.unreadChannelFilter=Qn.ALL,this.hiddenChannelFilter=Jn.UNHIDDEN,this.includeFrozen=!0}return Object.defineProperty(e.prototype,"searchFilter",{get:function(){return this._searchFilter},enumerable:!1,configurable:!0}),e.prototype._isFriend=function(e){return!!e.friendDiscoveryKey||!!e.friendName},Object.defineProperty(e.prototype,"iid",{set:function(e){this._iid=e},enumerable:!1,configurable:!0}),e.prototype.setSearchFilter=function(e,t){Array.isArray(e)&&0!==e.length&&"string"==typeof t&&t&&(this._searchFilter={searchQuery:t,searchFields:e})},Object.defineProperty(e.prototype,"userIdsFilter",{get:function(){return this._userIdsFilter},enumerable:!1,configurable:!0}),e.prototype.setUserIdsFilter=function(e,t,n){void 0===n&&(n=Vn.AND),this._userIdsFilter={userIds:e,includeMode:t,queryType:n}},e.prototype.clone=function(){var t=new e;t.setSearchFilter(this.searchFilter.searchFields,this.searchFilter.searchQuery),t.setUserIdsFilter(this.userIdsFilter.userIds,this.userIdsFilter.includeMode,this.userIdsFilter.queryType);var n=JSON.parse(JSON.stringify(this));return Object.keys(n).forEach(function(e){t[e]=n[e]}),t},e.prototype.match=function(e){var t=this._searchFilter,n=t.searchQuery,r=t.searchFields;if(n&&r&&r.length>0&&!r.some(function(t){switch(t){case qn.CHANNEL_NAME:return e.name.toLowerCase().includes(n.toLowerCase());case qn.MEMBER_NICKNAME:return e.members.some(function(e){return e.nickname.toLowerCase().includes(n.toLowerCase())});default:return!0}}))return!1;var a=this._userIdsFilter,i=a.includeMode,s=a.queryType,o=a.userIds,l=R.get(this._iid).get("currentUserId"),u=e.members.map(function(e){return e.userId});if(i){if(o.length>0)switch(s){case Vn.AND:if(o.some(function(e){return!u.includes(e)}))return!1;break;case Vn.OR:if(o.every(function(e){return!u.includes(e)}))return!1}}else{if(o.includes(l)||o.push(l),e.members.length>o.length)return!1;if(!function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=D([],e,!0).sort(),r=D([],t,!0).sort(),a=0;a<n.length;++a)if(n[a]!==r[a])return!1;return!0}(o,u))return!1}if(!this.includeEmpty&&!e.lastMessage)return!1;if(!this.includeFrozen&&e.isFrozen)return!1;if(this.customTypesFilter.length>0&&!this.customTypesFilter.includes(e.customType))return!1;if(this.customTypeStartsWithFilter&&!new RegExp("^".concat(this.customTypeStartsWithFilter)).test(e.customType))return!1;if(this.channelNameContainsFilter&&!e.name.toLowerCase().includes(this.channelNameContainsFilter.toLowerCase()))return!1;if(this.nicknameContainsFilter){var c=this.nicknameContainsFilter.toLowerCase();if(e.members.every(function(e){return!e.nickname.toLowerCase().includes(c)}))return!1}if(this.channelUrlsFilter.length>0&&!this.channelUrlsFilter.includes(e.url))return!1;if(this.memberStateFilter)switch(this.memberStateFilter){case Yn.JOINED:if("joined"!==e.myMemberState)return!1;break;case Yn.INVITED:if("invited"!==e.myMemberState)return!1;break;case Yn.INVITED_BY_FRIEND:if("invited"!==e.myMemberState||!this._isFriend(e.inviter))return!1;break;case Yn.INVITED_BY_NON_FRIEND:if("invited"!==e.myMemberState||this._isFriend(e.inviter))return!1}if(this.hiddenChannelFilter)switch(this.hiddenChannelFilter){case Jn.UNHIDDEN:if(e.isHidden||"unhidden"!==e.hiddenState)return!1;break;case Jn.HIDDEN:if(!e.isHidden)return!1;break;case Jn.HIDDEN_ALLOW_AUTO_UNHIDE:if(!e.isHidden||"hidden_allow_auto_unhide"!==e.hiddenState)return!1;break;case Jn.HIDDEN_PREVENT_AUTO_UNHIDE:if(!e.isHidden||"hidden_prevent_auto_unhide"!==e.hiddenState)return!1}if(this.unreadChannelFilter&&this.unreadChannelFilter===Qn.UNREAD_MESSAGE&&0===e.unreadMessageCount)return!1;if(this.publicChannelFilter)switch(this.publicChannelFilter){case Wn.PUBLIC:if(!e.isPublic)return!1;break;case Wn.PRIVATE:if(e.isPublic)return!1}if(this.superChannelFilter)switch(this.superChannelFilter){case Kn.SUPER:if(!e.isSuper)return!1;break;case Kn.NON_SUPER:if(e.isSuper)return!1}return!0},e.QueryType=Vn,e.SearchField=qn,e.MemberStateFilter=Yn,e.SuperChannelFilter=Kn,e.PublicChannelFilter=Wn,e.UnreadChannelFilter=Qn,e.HiddenChannelFilter=Jn,e}(),er=function(){function e(e){var t=e.iid;this._iid=t,this._filter=new Zn,this._filter.iid=this._iid,this._order=ot.LATEST_LAST_MESSAGE,this._limit=20}return e.prototype.setFilter=function(e){return this._filter=e.clone(),this._filter.iid=this._iid,this},e.prototype.setOrder=function(e){return this._order=e,this},e.prototype.setLimit=function(e){return this._limit=e,this},e.prototype.build=function(){return new vt({iid:this._iid,filter:this._filter,order:this._order,limit:this._limit})},e}(),tr=function(){function e(e){var t=e.iid,n=e.channel;this._iid=t,this._channel=n,this._startingPoint=Date.now(),this._filter=new Me,this._limit=100}return e.prototype.setFilter=function(e){return this._filter=e.clone(),this},e.prototype.setStartingPoint=function(e){return this._startingPoint=e,this},e.prototype.setLimit=function(e){return this._limit=e,this},e.prototype.build=function(){return new nt({iid:this._iid,channel:this._channel,startingPoint:this._startingPoint,filter:this._filter,limit:this._limit})},e}(),nr={},rr={},ar=new WeakMap,ir=new WeakMap,sr=new WeakMap,or=function(e){y(n,e);var t=b(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).channelType=It.CHANNEL_TYPE_GROUP,r.isDistinct=!1,r.isSuper=!1,r.isBroadcast=!1,r.isPublic=!1,r.unreadMessageCount=0,r.inviter=null,r.members=[],r.memberMap={},r.lastMessage=null,r.memberCount=0,r.joinedMemberCount=0,r.cachedReadReceiptStatus={},r.cachedDeliveryReceiptStatus=null,r.myPushTriggerOption=n.PushTriggerOption.DEFAULT,r.isPushEnabled,r.isHidden=!1,r.hiddenState=n.HiddenState.UNHIDDEN,r.isDiscoverable=!0,r.myLastRead=0,r.messageSurvivalSeconds=-1,r.invitedAt=0,r.joinedAt=0,r._messageOffsetTimestamp=0,r._cachedLastDeliveredReceipt={sentAt:0,timeout:null},ar.set(E(r),{}),ir.set(E(r),{start:0,end:0}),sr.set(E(r),0),e&&r._update(e),r}return m(n,[{key:"messageOffsetTimestamp",get:function(){return this._messageOffsetTimestamp}},{key:"createMessageCollection",value:function(){return new tr({iid:this._iid,channel:this})}},{key:"_setGroupChannelUnreadCount",value:function(e,t){try{if("number"==typeof e&&e>=0)if("all"===this.myCountPreference||"unread_message_count_only"===this.myCountPreference)if(this.isSuper||this.isBroadcast){var n=R.get(this._iid).container.maxUnreadCountOfSuperGroupChannel;this.unreadMessageCount=e>=n?n:e}else this.unreadMessageCount=e;else this.unreadMessageCount=0;"number"==typeof t&&t>=0&&("all"===this.myCountPreference||"unread_mention_count_only"===this.myCountPreference?this.unreadMentionCount=t:this.unreadMentionCount=0)}catch(e){}}},{key:"_update",value:function(e){var t=this,n=G.get(this._iid),r=n.BaseChannel,a=n.GroupChannel,i=n.User,s=n.Member;if(this.isAccessCodeRequired=!!e.is_access_code_required&&e.is_access_code_required,this.isDistinct=!!e.is_distinct&&e.is_distinct,this.isPushEnabled=!!e.is_push_enabled&&e.is_push_enabled,this.isHidden=!!e.hasOwnProperty("is_hidden")&&e.is_hidden,this.myPushTriggerOption=e.push_trigger_option?e.push_trigger_option:a.PushTriggerOption.DEFAULT,this.myCountPreference=e.hasOwnProperty("count_preference")?e.count_preference:a.CountPreference.ALL,this.unreadMessageCount=0,this.unreadMentionCount=0,this._setGroupChannelUnreadCount(parseInt(e.unread_message_count),parseInt(e.unread_mention_count)),e.hasOwnProperty("read_receipt")&&(this.cachedReadReceiptStatus={},Object.keys(e.read_receipt).forEach(function(n){var r=e.read_receipt[n];t.updateReadReceipt(n,parseInt(r))})),e.hasOwnProperty("delivery_receipt")&&"object"===f(e.delivery_receipt)&&null!==e.delivery_receipt&&(this.cachedDeliveryReceiptStatus||(this.cachedDeliveryReceiptStatus={}),Object.keys(e.delivery_receipt).forEach(function(n){var r=e.delivery_receipt[n];t.updateDeliveryReceipt(n,parseInt(r))})),e.hasOwnProperty("user_last_read")&&"number"==typeof e.user_last_read?this.myLastRead=e.user_last_read:this.myLastRead=0,e.hasOwnProperty("members")){this.members=[],this.memberMap={};for(var o=0;o<e.members.length;o++){var l=new s(e.members[o]);this.members.push(l),this.memberMap[l.userId]=l}}this.myMemberState=e.member_state||"none",this.myRole=e.my_role||a.Role.NONE,e.hasOwnProperty("is_muted")?"string"==typeof e.is_muted?this.myMutedState=e.is_muted:"boolean"==typeof e.is_muted?this.myMutedState=e.is_muted?"muted":"unmuted":this.myMutedState="unmuted":this.myMutedState="unmuted",e.hasOwnProperty("member_count")&&(this.memberCount=parseInt(e.member_count)),e.hasOwnProperty("joined_member_count")&&(this.joinedMemberCount=parseInt(e.joined_member_count)),e.hasOwnProperty("last_message")&&"object"===f(e.last_message)&&e.last_message?e.last_message instanceof Ot?this.lastMessage=e.last_message:this.lastMessage=r.buildMessage(e.last_message,this):this.lastMessage=null,e.hasOwnProperty("inviter")&&null!==e.inviter&&"object"===f(e.inviter)&&Object.keys(e.inviter).length>0?this.inviter=new i(e.inviter):this.inviter=null,this.invitedAt=e.invited_at||0,this.joinedAt=e.joined_ts||0,e.hasOwnProperty("is_super")&&"boolean"==typeof e.is_super?this.isSuper=e.is_super:this.isSuper=!1,e.hasOwnProperty("is_broadcast")&&"boolean"==typeof e.is_broadcast?this.isBroadcast=e.is_broadcast:this.isBroadcast=!1,e.hasOwnProperty("is_public")&&"boolean"==typeof e.is_public?this.isPublic=e.is_public:this.isPublic=!1,e.hasOwnProperty("hidden_state")?this.hiddenState=e.hidden_state:this.hiddenState=a.HiddenState.UNHIDDEN,e.hasOwnProperty("is_discoverable")&&"boolean"==typeof e.is_discoverable?this.isDiscoverable=e.is_discoverable:this.isDiscoverable=this.isPublic,e.hasOwnProperty("ts_message_offset")&&(this._messageOffsetTimestamp=e.ts_message_offset),e.hasOwnProperty("message_survival_seconds")&&"number"==typeof e.message_survival_seconds&&(this.messageSurvivalSeconds=e.message_survival_seconds)}},{key:"addMember",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!this.isSuper&&!this.isBroadcast){var n=G.get(this._iid),r=n.Member,a=this.removeMember(e);a&&a.state===r.JOINED&&(e.state=r.JOINED),this.memberMap[e.userId]=e,this.members.push(e),this.memberCount++,this.updateReadReceipt(e.userId,t),this.updateDeliveryReceipt(e.userId,t)}}},{key:"removeMember",value:function(e){var t=null;if(!this.isSuper&&!this.isBroadcast&&this.memberMap.hasOwnProperty(e.userId)){delete this.memberMap[e.userId];for(var n=0;n<this.members.length;n++){var r=this.members[n];if(r.userId===e.userId){t=r,this.members.splice(n,1);break}}this.memberCount--}return t}},{key:"parse",value:function(e){this._update(e)}},{key:"update",value:function(e){this.__update(e),this._update(e)}},{key:"isIdentical",value:function(e){return e&&this.url===e.url}},{key:"isEqual",value:function(e){return ie.deepEqual(this,e)}},{key:"createMemberListQuery",value:function(){return new(0,G.get(this._iid).MemberListQuery)(this.url)}},{key:"createBannedUserListQuery",value:function(){return new(0,G.get(this._iid).BannedUserListQuery)({channelUrl:this.url,isOpenChannel:this.isOpenChannel()})}},{key:"refresh",value:function(e){return G.get(this._iid).GroupChannel.getChannelWithoutCache(this.url,e)}},{key:"updateChannel",value:function(){var e=this,t=me.toArray(arguments),n=void 0;"function"==typeof t[t.length-1]&&(n=t.pop());var r=G.get(this._iid),a=r.GroupChannel,i=r.GroupChannelParams;if(t[0]instanceof i&&1===t.length)return le(this._iid,function(n){var r=t[0];r.channelUrl=e.url,r._validate()?R.get(e._iid).container.apiClient.updateGroupChannel(d(d({},r),{},{operatorUserIds:r.operatorUserIds}),function(e,t){var r=null;e||(r=a.upsert(t)),n(e,r)}):n(me.error,null)},n);if(3===t.length){var s=new i;return s.channelUrl=this.url,s.name=t[0],"string"==typeof t[1]?s.coverUrl=t[1]:s.coverImage=t[1],s.data=t[2],this.updateChannel(s,n)}if(4===t.length){var o=new i;return o.channelUrl=this.url,o.isDistinct=t[0],o.name=t[1],"string"==typeof t[1]?o.coverUrl=t[2]:o.coverImage=t[2],o.data=t[3],this.updateChannel(o,n)}if(5===t.length){var l=new i;return l.channelUrl=this.url,l.isDistinct=t[0],l.name=t[1],"string"==typeof t[2]?l.coverUrl=t[2]:l.coverImage=t[2],l.data=t[3],l.customType=t[4],this.updateChannel(l,n)}return le(this._iid,function(e){return e(me.error,null)},n)}},{key:"invite",value:function(e,t){var n=null,r=me.parse(arguments,[new me({type:"array",constraint:function(e){return e.length>0&&e.every(function(e){return!!e.userId&&"string"==typeof e.userId})}}),new me({type:"callback"})]),a=N(r,3);return n=a[0],e=a[1],t=a[2],n?le(this._iid,function(e){return e(me.error,null)},t):this.inviteWithUserIds(e.map(function(e){return e.userId}),t)}},{key:"inviteWithUserIds",value:function(e,t){var n=this,r=null,a=me.parse(arguments,[new me({type:"array",constraint:function(e){return e.every(function(e){return"string"==typeof e})}}),new me({type:"callback"})]),i=N(a,3);return r=i[0],e=i[1],t=i[2],le(this._iid,function(t){r?t(r,null):R.get(n._iid).container.apiClient.inviteToGroupChannel({channelUrl:n.url,userIds:e},function(e,r){var a=null;e||(a=G.get(n._iid).GroupChannel.upsert(r)),t(e,a)})},t)}},{key:"acceptInvitation",value:function(e,t){var n=this,r=null,a=me.parse(arguments,[new me({type:"string",optional:!0,defaultValue:null}),new me({type:"callback"})]),i=N(a,3);return r=i[0],e=i[1],t=i[2],le(this._iid,function(t){r?t(r,null):R.get(n._iid).container.apiClient.acceptInvitation({channelUrl:n.url,accessCode:e},function(e,r){var a=null;e||((a=G.get(n._iid).GroupChannel.upsert(r)).myMemberState="joined"),t(e,a)})},t)}},{key:"declineInvitation",value:function(e){var t=this;return le(this._iid,function(e){R.get(t._iid).container.apiClient.declineInvitation({channelUrl:t.url},function(n,r){var a=null;if(!n){var i=G.get(t._iid).GroupChannel;(a=i.upsert(r)).myMemberState="none",t.isPublic||i.removeCachedChannel(t.url)}e(n,a)})},e)}},{key:"join",value:function(e,t){var n=this,r=null,a=me.parse(arguments,[new me({type:"string",optional:!0,defaultValue:null}),new me({type:"callback"})]),i=N(a,3);return r=i[0],e=i[1],t=i[2],le(this._iid,function(t){r?t(r,null):R.get(n._iid).container.apiClient.joinGroupChannel({channelUrl:n.url,accessCode:e},function(e,r){var a=null;e||((a=G.get(n._iid).GroupChannel.upsert(r)).myMemberState="joined"),t(e,a)})},t)}},{key:"leave",value:function(e){var t=this;return le(this._iid,function(e){R.get(t._iid).container.apiClient.leaveGroupChannel({channelUrl:t.url},function(t,n){return e(t,null)})},e)}},{key:"muteUser",value:function(e,t,n,r){return this.muteUserWithUserId(e?e.userId:null,t,n,r)}},{key:"muteUserWithUserId",value:function(e,t,n,r){var a=this,i=null,s=me.parse(arguments,[new me({type:"string"}),new me({type:"number",optional:!0,defaultValue:-1,constraint:function(e){return e>=-1}}),new me({type:"string",optional:!0,defaultValue:""}),new me({type:"callback"})]),o=N(s,5);return i=o[0],e=o[1],t=o[2],n=o[3],r=o[4],le(this._iid,function(r){i?r(i,null):R.get(a._iid).container.apiClient.muteUser({channelUrl:a.url,userId:e,description:n,seconds:t,isGroupChannel:!0},function(e,t){r(e,null)})},r)}},{key:"unmuteUser",value:function(e,t){return this.unmuteUserWithUserId(e?e.userId:null,t)}},{key:"unmuteUserWithUserId",value:function(e,t){var n=this,r=null,a=me.parse(arguments,[new me({type:"string"}),new me({type:"callback"})]),i=N(a,3);return r=i[0],e=i[1],t=i[2],le(this._iid,function(t){r?t(r,null):R.get(n._iid).container.apiClient.unmuteUser({channelUrl:n.url,userId:e,isGroupChannel:!0},function(e,n){t(e,null)})},t)}},{key:"banUser",value:function(e,t,n,r){return this.banUserWithUserId(e?e.userId:null,t,n,r)}},{key:"banUserWithUserId",value:function(e,t,n,r){var a=this,i=null,s=me.parse(arguments,[new me({type:"string"}),new me({type:"number",optional:!0,defaultValue:-1,constraint:function(e){return e>=-1}}),new me({type:"string"}),new me({type:"callback"})]),o=N(s,5);return i=o[0],e=o[1],t=o[2],n=o[3],r=o[4],le(this._iid,function(r){i?r(i,null):R.get(a._iid).container.apiClient.banUser({channelUrl:a.url,userId:e,description:n,seconds:t,isGroupChannel:!0},function(e,t){r(e,null)})},r)}},{key:"unbanUser",value:function(e,t){return this.unbanUserWithUserId(e?e.userId:null,t)}},{key:"unbanUserWithUserId",value:function(e,t){var n=this,r=null,a=me.parse(arguments,[new me({type:"string"}),new me({type:"callback"})]),i=N(a,3);return r=i[0],e=i[1],t=i[2],le(this._iid,function(t){r?t(r,null):R.get(n._iid).container.apiClient.unbanUser({channelUrl:n.url,userId:e,isGroupChannel:!0},function(e,n){t(e,null)})},t)}},{key:"updateJoinedMemberCount",value:function(){if(!this.isSuper&&!this.isBroadcast){var e=G.get(this._iid).Member;this.joinedMemberCount=this.members.filter(function(t){return t.state===e.JOINED}).length}}},{key:"setLatestMemberCount",value:function(e,t,n){var r=!1;return"number"==typeof e&&"number"==typeof t&&"number"==typeof n&&n>=sr.get(this)&&(sr.set(this,n),r=t!==this.joinedMemberCount||e!==this.memberCount,this.memberCount=e,this.joinedMemberCount=t),r}},{key:"hide",value:function(e,t,n){var r=this,a=null,i=me.parse(arguments,[new me({type:"boolean",optional:!0,defaultValue:!1}),new me({type:"boolean",optional:!0,defaultValue:!0}),new me({type:"callback"})]),s=N(i,4);return a=s[0],e=s[1],t=s[2],n=s[3],le(this._iid,function(n){a?n(a,null):R.get(r._iid).container.apiClient.hideGroupChannel({channelUrl:r.url,hidePreviousMessages:e,allowAutoUnhide:t},function(a,i){if(!a){var s=G.get(r._iid).GroupChannel;r.isHidden=!0,r.hiddenState=t?s.HiddenState.HIDDEN_ALLOW_AUTO_UNHIDE:s.HiddenState.HIDDEN_PREVENT_AUTO_UNHIDE,e&&r._setGroupChannelUnreadCount(0,0),i.hasOwnProperty("ts_message_offset")&&(r._messageOffsetTimestamp=i.ts_message_offset),s.cachedChannels[r.url]=r}n(a,i)})},n)}},{key:"unhide",value:function(e){var t=this;return le(this._iid,function(e){R.get(t._iid).container.apiClient.unhideGroupChannel({channelUrl:t.url},function(n,r){if(!n){var a=G.get(t._iid).GroupChannel;t.isHidden=!1,t.hiddenState=a.HiddenState.UNHIDDEN,a.cachedChannels[t.url]=t}e(n,r)})},e)}},{key:"freeze",value:function(e){var t=this;return le(this._iid,function(e){R.get(t._iid).container.apiClient.freeze({channelUrl:t.url,isGroupChannel:!0,freezing:!0},function(n,r){if(!n){var a=G.get(t._iid).GroupChannel;t.isFrozen=!0,a.cachedChannels[t.url]=t}e(n,null)})},e)}},{key:"unfreeze",value:function(e){var t=this;return le(this._iid,function(e){R.get(t._iid).container.apiClient.freeze({channelUrl:t.url,isGroupChannel:!0,freezing:!1},function(n,r){if(!n){var a=G.get(t._iid).GroupChannel;t.isFrozen=!1,a.cachedChannels[t.url]=t}e(n,null)})},e)}},{key:"delete",value:function(e){var t=this;return le(this._iid,function(e){R.get(t._iid).container.apiClient.deleteGroupChannel({channelUrl:t.url},function(n,r){n||G.get(t._iid).GroupChannel.removeCachedChannel(t.url),e(n,r)})},e)}},{key:"markAsRead",value:function(e){var t=this;return le(this._iid,function(e){var n=G.get(t._iid).Command,r=Ba.getInstance(t._iid),a=n.bRead({channelUrl:t.url});r.sendCommand(a,function(n,a){if(r.getErrorFirstCallback()){var i=[n,a];a=i[0],n=i[1]}if(a)e(a,null);else if(r.currentUser){var s=bt.of(t._iid),o=Oe.of(t._iid);t.updateReadReceipt(r.currentUser.userId,n.getJsonElement().ts);var l=!1;(t.unreadMessageCount>0||t.unreadMentionCount>0)&&(t._setGroupChannelUnreadCount(0,0),Object.keys(r.channelHandlers).forEach(function(e){r.channelHandlers[e].onChannelChanged(t)}),l=!0),e(null,null),s.upsert([t]).then(function(){l&&o.send({source:de.EVENT_CHANNEL_CHANGED,payload:{channel:t}}),o.send({source:de.EVENT_READ_RECEIPT_UPDATED,payload:{channel:t}})}).catch(function(e){$.error(e)})}else{var u=new SendBirdException("Connection should be made first.",SendBirdException.CONNECTION_REQUIRED);e(u,null)}})},e)}},{key:"getUnreadMemberCount",value:function(e){var t=R.get(this._iid),n=G.get(this._iid).Member,r=t.container.currentUserId;if(e instanceof Ot&&!e.isAdminMessage()&&r&&!this.isSuper&&!this.isBroadcast){for(var a=0,i=e.createdAt,s=this.members,o=0;o<s.length;o++){var l=s[o];r===l.userId||l.state!==n.JOINED||e.sender&&e.sender.userId===l.userId||(this.cachedReadReceiptStatus[l.userId]||0)<i&&a++}return a}return 0}},{key:"getReadReceipt",value:function(e){return this.getUnreadMemberCount(e)}},{key:"markAsDelivered",value:function(){var e=this,t=Ba.getInstance(this._iid),n=t.currentUser?t.currentUser.userId:null;R.get(this._iid).container.apiClient.markAsDelivered({channelUrl:this.url,userId:n},function(t,r){if(t)$.debug(t);else{var a=r.hasOwnProperty("ts")?r.ts:0;e.updateDeliveryReceipt(n,a)}})}},{key:"getUndeliveredMemberCount",value:function(e){var t=R.get(this._iid),n=G.get(this._iid).Member,r=t.container.currentUserId;if(this.cachedDeliveryReceiptStatus&&e instanceof Ot&&!e.isAdminMessage()&&r&&!this.isSuper&&!this.isBroadcast){var a,i=e.createdAt,s=0,o=w(this.members);try{for(o.s();!(a=o.n()).done;){var l=a.value;r===l.userId||l.state!==n.JOINED||e.sender&&e.sender.userId===l.userId||this.cachedDeliveryReceiptStatus[l.userId]<i&&s++}}catch(e){o.e(e)}finally{o.f()}return s}return 0}},{key:"getDeliveryReceipt",value:function(e){return this.getUndeliveredMemberCount(e)}},{key:"getReadMembers",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Ba.getInstance(this._iid);if(n.currentUser&&!this.isSuper&&!this.isBroadcast&&e instanceof Ot&&!e.isAdminMessage()){for(var r=[],a=0;a<this.members.length;a++){var i=this.members[a];if(t||i.userId!==n.currentUser.userId&&i.userId!==e.sender.userId){var s=this.cachedReadReceiptStatus[i.userId]||0;s>=e.createdAt&&r.push(i)}}return r}return[]}},{key:"getUnreadMembers",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Ba.getInstance(this._iid);if(n.currentUser&&!this.isSuper&&!this.isBroadcast&&e instanceof Ot&&!e.isAdminMessage()){for(var r=[],a=0;a<this.members.length;a++){var i=this.members[a];if(t||i.userId!==n.currentUser.userId&&i.userId!==e.sender.userId){var s=this.cachedReadReceiptStatus[i.userId]||0;s<e.createdAt&&r.push(i)}}return r}return[]}},{key:"getReadStatus",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=Ba.getInstance(this._iid);if(n.currentUser&&!this.isSuper&&!this.isBroadcast){for(var r={},a=Object.keys(this.cachedReadReceiptStatus),i=function(i){var s=a[i];if(!t&&s===n.currentUser.userId)return"continue";var o=e.cachedReadReceiptStatus[s],l=e.members.filter(function(e){return e.userId===s});r[s]={user:l.length>0?l[0]:null,last_seen_at:parseInt(o)}},s=0;s<a.length;s++)i(s);return r}return{}}},{key:"updateReadReceipt",value:function(e,t){var n=this.cachedReadReceiptStatus[e];if(!n||n<t){this.cachedReadReceiptStatus[e]=t;var r=Ba.getInstance(this._iid);r.currentUser&&e===r.currentUser.userId&&(this.myLastRead=t)}}},{key:"updateDeliveryReceipt",value:function(e,t){if(this.cachedDeliveryReceiptStatus)if(this.cachedDeliveryReceiptStatus.hasOwnProperty(e)){var n=this.cachedDeliveryReceiptStatus[e];(!n||n<t)&&(this.cachedDeliveryReceiptStatus[e]=t)}else this.cachedDeliveryReceiptStatus[e]=t}},{key:"startTyping",value:function(){var e=Ba.getInstance(this._iid),t=(new Date).getTime(),n=e.Options.typingIndicatorThrottle;("number"!=typeof n||n<1e3||n>9e3)&&(n=1e3);var r=ir.get(this);if(t-r.start>=n){r.end=0,r.start=t;var a=G.get(this._iid).Command.bTypeStart({channelUrl:this.url,time:r.start});e.sendCommand(a,null)}}},{key:"endTyping",value:function(){var e=Ba.getInstance(this._iid),t=(new Date).getTime(),n=e.Options.typingIndicatorThrottle;("number"!=typeof n||n<1e3||n>9e3)&&(n=1e3);var r=ir.get(this);if(t-r.end>=n){r.start=0,r.end=t;var a=G.get(this._iid).Command.bTypeEnd({channelUrl:this.url,time:r.end});e.sendCommand(a,null)}}},{key:"invalidateTypingStatus",value:function(){var e=ar.get(this),t=(new Date).getTime(),n=!1;return Object.keys(e).forEach(function(r){var a=e[r].ts;t-a>=1e4&&(delete e[r],n=!0)}),n}},{key:"getTypingMembers",value:function(){var e=this,t=ar.get(this),n=[];return Object.keys(t).forEach(function(t){var r=e.memberMap[t];r&&n.push(r)}),n}},{key:"getTypingUsers",value:function(){var e=ar.get(this),t=[];return Object.keys(e).forEach(function(n){var r=e[n].user;t.push(r)}),t}},{key:"updateTypingStatus",value:function(e,t){var n=ar.get(this);t?n[e.userId]={user:e,ts:(new Date).getTime()}:delete n[e.userId]}},{key:"isTyping",value:function(){var e=ar.get(this);return 0!==Object.keys(e).length}},{key:"registerScheduledUserMessage",value:function(e,t){var n=this,r=G.get(this._iid),a=r.ScheduledUserMessage,i=r.ScheduledUserMessageParams,s=null,o=me.parse(arguments,[new me({type:i,constraint:function(e){return"string"==typeof e.message&&"string"==typeof e._getScheduleString()}}),new me({type:"callback"})]),l=N(o,3);return s=l[0],e=l[1],t=l[2],le(this._iid,function(t){s?t(s,null):R.get(n._iid).container.apiClient.registerScheduledUserMessage({groupChannelParams:e,channelUrl:n.url,isOpenChannel:!1},function(e,r){var i=null;if(!e){i=new a(r);var s=Ba.getInstance(n._iid).currentUser;s&&i._sender&&s.userId===i._sender.userId&&(s.nickname=i._sender.nickname,s.plainProfileUrl=i._sender.plainProfileUrl,s.metaData=i._sender.metaData)}t(e,i)})},t)}},{key:"getPushPreference",value:function(e){var t=this;return le(this._iid,function(e){R.get(t._iid).container.apiClient.getMyPushTriggerOption({channelUrl:t.url},function(n,r){var a=null;if(!n){try{a=r.enable}catch(e){a=!1}t.isPushEnabled=a}e&&e(n,a)})},e)}},{key:"setPushPreference",value:function(e,t){var n=this;return le(this._iid,function(t){var r=G.get(n._iid).GroupChannel;R.get(n._iid).container.apiClient.setMyPushTriggerOption({channelUrl:n.url,enable:e},function(e,a){e||(n.isPushEnabled=a.enable,n.isPushEnabled||(n.myPushTriggerOption=r.PushTriggerOption.OFF)),t(e,a)})},t)}},{key:"getMyPushTriggerOption",value:function(e){var t=this;return le(this._iid,function(e){R.get(t._iid).container.apiClient.getMyPushTriggerOption({channelUrl:t.url},function(r,a){var i=null;if(!r){try{i=a.push_trigger_option||n.PushTriggerOption.DEFAULT}catch(e){$.debug(e)}t.myPushTriggerOption=i}e(r,i)})},e)}},{key:"setMyPushTriggerOption",value:function(e,t){var n=this,r=G.get(this._iid),a=r.GroupChannel,i=null,s=me.parse(arguments,[new me({type:a.PushTriggerOption}),new me({type:"callback"})]),o=N(s,3);return i=o[0],e=o[1],t=o[2],le(this._iid,function(t){i?t(i,null):R.get(n._iid).container.apiClient.setMyPushTriggerOption({channelUrl:n.url,pushTriggerOption:e},function(e,r){var a=null;if(!e){try{a=r.push_trigger_option}catch(e){$.debug(e)}n.myPushTriggerOption=a}t(e,a)})},t)}},{key:"setMyCountPreference",value:function(e,t){var n=this,r=G.get(this._iid),a=r.GroupChannel,i=null,s=me.parse(arguments,[new me({type:a.CountPreference}),new me({type:"callback"})]),o=N(s,3);return i=o[0],e=o[1],t=o[2],le(this._iid,function(t){i?t(i,null):R.get(n._iid).container.apiClient.setMyCountPreference({channelUrl:n.url,countPreference:e},function(e,r){var i=null;e||(i=n.myCountPreference=r.count_preference,n._setGroupChannelUnreadCount(n.unreadMessageCount,n.unreadMentionCount),a.cachedChannels[n.url]=n),t(e,i)})},t)}},{key:"resetMyHistory",value:function(e){var t=this;return le(this._iid,function(e){R.get(t._iid).container.apiClient.resetMyHistory({channelUrl:t.url},function(n,r){if(!n&&r.hasOwnProperty("ts_message_offset")){var a=G.get(t._iid).GroupChannel;t._messageOffsetTimestamp=r.ts_message_offset,a.cachedChannels[t.url]=t}e(n,r)})},e)}}],[{key:"MemberStateFilter",get:function(){return{ALL:"all",JOINED:"joined_only",INVITED:"invited_only",INVITED_BY_FRIEND:"invited_by_friend",INVITED_BY_NON_FRIEND:"invited_by_non_friend"}}},{key:"PushTriggerOption",get:function(){return{DEFAULT:"default",ALL:"all",MENTION_ONLY:"mention_only",OFF:"off"}}},{key:"CountPreference",get:function(){return{ALL:"all",UNREAD_MESSAGE_COUNT_ONLY:"unread_message_count_only",UNREAD_MENTION_COUNT_ONLY:"unread_mention_count_only",OFF:"off"}}},{key:"HiddenState",get:function(){return{UNHIDDEN:"unhidden",HIDDEN_ALLOW_AUTO_UNHIDE:"hidden_allow_auto_unhide",HIDDEN_PREVENT_AUTO_UNHIDE:"hidden_prevent_auto_unhide"}}},{key:"PublicChannelFilter",get:function(){return{ALL:"all",PUBLIC:"public",PRIVATE:"private"}}},{key:"SuperChannelFilter",get:function(){return{ALL:"all",SUPER:"super",NON_SUPER:"nonsuper",BROADCAST_ONLY:"broadcast_only"}}},{key:"UnreadChannelFilter",get:function(){return{ALL:"all",UNREAD_MESSAGE:"unread_message"}}},{key:"HiddenChannelFilter",get:function(){return{UNHIDDEN:"unhidden_only",HIDDEN:"hidden_only",HIDDEN_ALLOW_AUTO_UNHIDE:"hidden_allow_auto_unhide",HIDDEN_PREVENT_AUTO_UNHIDE:"hidden_prevent_auto_unhide"}}},{key:"Role",get:function(){return{OPERATOR:"operator",NONE:"none"}}},{key:"UnreadItemKey",get:function(){return{GROUP_CHANNEL_UNREAD_MENTION_COUNT:"group_channel_unread_mention_count",NONSUPER_UNREAD_MENTION_COUNT:"non_super_group_channel_unread_mention_count",SUPER_UNREAD_MENTION_COUNT:"super_group_channel_unread_mention_count",GROUP_CHANNEL_UNREAD_MESSAGE_COUNT:"group_channel_unread_message_count",NONSUPER_UNREAD_MESSAGE_COUNT:"non_super_group_channel_unread_message_count",SUPER_UNREAD_MESSAGE_COUNT:"super_group_channel_unread_message_count",GROUP_CHANNEL_INVITATION_COUNT:"group_channel_invitation_count",NONSUPER_INVITATION_COUNT:"non_super_group_channel_invitation_count",SUPER_INVITATION_COUNT:"super_group_channel_invitation_count"}}},{key:"cachedChannels",get:function(){return nr[this._iid]||(nr[this._iid]={}),nr[this._iid]}},{key:"createGroupChannelCollection",value:function(){return new er({iid:this._iid})}},{key:"buildFromSerializedData",value:function(e){var t=G.get(this._iid),n=t.User,r=t.Member,a=t.GroupChannel,i=t.BaseMessage,s=t.UserMessage,o=t.FileMessage,l=t.AdminMessage,u=Nt.deserialize(e),c=function(e){return null!=e&&"object"===f(e)?e.messageType===i.MESSAGE_TYPE_USER?new s(s.objectify(d(d({},e),{},{channel:{url:e.channelUrl,channelType:e.channelType},user:e.sender,mentionedUsers:e.mentionedUsers}))):e.messageType===i.MESSAGE_TYPE_FILE?new o(o.objectify(d(d({},e),{},{channel:{url:e.channelUrl,channelType:e.channelType},user:e.sender,mentionedUsers:e.mentionedUsers}))):new l(l.objectify(d(d({},e),{},{channel:{url:e.channelUrl,channelType:e.channelType},mentionedUsers:e.mentionedUsers}))):null}(u.lastMessage);return new a({channel_url:u.url,name:u.name,cover_url:u.coverUrl,data:u.data,custom_type:u.customType,invited_at:u.invitedAt,created_at:u.createdAt/1e3,joined_ts:u.joinedAt,is_access_code_required:u.isAccessCodeRequired,is_distinct:u.isDistinct,is_super:u.isSuper,is_broadcast:u.isBroadcast,is_public:u.isPublic,is_discoverable:u.isDiscoverable,is_hidden:u.isHidden,is_ephemeral:u.isEphemeral,is_muted:u.myMutedState,is_push_enabled:u.isPushEnabled,freeze:u.isFrozen,unread_message_count:u.unreadMessageCount,unread_mention_count:u.unreadMentionCount,push_trigger_option:u.myPushTriggerOption,count_preference:u.myCountPreference,hidden_state:u.hiddenState,member_count:u.memberCount,joined_member_count:u.joinedMemberCount,member_state:u.myMemberState,my_role:u.myRole,user_last_read:u.myLastRead,ts_message_offset:u.messageOffsetTimestamp,message_survival_seconds:u.messageSurvivalSeconds,read_receipt:u.cachedReadReceiptStatus,delivery_receipt:u.cachedDeliveryReceiptStatus,members:u.members.map(function(e){return r.objectify(d({},e))}),last_message:c,created_by:null!==u.creator&&void 0!==u.creator&&"object"===f(u.creator)?n.objectify(u.creator):null,inviter:null!==u.inviter&&void 0!==u.inviter&&"object"===f(u.inviter)?n.objectify(u.inviter):null,cached_primary_key:u.cachedPrimaryKey})}},{key:"upsert",value:function(e){var t=G.get(this._iid).GroupChannel,n=new t(e);if(t.cachedChannels.hasOwnProperty(n.url)){if(n.isEphemeral){var r=t.cachedChannels[n.url];e.last_message=r.lastMessage,e.unread_message_count=r.unreadMessageCount}t.cachedChannels[n.url].update(e)}else t.cachedChannels[n.url]=n;return t.cachedChannels[n.url]}},{key:"removeCachedChannel",value:function(e){var t=G.get(this._iid),n=t.GroupChannel,r=t.FileMessageQueue;n.cachedChannels[e]&&delete n.cachedChannels[e],r.delete(e)}},{key:"clearCache",value:function(){nr[this._iid]={},G.get(this._iid).FileMessageQueue.clear()}},{key:"getChannel",value:function(e,t){var n=null,r=null,a=me.parse(arguments,[new me({type:"string",constraint:function(e){return e.length>0}}),new me({type:"string",optional:!0,nullable:!0,defaultValue:null}),new me({type:"callback"})]),i=N(a,4);if(n=i[0],e=i[1],r=i[2],t=i[3],n)return le(this._iid,function(e){e(n,null)},t);var s=G.get(this._iid),o=s.GroupChannel;return o.cachedChannels[e]?le(this._iid,function(t){t(null,o.cachedChannels[e])},t):o.getChannelWithoutCache(e,r,t)}},{key:"getChannelWithoutCache",value:function(e,t){var n=this,r=null,a=null,i=me.parse(arguments,[new me({type:"string",constraint:function(e){return e.length>0}}),new me({type:"string",optional:!0,nullable:!0,defaultValue:null}),new me({type:"callback"})]),s=N(i,4);return r=s[0],e=s[1],a=s[2],t=s[3],le(this._iid,function(t){r?t(r,null):R.get(n._iid).container.apiClient.getGroupChannel({channelUrl:e,internalCall:a,showMember:!0},function(e,r){var a=null;e||(a=n.upsert(r)),t(e,a)})},t)}},{key:"createDistinctChannelIfNotExist",value:function(e,t){var n=this,r=G.get(this._iid),a=r.GroupChannelParams,i=null,s=me.parse(arguments,[new me({type:a,constraint:function(e){return e._validate()}}),new me({type:"callback"})]),o=N(s,3);return i=o[0],e=o[1],t=o[2],le(this._iid,function(t){i?t(i,null):(e.isPublic||(e.accessCode=null),R.get(n._iid).container.apiClient.createGroupChannel(d(d({},e),{},{isDistinct:!0}),function(e,r){var a=null;if(!e){var i=G.get(n._iid).GroupChannel;a={channel:new i(r),isCreated:r.is_created},i.cachedChannels[a.channel.url]=a.channel}t(e,a)}))},t)}},{key:"createChannel",value:function(){var e=this,t=me.toArray(arguments),n=void 0;"function"==typeof t[t.length-1]&&(n=t.pop());var r=G.get(this._iid),a=r.GroupChannel,i=r.GroupChannelParams;if(t[0]instanceof i&&1===t.length)return le(this._iid,function(n){var r=t[0];r.isPublic||(r.accessCode=null),r._validate()?R.get(e._iid).container.apiClient.createGroupChannel(r,function(e,t){var r=null;e||(r=new a(t),a.cachedChannels[r.url]=r),n(e,r)}):n(me.error,null)},n);if(Array.isArray(t[0])){var s=new i;switch(t.length){case 1:s.addUsers(t[0]);break;case 2:s.addUsers(t[0]),s.isDistinct=t[1];break;case 3:s.addUsers(t[0]),s.isDistinct=t[1],s.customType=t[2];break;case 5:s.addUsers(t[0]),s.isDistinct=t[1],s.name=t[2],"string"==typeof t[3]?s.coverUrl=t[3]:s.coverImage=t[3],s.data=t[4];break;case 6:s.addUsers(t[0]),s.isDistinct=t[1],s.name=t[2],"string"==typeof t[3]?s.coverUrl=t[3]:s.coverImage=t[3],s.data=t[4],s.customType=t[5];break;default:return le(this._iid,function(e){return e(me.error,null)},n)}return n?a.createChannel(s,n):a.createChannel(s)}return le(this._iid,function(e){return e(me.error,null)},n)}},{key:"createChannelWithUserIds",value:function(){var e=me.toArray(arguments),t=void 0;"function"==typeof e[e.length-1]&&(t=e.pop());var n=G.get(this._iid),r=n.GroupChannel,a=n.GroupChannelParams,i=new a;switch(e.length){case 1:i.addUserIds(e[0]);break;case 2:i.addUserIds(e[0]),i.isDistinct=e[1];break;case 3:i.addUserIds(e[0]),i.isDistinct=e[1],i.customType=e[2];break;case 5:i.addUserIds(e[0]),i.isDistinct=e[1],i.name=e[2],"string"==typeof e[3]?i.coverUrl=e[3]:i.coverImage=e[3],i.data=e[4];break;case 6:i.addUserIds(e[0]),i.isDistinct=e[1],i.name=e[2],"string"==typeof e[3]?i.coverUrl=e[3]:i.coverImage=e[3],i.data=e[4],i.customType=e[5];break;default:return le(this._iid,function(e){return e(me.error,null)},t)}return r.createChannel(i,t)}},{key:"createMyGroupChannelListQuery",value:function(){return new(0,G.get(this._iid).GroupChannelListQuery)}},{key:"createPublicGroupChannelListQuery",value:function(){return new(0,G.get(this._iid).PublicGroupChannelListQuery)}},{key:"markAsReadAllLastSentAt",get:function(){return rr[this._iid]||0},set:function(e){rr[this._iid]=e}},{key:"getChannelCount",value:function(e,t){return Ba.getInstance(this._iid).getGroupChannelCount(e,t)}},{key:"getUnreadItemCount",value:function(e,t){return Ba.getInstance(this._iid).getUnreadItemCount(e,t)}},{key:"getTotalUnreadMessageCount",value:function(){var e=me.toArray(arguments),t="function"==typeof e[e.length-1]?e.pop():null,n=Ba.getInstance(this._iid);return n.getTotalUnreadMessageCount.apply(n,S(e).concat([t]))}},{key:"getTotalUnreadChannelCount",value:function(e){return Ba.getInstance(this._iid).getTotalUnreadChannelCount(e)}}]),n}(It),lr=function(e){function t(t){var n=e.call(this,t)||this;return n.state="",n.role="",n.isMuted=!1,n.isBlockedByMe=!1,n.isBlockingMe=!1,n.restrictionInfo=null,t&&n._update(t),n}return M(t,e),t.objectify=function(e){var t=G.get(this._iid),n=t.User,r=t.RestrictedUser,a=t.RestrictionInfo,i=e.state,s=e.role,o=void 0===s?"":s,l=e.isMuted,u=void 0!==l&&l,c=e.isBlockedByMe,d=void 0!==c&&c,f=e.isBlockingMe,h=void 0!==f&&f,p=e.restrictionInfo,m=void 0===p?null:p,g=u?r.objectify(e):n.objectify(e);if(g.state=i,g.role=o,g.is_muted=u,g.is_blocked_by_me=d,g.is_blocking_me=h,m){var y=a.objectify(m);g.restriction_type=y.restriction_type,g.muted_description=y.description,g.muted_end_at=y.end_at}return g},t.buildFromSerializedData=function(e){var t=G.get(this._iid).Member,n=Nt.deserialize(e);return new t(t.objectify(P({},n)))},t.prototype._update=function(e){var t=G.get(this._iid),n=t.RestrictedUser,r=t.RestrictionInfo;this.state=e.state,this.role=e.role||or.Role.NONE,e.hasOwnProperty("is_muted")&&(this.isMuted=e.is_muted),e.hasOwnProperty("is_blocked_by_me")&&(this.isBlockedByMe=e.is_blocked_by_me),e.hasOwnProperty("is_blocking_me")&&(this.isBlockingMe=e.is_blocking_me),this.isMuted&&(this.restrictionInfo=new r(e),this.restrictionInfo.restrictionType=n.RestrictionType.MUTED)},t.prototype.parse=function(e){this._update(e)},Object.defineProperty(t,"JOINED",{get:function(){return"joined"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"INVITED",{get:function(){return"invited"},enumerable:!1,configurable:!0}),t}(wt),ur=function(e){function t(t){var n=e.call(this,t)||this;return n.role="",n.isBlockedByMe=!1,t&&n._update(t),n}return M(t,e),t.objectify=function(e){var t=G.get(this._iid).User,n=e.role,r=void 0===n?"":n,a=e.isBlockedByMe,i=void 0!==a&&a,s=t.objectify(e);return s.role=r,s.is_blocked_by_me=i,s},t.buildFromSerializedData=function(e){var t=G.get(this._iid).Sender,n=Nt.deserialize(e);return new t(t.objectify(P({},n)))},t.prototype.parse=function(e){this._update(e)},t.prototype._update=function(e){this.role=e.role||or.Role.NONE,e.hasOwnProperty("is_blocked_by_me")&&(this.isBlockedByMe=e.is_blocked_by_me)},t}(wt),cr=function(e){y(n,e);var t=b(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).restrictionInfo=null,e&&r._update(e),r}return m(n,[{key:"_update",value:function(e){var t=G.get(this._iid).RestrictionInfo;this.restrictionInfo=new t(e)}}],[{key:"RestrictionType",get:function(){return{MUTED:"muted",BANNED:"banned"}}},{key:"objectify",value:function(e){var t=G.get(this._iid),n=t.User,r=t.RestrictionInfo,a=e.restrictionInfo,i=void 0===a?{}:a;return d(d({},n.objectify(e)),r.objectify(i))}}]),n}(wt),dr=function(){function e(e){this.emojiHash=null,this.emojiCategories=null,e&&this._update(e)}return e.prototype._update=function(e){var t=G.get(this._iid).EmojiCategory;this.emojiHash=e.emoji_hash||"",this.emojiCategories=e.emoji_categories?e.emoji_categories.map(function(e){return new t(e)}):[]},e}(),fr=function(){function e(e){this.id=null,this.name=null,this.url=null,this.emojis=null,e&&this._update(e)}return e.prototype._update=function(e){var t=G.get(this._iid).Emoji;this.id=e.id||0,this.name=e.name||"",this.url=e.url||"",this.emojis=e.emojis?e.emojis.map(function(e){return new t(e)}):[]},e}(),hr=function(){function e(e){this.key=null,this.url=null,e&&this._update(e)}return e.prototype._update=function(e){this.key=e.key,this.url=e.url},e}(),pr={},mr={},gr=new WeakMap,yr=function(e){y(n,e);var t=b(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).channelType=It.CHANNEL_TYPE_OPEN,r.participantCount=0,gr.set(E(r),0),r.operators=[],e&&r._update(e),r}return m(n,[{key:"_update",value:function(e){var t=G.get(this._iid).User;e.hasOwnProperty("participant_count")&&(this.participantCount=parseInt(e.participant_count)),e.hasOwnProperty("operators")&&Array.isArray(e.operators)&&(this.operators=e.operators.map(function(e){return new t(e)}))}},{key:"parse",value:function(e){this._update(e)}},{key:"update",value:function(e){this.__update(e),this._update(e)}},{key:"createParticipantListQuery",value:function(){return new(0,G.get(this._iid).ParticipantListQuery)({channelUrl:this.url})}},{key:"createMutedUserListQuery",value:function(){return new(0,G.get(this._iid).MutedUserListQuery)({channelUrl:this.url,isOpenChannel:!0})}},{key:"createBannedUserListQuery",value:function(){return new(0,G.get(this._iid).BannedUserListQuery)({channelUrl:this.url,isOpenChannel:!0})}},{key:"isOperator",value:function(e){return!!e&&this.isOperatorWithUserId(e.userId)}},{key:"isOperatorWithUserId",value:function(e){return this.operators.map(function(e){return e.userId}).indexOf(e)>-1}},{key:"refresh",value:function(e){return G.get(this._iid).OpenChannel.getChannelWithoutCache(this.url,e)}},{key:"enter",value:function(e){var t=this;return le(this._iid,function(e){var n=G.get(t._iid).Command.bEnter({channelUrl:t.url}),r=Ba.getInstance(t._iid);r.sendCommand(n,function(n,a){if(r.getErrorFirstCallback()){var i=[n,a];a=i[0],n=i[1]}a?(a=a?new F(a.message,a.code):null,e(a,null)):(G.get(t._iid).OpenChannel.enteredChannels[t.url]=t,Oe.of(t._iid).send({source:de.EVENT_CHANNEL_ENTER,payload:{channel:t}}),t.refresh(function(){return e(null,null)}))})},e)}},{key:"exit",value:function(e){var t=this;return le(this._iid,function(e){var n=G.get(t._iid),r=n.Command,a=n.FileMessageQueue,i=r.bExit({channelUrl:t.url}),s=Ba.getInstance(t._iid);s.sendCommand(i,function(n,r){if(s.getErrorFirstCallback()){var i=[n,r];r=i[0],n=i[1]}r?(r=r?new F(r.message,r.code):null,e(r,null)):(delete G.get(t._iid).OpenChannel.enteredChannels[t.url],a.delete(t.url),Oe.of(t._iid).send({source:de.EVENT_CHANNEL_EXIT,payload:{channel:t}}),e(null,null))})},e)}},{key:"updateChannel",value:function(){var e=this,t=me.toArray(arguments),n=null;"function"==typeof t[t.length-1]&&(n=t.pop());var r=G.get(this._iid),a=r.OpenChannel,i=r.OpenChannelParams;if(t[0]instanceof i&&1===t.length)return le(this._iid,function(n){var r=t[0];r.channelUrl=e.url,r._validate()?R.get(e._iid).container.apiClient.updateOpenChannel(r,function(e,t){var r=null;e||(r=a.upsert(t)),n(e,r)}):n(me.error,null)},n);if(3===t.length){var s=new i;return s.channelUrl=this.url,s.name=t[0],s.coverUrlOrImage=t[1],s.data=t[2],s.operatorUserIds=this.operators.map(function(e){return e.userId}),this.updateChannel(s,n)}if(4===t.length){var o=new i;return o.channelUrl=this.url,o.name=t[0],o.coverUrlOrImage=t[1],o.data=t[2],Array.isArray(t[3])&&(o.operatorUserIds=t[3]),this.updateChannel(o,n)}if(5===t.length){var l=new i;return l.channelUrl=this.url,l.name=t[0],l.coverUrlOrImage=t[1],l.data=t[2],Array.isArray(t[3])&&(l.operatorUserIds=t[3]),l.customType=t[4],this.updateChannel(l,n)}return le(this._iid,function(e){return e(me.error,null)},n)}},{key:"updateChannelWithOperatorUserIds",value:function(){var e=me.toArray(arguments),t=void 0;switch("function"==typeof e[e.length-1]&&(t=e.pop()),e.length){case 4:case 5:return this.updateChannel.apply(this,S(e).concat([t]));default:return le(this._iid,function(e){return e(me.error,null)},t)}}},{key:"muteUser",value:function(e,t,n,r){return this.muteUserWithUserId(e?e.userId:null,t,n,r)}},{key:"muteUserWithUserId",value:function(e,t,n,r){var a=this,i=null,s=me.parse(arguments,[new me({type:"string"}),new me({type:"number",optional:!0,defaultValue:-1,constraint:function(e){return e>=-1}}),new me({type:"string",optional:!0,defaultValue:""}),new me({type:"callback"})]),o=N(s,5);return i=o[0],e=o[1],t=o[2],n=o[3],r=o[4],le(this._iid,function(r){i?r(i,null):R.get(a._iid).container.apiClient.muteUser({channelUrl:a.url,userId:e,description:n,seconds:t,isGroupChannel:!1},function(e,t){r(e,null)})},r)}},{key:"unmuteUser",value:function(e,t){return this.unmuteUserWithUserId(e?e.userId:null,t)}},{key:"unmuteUserWithUserId",value:function(e,t){var n=this,r=null,a=me.parse(arguments,[new me({type:"string"}),new me({type:"callback"})]),i=N(a,3);return r=i[0],e=i[1],t=i[2],le(this._iid,function(t){r?t(r,null):R.get(n._iid).container.apiClient.unmuteUser({channelUrl:n.url,userId:e,isGroupChannel:!1},function(e,n){t(e,null)})},t)}},{key:"banUser",value:function(e,t,n){return this.banUserWithUserId(e?e.userId:null,t,n)}},{key:"banUserWithUserId",value:function(e,t,n){var r=this,a=null,i=me.parse(arguments,[new me({type:"string"}),new me({type:"number",optional:!0,defaultValue:-1,constraint:function(e){return e>=-1}}),new me({type:"callback"})]),s=N(i,4);return a=s[0],e=s[1],t=s[2],n=s[3],le(this._iid,function(n){a?n(a,null):R.get(r._iid).container.apiClient.banUser({channelUrl:r.url,userId:e,description:null,seconds:t,isGroupChannel:!1},function(e,t){n(e,null)})},n)}},{key:"unbanUser",value:function(e,t){return this.unbanUserWithUserId(e?e.userId:null,t)}},{key:"unbanUserWithUserId",value:function(e,t){var n=this,r=null,a=me.parse(arguments,[new me({type:"string"}),new me({type:"callback"})]),i=N(a,3);return r=i[0],e=i[1],t=i[2],le(this._iid,function(t){r?t(r,null):R.get(n._iid).container.apiClient.unbanUser({channelUrl:n.url,userId:e,isGroupChannel:!1},function(e,n){t(e,null)})},t)}},{key:"setLatestParticipantCount",value:function(e,t){var n=!1;return"number"==typeof e&&"number"==typeof t&&t>=gr.get(this)&&(gr.set(this,t),n=e!==this.participantCount,this.participantCount=e),n}},{key:"delete",value:function(e){var t=this;return le(this._iid,function(e){R.get(t._iid).container.apiClient.deleteOpenChannel({channelUrl:t.url},function(n,r){n||(delete G.get(t._iid).OpenChannel.cachedChannels[t.url],G.get(t._iid).FileMessageQueue.delete(t.url)),e(n,r)})},e)}}],[{key:"cachedChannels",get:function(){return pr[this._iid]||(pr[this._iid]={}),pr[this._iid]}},{key:"enteredChannels",get:function(){return mr[this._iid]||(mr[this._iid]={}),mr[this._iid]}},{key:"buildFromSerializedData",value:function(e){var t=G.get(this._iid),n=t.User,r=t.OpenChannel,a=Nt.deserialize(e);return new r({channel_url:a.url,name:a.name,cover_url:a.coverUrl,data:a.data,custom_type:a.customType,created_at:a.createdAt/1e3,freeze:a.isFrozen,is_ephemeral:a.isEphemeral,participant_count:a.participantCount,operators:a.operators.map(function(e){return n.objectify(e)})})}},{key:"getChannel",value:function(e,t){var n=null,r=null,a=me.parse(arguments,[new me({type:"string",constraint:function(e){return e.length>0}}),new me({type:"string",optional:!0,nullable:!0,defaultValue:null}),new me({type:"callback"})]),i=N(a,4);if(n=i[0],e=i[1],r=i[2],t=i[3],n)return le(this._iid,function(e){e(n,null)},t);var s=G.get(this._iid),o=s.OpenChannel;return o.cachedChannels[e]?le(this._iid,function(t){t(null,o.cachedChannels[e])},t):o.getChannelWithoutCache(e,r,t)}},{key:"getChannelWithoutCache",value:function(e,t){var n=this,r=null,a=null,i=me.parse(arguments,[new me({type:"string",constraint:function(e){return e.length>0}}),new me({type:"string",optional:!0,nullable:!0,defaultValue:null}),new me({type:"callback"})]),s=N(i,4);return r=s[0],e=s[1],a=s[2],t=s[3],le(this._iid,function(t){r?t(r,null):R.get(n._iid).container.apiClient.getOpenChannel({channelUrl:e,internalCall:a},function(e,r){var a=null;e||(a=G.get(n._iid).OpenChannel.upsert(r)),t(e,a)})},t)}},{key:"createChannel",value:function(){var e=this,t=me.toArray(arguments),n=null;"function"==typeof t[t.length-1]&&(n=t.pop());var r=G.get(this._iid),a=r.OpenChannel,i=r.OpenChannelParams;if(t[0]instanceof i&&1===t.length)return le(this._iid,function(n){var r=t[0];r._validate()?R.get(e._iid).container.apiClient.createOpenChannel(r,function(t,r){var a=null;t||(a=G.get(e._iid).OpenChannel.upsert(r)),n(t,a)}):n(me.error,null)},n);var s=new i;switch(t.length){case 0:break;case 1:s.name=t[0];break;case 2:s.name=t[0],s.coverUrlOrImage=t[1];break;case 3:s.name=t[0],s.coverUrlOrImage=t[1],s.data=t[2];break;case 4:s.name=t[0],s.coverUrlOrImage=t[1],s.data=t[2],s.operatorUserIds=t[3];break;case 5:s.name=t[0],s.coverUrlOrImage=t[1],s.data=t[2],s.operatorUserIds=t[3],s.customType=t[4];break;default:return le(this._iid,function(e){return e(me.error,null)},n)}return n?a.createChannel(s,n):a.createChannel(s)}},{key:"createChannelWithOperatorUserIds",value:function(){var e=me.toArray(arguments),t=void 0;switch("function"==typeof e[e.length-1]&&(t=e.pop()),e.length){case 4:case 5:return this.createChannel.apply(this,S(e).concat([t]));default:return le(this._iid,function(e){return e(me.error,null)},t)}}},{key:"upsert",value:function(e){var t=new(0,G.get(this._iid).OpenChannel)(e);return this.cachedChannels.hasOwnProperty(t.url)?this.cachedChannels[t.url].update(e):this.cachedChannels[t.url]=t,this.cachedChannels[t.url]}},{key:"removeCachedChannel",value:function(e){this.cachedChannels[e]&&delete this.cachedChannels[e],G.get(this._iid).FileMessageQueue.delete(e)}},{key:"clearCache",value:function(){pr[this._iid]={},G.get(this._iid).FileMessageQueue.clear()}},{key:"clearEnteredChannels",value:function(){mr[this._iid]={}}},{key:"createOpenChannelListQuery",value:function(){return new(0,G.get(this._iid).OpenChannelListQuery)}}]),n}(It),_r="default",vr=function(){function e(e){this.name=_r,this.volume=1,e&&this._update(e)}return e.prototype._update=function(e){e.hasOwnProperty("name")&&(this.name=e.name),e.hasOwnProperty("volume")&&(this.volume=e.volume)},e.objectify=function(e){var t=e.name,n=void 0===t?_r:t,r=e.volume;return{name:n,volume:void 0===r?1:r}},e.prototype.serialize=function(){return Nt.serialize(this)},e}(),Er=function(){function e(e,t){void 0===t&&(t=[]),this.key=e,this.value=Array.isArray(t)&&t.every(function(e){return"string"==typeof e})?t:[]}return e.prototype.encode=function(){return{key:this.key,value:this.value||[]}},e}(),br=new WeakMap,Cr=function(){function e(t){h(this,e),this._mentionType=e.MentionType.USERS,this._mentionedUserIds=[],this._cachedMentionedUsers=[],this._cachedMentionedUserIds=[],this._metaArrays=[],br.set(this,null),this._parentMessageId=null,this.data=null,this.customType=null,this.pushNotificationDeliveryOption=null,this.appleCriticalAlertOptions=null,this.isReplyToChannel=!1,this.mentionedMessageTemplate=null,t&&this._update(t)}return m(e,[{key:"mentionType",get:function(){return this._mentionType},set:function(e){var t=G.get(this._iid).BaseMessageParams;Object.keys(t.MentionType).map(function(e){return t.MentionType[e]}).indexOf(e)>-1&&(this._mentionType=e)}},{key:"mentionedUserIds",get:function(){return this._cachedMentionedUserIds},set:function(e){if(Array.isArray(e))for(var t=Ba.getInstance(this._iid),n=0;n<e.length;n++){var r=e[n];if("string"!=typeof r){this._cachedMentionedUserIds=[],this._mentionedUserIds=[];break}this._mentionedUserIds.indexOf(r)<0&&t.currentUser&&t.currentUser.userId!==r&&(this._cachedMentionedUserIds.push(r),this._mentionedUserIds.push(r))}}},{key:"mentionedUsers",get:function(){return this._cachedMentionedUsers},set:function(e){if(Array.isArray(e))for(var t=Ba.getInstance(this._iid),n=0;n<e.length;n++){var r=e[n];if(!r.hasOwnProperty("userId")){this._cachedMentionedUsers=[],this._mentionedUserIds=[];break}this._mentionedUserIds.indexOf(r.userId)<0&&t.currentUser&&t.currentUser.userId!==r.userId&&(this._cachedMentionedUsers.push(r),this._mentionedUserIds.push(r.userId))}}},{key:"metaArrayKeys",get:function(){return this._metaArrays.map(function(e){return e.key})},set:function(e){var t=G.get(this._iid).MessageMetaArray,n={};if(Array.isArray(e)){this._metaArrays=[];for(var r=0;r<e.length;r++)"string"!=typeof e[r]||n[e[r]]||(n[e[r]]=!0,this._metaArrays.push(new t(e[r])))}}},{key:"metaArrays",get:function(){return this._metaArrays},set:function(e){var t=G.get(this._iid).MessageMetaArray;if(Array.isArray(e)){this._metaArrays=[];for(var n=0;n<e.length;n++){var r=e[n];if(r instanceof t){var a,i=this._metaArrays.map(function(e){return e.key}).indexOf(r.key);i<0?this._metaArrays.push(r):(a=this._metaArrays[i].value).push.apply(a,S(r.value))}}}}},{key:"rootMessageId",get:function(){return br.get(this)}},{key:"parentMessageId",get:function(){return this._parentMessageId},set:function(e){br.set(this,e),this._parentMessageId=e}},{key:"_serialize",value:function(e){return Nt.serialize(this,function(t){t.hasOwnProperty("_mentionType")&&(t.mentionType=t._mentionType,delete t._mentionType),t.hasOwnProperty("_mentionedUserIds")&&(t.mentionedUserIds=t._mentionedUserIds,delete t._mentionedUserIds),t.hasOwnProperty("_cachedMentionedUsers")&&(t.cachedMentionedUsers=t._cachedMentionedUsers,delete t._cachedMentionedUsers),t.hasOwnProperty("_cachedMentionedUserIds")&&(t.cachedMentionedUserIds=t._cachedMentionedUserIds,delete t._cachedMentionedUserIds),t.hasOwnProperty("_metaArrays")&&(t.metaArrays=t._metaArrays,delete t._metaArrays),t.hasOwnProperty("_parentMessageId")&&(t.parentMessageId=t._parentMessageId,delete t._parentMessageId),e&&e(t)})}},{key:"_update",value:function(e){e.hasOwnProperty("mention_type")&&(this._mentionType=e.mention_type),e.hasOwnProperty("mentioned_user_ids")&&(this._mentionedUserIds=e.mentioned_user_ids),e.hasOwnProperty("mentioned_message_template")&&(this.mentionedMessageTemplate=e.mentioned_message_template),e.hasOwnProperty("cached_mentioned_users")&&(this._cachedMentionedUsers=e.cached_mentioned_users),e.hasOwnProperty("cached_mentioned_user_ids")&&(this._cachedMentionedUserIds=e.cached_mentioned_user_ids),e.hasOwnProperty("meta_arrays")&&(this._metaArrays=e.meta_arrays.map(function(e){return new Er(e.key,e.value)})),e.hasOwnProperty("parent_message_id")&&(this.parentMessageId=e.parent_message_id),e.hasOwnProperty("data")&&(this.data=e.data),e.hasOwnProperty("custom_type")&&(this.customType=e.custom_type),e.hasOwnProperty("push_notification_delivery_option")&&(this.pushNotificationDeliveryOption=e.push_notification_delivery_option),e.hasOwnProperty("apple_critical_alert_options")&&(this.appleCriticalAlertOptions=new vr(e.apple_critical_alert_options)),e.hasOwnProperty("is_reply_to_channel")&&(this.isReplyToChannel=e.is_reply_to_channel)}},{key:"_validate",value:function(){var e=G.get(this._iid),t=e.BaseMessageParams,n=e.MessageMetaArray,r=br.get(this);return Object.keys(t.MentionType).map(function(e){return t.MentionType[e]}).indexOf(this.mentionType)>-1&&this._mentionedUserIds.every(function(e){return"string"==typeof e})&&("string"==typeof this.mentionedMessageTemplate||null===this.mentionedMessageTemplate)&&Array.isArray(this._metaArrays)&&this._metaArrays.every(function(e){return e instanceof n})&&("number"==typeof r||null===r)&&("number"==typeof this._parentMessageId||null===this._parentMessageId)&&("string"==typeof this.data||null===this.data)&&("string"==typeof this.customType||null===this.customType)&&(null===this.pushNotificationDeliveryOption||Object.keys(t.PushNotificationDeliveryOption).map(function(e){return t.PushNotificationDeliveryOption[e]}).indexOf(this.pushNotificationDeliveryOption)>-1)&&(null===this.appleCriticalAlertOptions||this.appleCriticalAlertOptions instanceof vr)&&"boolean"==typeof this.isReplyToChannel}}],[{key:"_objectify",value:function(t){var n=t.mentionType,r=void 0===n?e.MentionType.USERS:n,a=t.mentionedUserIds,i=void 0===a?[]:a,s=t.mentionedMessageTemplate,o=void 0===s?null:s,l=t.cachedMentionedUsers,u=void 0===l?[]:l,c=t.cachedMentionedUserIds,d=void 0===c?[]:c,f=t.metaArrays,h=void 0===f?[]:f,p=t.parentMessageId,m=void 0===p?null:p,g=t.pushNotificationDeliveryOption,y=void 0===g?null:g,_=t.appleCriticalAlertOptions,v=void 0===_?null:_,E=t.isReplyToChannel;return{mention_type:r,mentioned_user_ids:i,mentioned_message_template:o,cached_mentioned_users:u,cached_mentioned_user_ids:d,meta_arrays:h,parent_message_id:m,push_notification_delivery_option:y,apple_critical_alert_options:v,is_reply_to_channel:void 0!==E&&E}}},{key:"MentionType",get:function(){return{USERS:"users",CHANNEL:"channel"}}},{key:"PushNotificationDeliveryOption",get:function(){return{DEFAULT:"default",SUPPRESS:"suppress"}}}]),e}(),Nr=function(e){y(n,e);var t=b(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).message=null,r.pollId=void 0,r._translationTargetLanguages=[],e&&r._update(e),r}return m(n,[{key:"serialize",value:function(){return C(_(n.prototype),"_serialize",this).call(this,function(e){e.hasOwnProperty("_translationTargetLanguages")&&(e.translationTargetLanguages=e._translationTargetLanguages,delete e._translationTargetLanguages)})}},{key:"targetLanguages",get:function(){return this.translationTargetLanguages},set:function(e){this.translationTargetLanguages=e}},{key:"translationTargetLanguages",get:function(){return this._translationTargetLanguages},set:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)if("string"!=typeof e[t])return void(this._translationTargetLanguages=[]);this._translationTargetLanguages=e}}},{key:"_update",value:function(e){C(_(n.prototype),"_update",this).call(this,e),e.hasOwnProperty("message")&&(this.message=e.message),e.hasOwnProperty("translation_target_languages")&&(this._translationTargetLanguages=e.translation_target_languages),e.hasOwnProperty("poll_id")&&(this.pollId=e.poll_id)}},{key:"_validate",value:function(){return C(_(n.prototype),"_validate",this).call(this)&&("string"==typeof this.message||null===this.message)&&Array.isArray(this.translationTargetLanguages)&&this.translationTargetLanguages.every(function(e){return"string"==typeof e})&&("number"==typeof this.pollId||null===this.pollId||void 0===this.pollId)}}],[{key:"objectify",value:function(e){var t=e.message,n=void 0===t?null:t,r=e.data,a=void 0===r?null:r,i=e.customType,s=void 0===i?null:i,o=e.translationTargetLanguages,l=void 0===o?[]:o,u=e.pollId,c=void 0===u?void 0:u;return d(d({},Cr._objectify(e)),{},{message:n,data:a,custom_type:s,translation_target_languages:l,poll_id:c})}}]),n}(Cr),Sr=function(e){y(n,e);var t=b(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).messageType=Ot.MESSAGE_TYPE_USER,r.message=null,r._sender=null,r.translations={},r.requestState=null,r.requestedMentionUserIds=[],r.errorCode=0,r.messageSurvivalSeconds=-1,r.plugins=[],r.poll=null,r._messageParams=null,e&&r._update(e),r}return m(n,[{key:"applyPollUpdateEvent",value:function(e){var t=G.get(this._iid),n=t.Poll,r=t.PollUpdateEvent,a=null,i=me.parse(arguments,[new me({type:r,constraint:function(e){return Object.values(n.Status).includes(e.status)}})]),s=N(i,2);if(a=s[0],e=s[1],!a&&this.poll&&this.poll.id===e.poll.id){if(e.status===n.Status.REMOVED)return this.poll=new n(n.objectify(this.poll)),this.poll.details.status=e.status,!0;if(this.poll.details.updatedAt<e.poll.details.updatedAt)return this.poll=e.poll,!0}return!1}},{key:"applyPollVoteEvent",value:function(e){var t=G.get(this._iid),n=t.PollVoteEvent,r=null,a=me.parse(arguments,[new me({type:n})]),i=N(a,2);if(r=i[0],e=i[1],!r&&this.poll&&this.poll.id===e.pollId){var s,o=w(this.poll.details.options);try{for(o.s();!(s=o.n()).done;){var l=s.value;if(l._applyEvent(e))return!0}}catch(r){o.e(r)}finally{o.f()}}return!1}},{key:"_update",value:function(e){var t=Ba.getInstance(this._iid),n=G.get(this._iid),r=n.Sender,a=n.Plugin,i=n.Poll;this.message=String(e.message),this._sender=new r(e.user),this.reqId=e.hasOwnProperty("req_id")?String(e.req_id):"",this.translations=e.hasOwnProperty("translations")?e.translations:{},this.requestState=this.messageId>0?t.MessageRequestState.SUCCEEDED:t.MessageRequestState.FAILED,e.hasOwnProperty("sending_status")&&(this.requestState=e.sending_status,this.requestState===t.MessageSendingStatus.CANCELED&&(this.requestState=t.MessageRequestState.FAILED)),this.requestedMentionUserIds=[],e.hasOwnProperty("requested_mention_user_ids")&&(this.requestedMentionUserIds=e.requested_mention_user_ids),this.errorCode=0,e.hasOwnProperty("error_code")&&(this.errorCode=e.error_code),this.messageSurvivalSeconds=-1,e.hasOwnProperty("message_survival_seconds")&&(this.messageSurvivalSeconds=e.message_survival_seconds),this.plugins=[],e.hasOwnProperty("plugins")&&Array.isArray(e.plugins)&&(this.plugins=e.plugins.map(function(e){return new a(e)})),this.poll=null,e.hasOwnProperty("poll")&&(this.poll=new i(e.poll)),e.hasOwnProperty("message_params")&&(this._messageParams=new Nr(e.message_params))}},{key:"sender",get:function(){var e=Ba.getInstance(this._iid),t=G.get(this._iid).GroupChannel;if(this._sender&&e.Options.useMemberAsMessageSender&&this.isGroupChannel()){var n=t.cachedChannels[this.channelUrl];if(n){var r=n.memberMap[this._sender.userId];r&&(this._sender.nickname!==r.nickname&&(this._sender.nickname=r.nickname),this._sender.plainProfileUrl!==r.plainProfileUrl&&(this._sender.plainProfileUrl=r.plainProfileUrl),ie.deepEqual(this._sender.metaData,r.metaData)||(this._sender.metaData=r.metaData))}}return this._sender},set:function(e){this._sender=e}},{key:"isResendable",value:function(){var e=Ba.getInstance(this._iid);return this.sendingStatus===e.MessageSendingStatus.FAILED&&ie.isResendableError(this.errorCode)}},{key:"serialize",value:function(){var e=this;return C(_(n.prototype),"serialize",this).call(this,function(t){e._messageParams&&(t.messageParams=e._messageParams.serialize())})}},{key:"messageParams",get:function(){return this._messageParams}},{key:"_clone",value:function(){return G.get(this._iid).UserMessage.buildFromSerializedData(this.serialize())}},{key:"_isSentByMe",value:function(){var e=Ba.getInstance(this._iid);return this.sendingStatus===e.MessageSendingStatus.SUCCEEDED&&0===this.updatedAt&&this._sender&&this._sender.userId===e.currentUser.userId}}],[{key:"objectify",value:function(e){var t=Ba.getInstance(this._iid),n=G.get(this._iid),r=n.BaseChannel,a=n.BaseMessageParams,i=n.Sender,s=n.User,o=n.UserMessage,l=n.FileMessage,u=n.AdminMessage,c=n.ThreadInfo,f=n.OGMetaData,h=n.Plugin,p=n.AppleCriticalAlertOptions,m=n.Poll,g=n.UserMessageParams,y=e.messageId,_=e.messageType,v=void 0===_?Ot.MESSAGE_TYPE_BASE:_,E=e.reqId,b=void 0===E?"":E,C=e.user,N=e.channel,S=void 0===N?null:N,T=e.channelUrl,O=void 0===T?"":T,w=e.channelType,k=void 0===w?r.CHANNEL_TYPE_OPEN:w,A=e.message,R=e.data,I=void 0===R?"":R,M=e.customType,P=void 0===M?"":M,U=e.mentionType,L=void 0===U?a.MentionType.USERS:U,D=e.mentionedUsers,x=void 0===D?[]:D,F=e.mentionedUserIds,j=void 0===F?[]:F,H=e.mentionedMessageTemplate,B=void 0===H?null:H,z=e.requestedMentionUserIds,V=void 0===z?[]:z,q=e.reactions,Y=void 0===q?[]:q,K=e.metaArrays,W=void 0===K?[]:K,Q=e.rootMessageId,J=void 0===Q?0:Q,$=e.parentMessageId,X=void 0===$?0:$,Z=e.parentMessageText,ee=void 0===Z?"":Z,te=e.threadInfo,ne=void 0===te?null:te,re=e.isReplyToChannel,ae=void 0!==re&&re,ie=e.parentMessage,se=void 0===ie?null:ie,oe=e.translations,le=void 0===oe?{}:oe,ue=e.sendingStatus,ce=e.errorCode,de=void 0===ce?0:ce,fe=e.silent,he=void 0!==fe&&fe,pe=e.isGlobalBlocked,me=void 0!==pe&&pe,ge=e.messageSurvivalSeconds,ye=void 0===ge?-1:ge,_e=e.ogMetaData,ve=void 0===_e?null:_e,Ee=e.isOperatorMessage,be=void 0!==Ee&&Ee,Ce=e.plugins,Ne=void 0===Ce?[]:Ce,Se=e.appleCriticalAlertOptions,Te=e.poll,Oe=void 0===Te?null:Te,we=e.createdAt,ke=e.updatedAt,Ae=void 0===ke?0:ke,Re=e.messageParams,Ie=void 0===Re?null:Re,Me=e.isAutoResendRegistered,Pe=void 0!==Me&&Me,Ue={};switch(Ue.req_id=b,Ue.msg_id=y,v){case Ot.MESSAGE_TYPE_USER:Ue.type="MESG";break;case Ot.MESSAGE_TYPE_FILE:Ue.type="FILE";break;case Ot.MESSAGE_TYPE_ADMIN:Ue.type="ADMM"}if(Ue.user=i.objectify(d({},C)),Ue.channel_url=S?S.url:O,Ue.channel_type=S?S.channelType:k,Ue.message=A,Ue.data=I,Ue.custom_type=P,Ue.translations=le,Ue.is_global_block=!!me,Ue.ts=we,Ue.updated_at=Ae,Ue.mention_type=L,Ue.mentioned_users=x.map(function(e){return s.objectify(e)}),Ue.mentioned_user_ids=j,Ue.mentioned_message_template=B,Ue.requested_mention_user_ids=V,Ue.reactions=Y.map(function(e){return e.serialize()}),Ue.metaarray={},W.forEach(function(e){var t=e.key;Ue.metaarray[t]=e.value}),Ue.metaarray_key_order=W.map(function(e){return e.key}),Ue.root_message_id=J,Ue.parent_message_id=X,Ue.parent_message_text=ee,ne&&(Ue.thread_info=c.objectify(ne)),Ue.is_reply_to_channel=ae,se)switch(se.messageType){case Ot.MESSAGE_TYPE_USER:Ue.parent_message_info=o._objectifySerializedData(se);break;case Ot.MESSAGE_TYPE_FILE:Ue.parent_message_info=l._objectifySerializedData(se);break;case Ot.MESSAGE_TYPE_ADMIN:Ue.parent_message_info=u._objectifySerializedData(se)}return Ue.sending_status=y>0?t.MessageSendingStatus.SUCCEEDED:t.MessageSendingStatus.FAILED,ue&&(Ue.sending_status=ue),Ue.silent=!!he,Ue.error_code=de,Ue.message_survival_seconds=ye,ve&&(Ue.og_tag=f.objectify(ve)),Ue.is_op_msg=!!be,Ue.plugins=Ne.map(function(e){return h.objectify(e)}),Oe&&(Ue.poll=m.objectify(Oe)),Se&&(Ue.apple_critical_alert_options=p.objectify(Se)),Ie&&(Ue.message_params=g.objectify(Ie)),Ue.is_auto_resend_registered=Pe,Ue}},{key:"build",value:function(e,t,n,r,a,i,s,o,l,u,c,d,f,h,p,m,g,y,_,v,E,b,C,N,S,T,O,w,k,A,R){return this.objectify({messageId:t,reqId:e,user:n,channel:r,message:a,data:i,customType:s,mentionType:h,mentionedUsers:p,mentionedUserIds:v,mentionedMessageTemplate:E,requestedMentionUserIds:C,reactions:f,metaArrays:d,rootMessageId:m,parentMessageId:g,parentMessageText:y,threadInfo:_,translations:o,sendingStatus:b,errorCode:N,isGlobalBlocked:l,messageSurvivalSeconds:S,ogMetaData:T,isOperatorMessage:O,plugins:w,appleCriticalAlertOptions:k,poll:A,createdAt:u,updatedAt:c,messageParams:R})}},{key:"buildFromSerializedData",value:function(e){var t=G.get(this._iid).UserMessage,n=Nt.deserialize(e);return new t(this._objectifySerializedData(n))}},{key:"_objectifySerializedData",value:function(e){return G.get(this._iid).UserMessage.objectify(d(d({},e),{},{channel:{url:e.channelUrl,channelType:e.channelType},user:e.sender,messageParams:e.messageParams?new Nr(Nr.objectify(e.messageParams)):null}))}}]),n}(Ot),Tr=function(e){y(n,e);var t=b(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).fileName=null,r.mimeType=null,r.fileSize=null,r._isUpdate=!1,r._file=null,r._fileType=null,r._fileUrl=null,r._thumbnailSizes=[],e&&r._update(e),r}return m(n,[{key:"serialize",value:function(){return C(_(n.prototype),"_serialize",this).call(this,function(e){e.hasOwnProperty("_isUpdate")&&(e.isUpdate=e._isUpdate,delete e._isUpdate),e.hasOwnProperty("_file")&&(e.file=e._file,delete e._file),e.hasOwnProperty("_fileType")&&(e.fileType=e._fileType,delete e._fileType),e.hasOwnProperty("_fileUrl")&&(e.fileUrl=e._fileUrl,delete e._fileUrl),e.hasOwnProperty("_thumbnailSizes")&&(e.thumbnailSizes=e._thumbnailSizes,delete e._thumbnailSizes)})}},{key:"file",get:function(){return this._file},set:function(e){ie.isFile(e)&&(this._fileUrl=null,this._file=e,se.isFile(e)?this._fileType=x.FILE:se.isBlob(e)?this._fileType=x.BLOB:se.isFileLikeObject(e)?this._fileType=x.BLOB_LIKE_OBJECT:"string"==typeof e&&(this._fileType=x.URL))}},{key:"fileType",get:function(){return this._fileType}},{key:"fileUrl",get:function(){return this._fileUrl},set:function(e){"string"==typeof e&&(this._fileUrl=e,this._file=null)}},{key:"thumbnailSizes",get:function(){return this._thumbnailSizes},set:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)if("object"!==f(e[t])||"number"!=typeof e[t].maxWidth||"number"!=typeof e[t].maxHeight)return void(this._thumbnailSizes=[]);this._thumbnailSizes=e}}},{key:"_update",value:function(e){C(_(n.prototype),"_update",this).call(this,e),e.hasOwnProperty("file_name")&&(this.fileName=e.file_name),e.hasOwnProperty("mime_type")&&(this.mimeType=e.mime_type),e.hasOwnProperty("file_size")&&(this.fileSize=e.file_size),e.hasOwnProperty("is_update")&&(this._isUpdate=e.is_update),e.hasOwnProperty("file")&&(this._file=e.file),e.hasOwnProperty("file_type")&&(this._fileType=e.file_type),e.hasOwnProperty("file_url")&&(this._fileUrl=e.file_url),e.hasOwnProperty("thumbnail_sizes")&&(this._thumbnailSizes=e.thumbnail_sizes)}},{key:"_validate",value:function(){return C(_(n.prototype),"_validate",this).call(this)&&(this._isUpdate||ie.isFile(this.file)||"string"==typeof this.fileUrl)&&("string"==typeof this.fileName||null===this.fileName)&&("string"==typeof this.mimeType||null===this.mimeType)&&("number"==typeof this.fileSize||null===this.fileSize)&&(null===this._thumbnailSizes||this._thumbnailSizes.every(function(e){return"object"===f(e)&&e.maxWidth>0&&e.maxHeight>0}))}}],[{key:"objectify",value:function(e){var t=e.fileName,n=void 0===t?null:t,r=e.mimeType,a=void 0===r?null:r,i=e.fileSize,s=void 0===i?null:i,o=e.data,l=void 0===o?null:o,u=e.customType,c=void 0===u?null:u,f=e.isUpdate,h=void 0!==f&&f,p=e.file,m=void 0===p?null:p,g=e.fileType,y=void 0===g?null:g,_=e.fileUrl,v=void 0===_?null:_,E=e.thumbnailSizes,b=void 0===E?[]:E;return d(d({},Cr._objectify(e)),{},{file_name:n,mime_type:a,file_size:s,data:l,custom_type:c,is_update:h,file:m,file_type:y,file_url:v,thumbnail_sizes:b})}}]),n}(Cr),Or=function(e){y(n,e);var t=b(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).messageType=Ot.MESSAGE_TYPE_FILE,r.plainUrl=null,r.name="File",r.size=0,r.type=null,r.thumbnails=[],r._sender=null,r.requireAuth=null,r.requestState=null,r.requestedMentionUserIds=[],r.errorCode=0,r.messageSurvivalSeconds=-1,r._messageParams=null,e&&r._update(e),r}return m(n,[{key:"_update",value:function(e){var t=Ba.getInstance(this._iid),n=R.get(this._iid).container.auth,r=G.get(this._iid).Sender;if(this._sender=new r(e.user),this.requireAuth=!!e.hasOwnProperty("require_auth")&&e.require_auth,e.hasOwnProperty("url")&&(this.plainUrl=e.url.split("?auth=")[0]),this.name=e.hasOwnProperty("name")?e.name:"File",this.size=parseInt(e.size)||0,this.type=e.type,e.hasOwnProperty("custom")&&(this.data=e.custom),e.hasOwnProperty("file")){var a=e.file;a.hasOwnProperty("url")&&(this.plainUrl=a.url),a.hasOwnProperty("name")&&(this.name=a.name),a.hasOwnProperty("size")&&(this.size=a.size),a.hasOwnProperty("type")&&(this.type=a.type),a.hasOwnProperty("custom")&&(this.data=a.custom)}if(Object.defineProperty(this,"url",{value:this.requireAuth?"".concat(this.plainUrl,"?auth=").concat(n.eKey):this.plainUrl,configurable:!0,writable:!1}),this.reqId=e.hasOwnProperty("req_id")?String(e.req_id):"",this.thumbnails=e.hasOwnProperty("thumbnails")?e.thumbnails:[],this.requireAuth)for(var i=0;i<this.thumbnails.length;i++)this.thumbnails[i].plainUrl=String(this.thumbnails[i].url).split("?auth=")[0],this.thumbnails[i].url=this.requireAuth?"".concat(this.thumbnails[i].plainUrl,"?auth=").concat(n.eKey):this.thumbnails[i].plainUrl;this.requestState=this.messageId>0?t.MessageRequestState.SUCCEEDED:t.MessageRequestState.FAILED,e.hasOwnProperty("sending_status")&&(this.requestState=e.sending_status,this.requestState===t.MessageSendingStatus.CANCELED&&(this.requestState=t.MessageRequestState.FAILED)),this.requestedMentionUserIds=[],e.hasOwnProperty("requested_mention_user_ids")&&(this.requestedMentionUserIds=e.requested_mention_user_ids),this.errorCode=0,e.hasOwnProperty("error_code")&&(this.errorCode=e.error_code),this.messageSurvivalSeconds=-1,e.hasOwnProperty("message_survival_seconds")&&(this.messageSurvivalSeconds=e.message_survival_seconds),e.hasOwnProperty("message_params")&&(this._messageParams=new Tr(e.message_params))}},{key:"sender",get:function(){var e=Ba.getInstance(this._iid),t=G.get(this._iid).GroupChannel;if(this._sender&&e.Options.useMemberAsMessageSender&&this.isGroupChannel()){var n=t.cachedChannels[this.channelUrl];if(n){var r=n.memberMap[this._sender.userId];r&&(this._sender.nickname!==r.nickname&&(this._sender.nickname=r.nickname),this._sender.plainProfileUrl!==r.plainProfileUrl&&(this._sender.plainProfileUrl=r.plainProfileUrl),ie.deepEqual(this._sender.metaData,r.metaData)||(this._sender.metaData=r.metaData))}}return this._sender},set:function(e){this._sender=e}},{key:"isResendable",value:function(){var e=Ba.getInstance(this._iid);return this.sendingStatus===e.MessageSendingStatus.FAILED&&ie.isResendableError(this.errorCode)}},{key:"serialize",value:function(){var e=this;return C(_(n.prototype),"serialize",this).call(this,function(t){e._messageParams&&(t.messageParams=e._messageParams.serialize())})}},{key:"messageParams",get:function(){return this._messageParams}},{key:"_clone",value:function(){var e=G.get(this._iid).FileMessage.buildFromSerializedData(this.serialize());if(this._messageParams&&e._messageParams){var t=this._messageParams.file;t&&se.isBlob(t)&&(e._messageParams.file=t.slice())}return e}},{key:"_isSentByMe",value:function(){var e=Ba.getInstance(this._iid);return this.sendingStatus===e.MessageSendingStatus.SUCCEEDED&&0===this.updatedAt&&this._sender&&this._sender.userId===e.currentUser.userId}}],[{key:"objectify",value:function(e){var t=Ba.getInstance(this._iid),n=G.get(this._iid),r=n.BaseChannel,a=n.BaseMessageParams,i=n.Sender,s=n.User,o=n.UserMessage,l=n.FileMessage,u=n.AdminMessage,c=n.ThreadInfo,f=n.OGMetaData,h=n.FileMessageParams,p=n.AppleCriticalAlertOptions,m=e.messageId,g=e.messageType,y=void 0===g?Ot.MESSAGE_TYPE_BASE:g,_=e.reqId,v=void 0===_?"":_,E=e.user,b=void 0===E?{}:E,C=e.channel,N=e.plainUrl,S=e.name,T=void 0===S?null:S,O=e.type,w=e.size,k=void 0===w?0:w,A=e.data,R=void 0===A?"":A,I=e.customType,M=void 0===I?"":I,P=e.mentionType,U=void 0===P?a.MentionType.USERS:P,L=e.mentionedUsers,D=void 0===L?[]:L,x=e.mentionedUserIds,F=void 0===x?[]:x,j=e.requestedMentionUserIds,H=void 0===j?[]:j,B=e.reactions,z=void 0===B?[]:B,V=e.metaArrays,q=void 0===V?[]:V,Y=e.rootMessageId,K=void 0===Y?0:Y,W=e.parentMessageId,Q=void 0===W?0:W,J=e.parentMessageText,$=void 0===J?"":J,X=e.threadInfo,Z=void 0===X?null:X,ee=e.isReplyToChannel,te=void 0!==ee&&ee,ne=e.parentMessage,re=void 0===ne?null:ne,ae=e.thumbnails,ie=void 0===ae?[]:ae,se=e.requireAuth,oe=void 0!==se&&se,le=e.sendingStatus,ue=e.errorCode,ce=void 0===ue?0:ue,de=e.silent,fe=void 0!==de&&de,he=e.isGlobalBlocked,pe=void 0!==he&&he,me=e.messageSurvivalSeconds,ge=void 0===me?-1:me,ye=e.ogMetaData,_e=void 0===ye?null:ye,ve=e.isOperatorMessage,Ee=void 0!==ve&&ve,be=e.appleCriticalAlertOptions,Ce=e.createdAt,Ne=e.updatedAt,Se=void 0===Ne?0:Ne,Te=e.messageParams,Oe=void 0===Te?null:Te,we=e.isAutoResendRegistered,ke=void 0!==we&&we,Ae={};switch(Ae.req_id=v,Ae.msg_id=m,y){case Ot.MESSAGE_TYPE_USER:Ae.type="MESG";break;case Ot.MESSAGE_TYPE_FILE:Ae.type="FILE";break;case Ot.MESSAGE_TYPE_ADMIN:Ae.type="ADMM"}Ae.user=i.objectify(d({},b)),Ae.channel_url=C.url,Ae.channel_type=C.channelType===r.CHANNEL_TYPE_OPEN?r.CHANNEL_TYPE_OPEN:r.CHANNEL_TYPE_GROUP,Ae.url=N,Ae.name=T,Ae.type=O,Ae.size=k,Ae.custom=R,Ae.custom_type=M,Ae.thumbnails=ie,Ae.require_auth=oe,Ae.is_global_block=!!pe,Ae.ts=Ce,Ae.updated_at=Se,Ae.mention_type=U,Ae.mentioned_users=D.map(function(e){return s.objectify(e)}),Ae.mentioned_user_ids=F,Ae.requested_mention_user_ids=H,Ae.reactions=z.map(function(e){return e.serialize()}),Ae.metaarray={};for(var Re=0;Re<q.length;Re++){var Ie=q[Re].key;Ae.metaarray[Ie]=q[Re].value}if(Ae.metaarray_key_order=q.map(function(e){return e.key}),Ae.root_message_id=K,Ae.parent_message_id=Q,Ae.parent_message_text=$,Z&&(Ae.thread_info=c.objectify(Z)),Ae.is_reply_to_channel=te,re)switch(re.messageType){case r.MESSAGE_TYPE_USER:Ae.parent_message_info=o._objectifySerializedData(re);break;case r.MESSAGE_TYPE_FILE:Ae.parent_message_info=l._objectifySerializedData(re);break;case r.MESSAGE_TYPE_ADMIN:Ae.parent_message_info=u._objectifySerializedData(re)}return Ae.sending_status=m>0?t.MessageSendingStatus.SUCCEEDED:t.MessageSendingStatus.FAILED,le&&(Ae.sending_status=le),Ae.silent=!!fe,Ae.error_code=ce,Ae.message_survival_seconds=ge,_e&&(Ae.og_tag=f.objectify(_e)),Ae.is_op_msg=!!Ee,be&&(Ae.apple_critical_alert_options=p.objectify(be)),Oe&&(Ae.message_params=h.objectify(Oe)),Ae.is_auto_resend_registered=ke,Ae}},{key:"build",value:function(e,t,n,r,a,i,s,o,l,u,c,d,f,h,p,m,g,y,_,v,E,b,C,N,S,T,O,w,k,A,R,I){return this.objectify({messageId:t,reqId:e,user:n,channel:r,plainUrl:a,name:i,type:s,size:o,data:l,customType:u,mentionType:y,mentionedUsers:_,mentionedUserIds:N,requestedMentionUserIds:T,reactions:g,metaArrays:m,rootMessageId:v,parentMessageId:E,parentMessageText:b,threadInfo:C,thumbnails:f,requireAuth:h,sendingStatus:S,errorCode:O,isGlobalBlocked:c,messageSurvivalSeconds:w,ogMetaData:k,isOperatorMessage:A,appleCriticalAlertOptions:R,createdAt:d,updatedAt:p,messageParams:I})}},{key:"buildFromSerializedData",value:function(e){var t=G.get(this._iid).FileMessage,n=Nt.deserialize(e);return new t(this._objectifySerializedData(n))}},{key:"_objectifySerializedData",value:function(e){return G.get(this._iid).FileMessage.objectify(d(d({},e),{},{channel:{url:e.channelUrl,channelType:e.channelType},user:e.sender,messageParams:e.messageParams?new Tr(Tr.objectify(e.messageParams)):null}))}}]),n}(Ot),wr=function(e){y(n,e);var t=b(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).messageType=Ot.MESSAGE_TYPE_ADMIN,r.message="",r.translations={},e&&r._update(e),r}return m(n,[{key:"_update",value:function(e){this.message=String(e.message),this.translations=e.hasOwnProperty("translations")?e.translations:{}}}],[{key:"objectify",value:function(e){var t=G.get(this._iid),n=t.BaseChannel,r=t.BaseMessageParams,a=t.UserMessage,i=t.FileMessage,s=t.AdminMessage,o=t.User,l=t.ThreadInfo,u=t.OGMetaData,c=e.messageId,d=e.messageType,f=void 0===d?Ot.MESSAGE_TYPE_BASE:d,h=e.channel,p=e.message,m=e.data,g=void 0===m?"":m,y=e.customType,_=void 0===y?"":y,v=e.mentionType,E=void 0===v?r.MentionType.USERS:v,b=e.mentionedUsers,C=void 0===b?[]:b,N=e.mentionedMessageTemplate,S=void 0===N?null:N,T=e.reactions,O=void 0===T?[]:T,w=e.metaArrays,k=void 0===w?[]:w,A=e.rootMessageId,R=void 0===A?0:A,I=e.parentMessageId,M=void 0===I?0:I,P=e.parentMessageText,U=void 0===P?"":P,L=e.threadInfo,D=void 0===L?null:L,x=e.isReplyToChannel,F=void 0!==x&&x,j=e.parentMessage,H=void 0===j?null:j,B=e.translations,z=void 0===B?{}:B,V=e.silent,q=void 0!==V&&V,Y=e.ogMetaData,K=void 0===Y?null:Y,W=e.createdAt,Q=e.updatedAt,J=void 0===Q?0:Q,$={msg_id:c,channel_url:h.url,channel_type:h.channelType===n.CHANNEL_TYPE_OPEN?n.CHANNEL_TYPE_OPEN:n.CHANNEL_TYPE_GROUP,message:p,data:g,custom_type:_,silent:q,ts:W,updated_at:J};switch(f){case Ot.MESSAGE_TYPE_USER:$.type="MESG";break;case Ot.MESSAGE_TYPE_FILE:$.type="FILE";break;case Ot.MESSAGE_TYPE_ADMIN:$.type="ADMM"}$.translations=z,$.mention_type=E,$.mentioned_users=C.map(function(e){return o.objectify(e)}),$.mentioned_message_template=S,$.reactions=O.map(function(e){return e.serialize()}),$.metaarray={};for(var X=0;X<k.length;X++){var Z=k[X].key;$.metaarray[Z]=k[X].value}if($.metaarray_key_order=k.map(function(e){return e.key}),$.root_message_id=R,$.parent_message_id=M,$.parent_message_text=U,D&&($.thread_info=l.objectify(D)),$.is_reply_to_channel=F,H)switch(H.messageType){case n.MESSAGE_TYPE_USER:$.parent_message_info=a._objectifySerializedData(H);break;case n.MESSAGE_TYPE_FILE:$.parent_message_info=i._objectifySerializedData(H);break;case n.MESSAGE_TYPE_ADMIN:$.parent_message_info=s._objectifySerializedData(H)}return K&&($.og_tag=u.objectify(K)),$}},{key:"build",value:function(e,t,n,r,a,i,s,o,l,u,c,d,f,h,p,m,g,y){return this.objectify({messageId:e,channel:t,message:n,data:r,customType:a,mentionType:c,mentionedUsers:d,mentionedMessageTemplate:f,reactions:u,metaArrays:l,rootMessageId:h,parentMessageId:p,parentMessageText:m,threadInfo:g,translations:i,ogMetaData:y,createdAt:s,updatedAt:o})}},{key:"buildFromSerializedData",value:function(e){var t=G.get(this._iid).AdminMessage,n=Nt.deserialize(e);return new t(this._objectifySerializedData(n))}},{key:"_objectifySerializedData",value:function(e){return G.get(this._iid).AdminMessage.objectify(d(d({},e),{},{channel:{url:e.channelUrl,channelType:e.channelType}}))}}]),n}(Ot),kr=function(){function e(t){h(this,e);var n=G.get(this._iid),r=n.BaseMessage,a=n.BaseMessageParams;this.scheduledId=0,this.scheduledDateTimeString="",this.scheduledTimezone="",this.status=e.Status.SCHEDULED,this.createdAt=0,this.updatedAt=0,this._messageType=r.MESSAGE_TYPE_BASE,this._sender=null,this._channelType="",this.channelUrl="",this.message="",this.customType="",this.data="",this.metaArrays=[],this.mentionType=a.MentionType.USERS,this.mentionedUsers=[],this.pushNotificationDeliveryOption=a.PushNotificationDeliveryOption.DEFAULT,this.translationTargetLanguages=[],this.errorMessage="",this.errorCode=0,this.appleCriticalAlertOptions=null,t&&this._update(t)}return m(e,[{key:"sender",get:function(){var e=Ba.getInstance(this._iid),t=G.get(this._iid).GroupChannel;if(e.Options.useMemberAsMessageSender&&this.isGroupChannel()){var n=t.cachedChannels[this.channelUrl];if(n){var r=n.memberMap[this._sender.userId];r&&(this._sender.nickname!==r.nickname&&(this._sender.nickname=r.nickname),this._sender.plainProfileUrl!==r.plainProfileUrl&&(this._sender.plainProfileUrl=r.plainProfileUrl),ie.deepEqual(this._sender.metaData,r.metaData)||(this._sender.metaData=r.metaData))}}return this._sender},set:function(e){this._sender=e}},{key:"_update",value:function(t){var n=this,r=G.get(this._iid),a=r.User,i=r.Sender,s=r.BaseMessageParams,o=r.MessageMetaArray,l=r.AppleCriticalAlertOptions;this.scheduledId=t.hasOwnProperty("scheduled_id")?parseInt(t.scheduled_id):0,this.scheduledDateTimeString=t.hasOwnProperty("scheduled_dt")?String(t.scheduled_dt):"",this.scheduledTimezone=t.hasOwnProperty("scheduled_timezone")?String(t.scheduled_timezone):"",this.status=t.hasOwnProperty("status")?String(t.status):"",this.createdAt=t.hasOwnProperty("created_at")?parseInt(t.created_at):0,this.updatedAt=t.hasOwnProperty("updated_at")?parseInt(t.updated_at):0,this.channelUrl=t.hasOwnProperty("channel_url")?String(t.channel_url):"",this._channelType=t.hasOwnProperty("channel_type")?String(t.channel_type):"",this._messageType=t.hasOwnProperty("type")?String(t.type):"",this._sender=t.hasOwnProperty("user")?new i(t.user):null,this.message=t.hasOwnProperty("message")?String(t.message):"",this.customType=t.hasOwnProperty("custom_type")?String(t.custom_type):"",this.data=t.hasOwnProperty("data")?String(t.data):"";var u=t.hasOwnProperty("metaarray")?t.metaarray:{},c=t.hasOwnProperty("metaarray_key_order")?t.metaarray_key_order:Object.keys(u).sort(function(e,t){return e.localeCompare(t)});this.metaArrays=[];for(var d=0;d<c.length;d++){var f=c[d];this.metaArrays.push(new o(f,u[f]||[]))}this.mentionType=t.hasOwnProperty("mention_type")?t.mention_type:s.MentionType.USERS,this.mentionedUsers=[],t.hasOwnProperty("mentioned_users")&&t.mentioned_users.forEach(function(e){var t=new a(e);n.mentionedUsers.push(t)}),this.pushNotificationDeliveryOption=t.hasOwnProperty("push_option")?t.push_option:s.PushNotificationDeliveryOption.DEFAULT,this.translationTargetLanguages=t.hasOwnProperty("translation_target_langs")?t.translation_target_langs:[],this.status===e.Status.FAILED&&(t.hasOwnProperty("error")&&t.error.hasOwnProperty("message")&&(this.errorMessage=String(t.error.message)),t.hasOwnProperty("error")&&t.error.hasOwnProperty("code")&&(this.errorCode=parseInt(t.error.code))),t.hasOwnProperty("apple_critical_alert_options")&&(this.appleCriticalAlertOptions=new l(t.apple_critical_alert_options))}},{key:"isOpenChannel",value:function(){var e=G.get(this._iid).BaseChannel;return this._channelType===e.CHANNEL_TYPE_OPEN}},{key:"isGroupChannel",value:function(){var e=G.get(this._iid).BaseChannel;return this._channelType===e.CHANNEL_TYPE_GROUP}},{key:"metaArray",get:function(){var e={};return this.metaArrays.forEach(function(t){e[t.key]=t.value}),e},set:function(e){if("object"===f(e)&&e){var t=G.get(this._iid).MessageMetaArray,n=[];Object.keys(e).forEach(function(r){n.push(new t(r,e[r]))}),this.metaArrays=n}}}],[{key:"Status",get:function(){return{SCHEDULED:"scheduled",SENT:"sent",CANCELED:"canceled",FAILED:"failed"}}}]),e}(),Ar=function(){function e(){this.threadInfo=null,this.targetMessageId=0,this.channelUrl=null,this.channelType=null}return e.createFromJson=function(e){var t=G.get(this._iid),n=t.BaseChannel,r=t.ThreadInfo,a=e.thread_info,i=e.root_message_id,s=e.channel_url,o=e.channel_type;if(a&&"object"==typeof a&&("string"==typeof i||"number"==typeof i)&&"string"==typeof s&&"string"==typeof o&&[n.CHANNEL_TYPE_GROUP,n.CHANNEL_TYPE_OPEN].includes(o)){var l=new this;return l.threadInfo=new r(a),l.targetMessageId=parseInt(i+""),l.channelUrl=s,l.channelType=o,l}return null},e}(),Rr=function(){function e(){h(this,e),this.poll=null,this.status=null}return m(e,null,[{key:"createFromJson",value:function(e){var t=G.get(this._iid).Poll,n=e.poll;if("object"===f(n)){var r=new this;return r.poll=new t(n),r.status=n.status,r}return null}}]),e}(),Ir=function(){function e(){h(this,e),this.pollId=null,this.updatedVoteCounts=null,this.votedAt=null}return m(e,null,[{key:"createFromJson",value:function(e){var t=e.poll_id,n=e.updated_vote_counts,r=e.ts;if("number"==typeof t&&Array.isArray(e.updated_vote_counts)&&"number"==typeof r){var a=new this;return a.pollId=t,a.updatedVoteCounts=n.map(function(e){return{optionId:e.option_id,voteCount:e.vote_count}}),a.votedAt=r,a}return null}}]),e}(),Mr=function(){function e(){h(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this.userIdsFilter=[],this.metaDataKeyFilter="",this.metaDataValuesFilter=[],this.nicknameStartsWithFilter=null,this._token=""}return m(e,[{key:"next",value:function(e){var t=this;return le(this._iid,function(e){"number"==typeof t.limit&&t.limit>0&&Array.isArray(t.userIdsFilter)&&"string"==typeof t.metaDataKeyFilter&&Array.isArray(t.metaDataValuesFilter)&&!!t.metaDataKeyFilter==t.metaDataValuesFilter.length>0&&("string"==typeof t.nicknameStartsWithFilter||null===t.nicknameStartsWithFilter)?t.isLoading?e(new F("Query in progress.",F.QUERY_IN_PROGRESS),null):t.hasNext?(t.isLoading=!0,R.get(t._iid).container.apiClient.loadUserList(d(d({},t),{},{token:t._token}),function(n,r){var a=null;if(!n){var i=G.get(t._iid).User,s=String(r.next);t._token=s,t.hasNext=!!s,a=r.users.map(function(e){return new i(e)})}t.isLoading=!1,e(n,a)})):e(null,[]):e(me.error,null)},e)}}]),e}(),Pr=function(){function e(t){h(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this._isOpenChannel=!1,this._channelUrl=null,this._token="",t.channelUrl&&(this._channelUrl=t.channelUrl),t.isOpenChannel&&(this._isOpenChannel=t.isOpenChannel)}return m(e,[{key:"next",value:function(e){var t=this;return le(this._iid,function(e){"number"==typeof t.limit&&t.limit>0?t.isLoading?e(new F("Query in progress.",F.QUERY_IN_PROGRESS),null):t.hasNext?(t.isLoading=!0,R.get(t._iid).container.apiClient.loadBannedUserList(d(d({},t),{},{channelUrl:t._channelUrl,isOpenChannel:t._isOpenChannel,token:t._token}),function(n,r){var a=null;if(!n){var i=G.get(t._iid).RestrictedUser,s=String(r.next);t._token=s,t.hasNext=!!s,a=r.banned_list.map(function(e){var t=new i(e);return t.restrictionInfo.restrictionType=i.RestrictionType.BANNED,t})}t.isLoading=!1,e(n,a)})):e(null,[]):e(me.error,null)},e)}}]),e}(),Ur=function(){function e(){h(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this.userIdsFilter=[],this._token=""}return m(e,[{key:"next",value:function(e){var t=this;return le(this._iid,function(e){"number"==typeof t.limit&&t.limit>0&&Array.isArray(t.userIdsFilter)?t.isLoading?e(new F("Query in progress.",F.QUERY_IN_PROGRESS),null):t.hasNext?(t.isLoading=!0,R.get(t._iid).container.apiClient.loadBlockedUserList(d(d({},t),{},{token:t._token}),function(n,r){var a=null;if(!n){var i=G.get(t._iid).User,s=String(r.next);t._token=s,t.hasNext=!!s,a=r.users.map(function(e){return new i(e)})}t.isLoading=!1,e(n,a)})):e(null,[]):e(me.error,null)},e)}}]),e}(),Lr=function(){function e(){h(this,e),this.isLoading=!1,this.hasMore=!0,this.limit=20,this._token=""}return m(e,[{key:"next",value:function(e){var t=this;return le(this._iid,function(e){"number"==typeof t.limit&&t.limit>0?t.isLoading?e(new F("Query in progress.",F.QUERY_IN_PROGRESS),null):t.hasMore?(t.isLoading=!0,R.get(t._iid).container.apiClient.loadFriendList(d(d({},t),{},{token:t._token}),function(n,r){var a=null;if(!n){var i=G.get(t._iid).User,s=String(r.next);t._token=s,t.hasMore=!!s,a=r.users.map(function(e){return new i(e)})}t.isLoading=!1,e(n,a)})):e(null,[]):e(me.error,null)},e)}}]),e}(),Dr=function(){function e(){h(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this.includeEmpty=!1,this.order=e.ORDER_LATEST_LAST_MESSAGE,this._token="",this._searchFilter={},this._userIdsFilter={userIds:[],includeMode:!0,queryType:e.QueryType.AND},this._userIdsExactFilter=[],this._userIdsIncludeFilter=[],this._userIdsIncludeFilterQueryType=e.QueryType.AND,this.nicknameContainsFilter="",this.channelNameContainsFilter="",this.memberStateFilter=or.MemberStateFilter.ALL,this.customTypesFilter=[],this.channelUrlsFilter=[],this.superChannelFilter=or.SuperChannelFilter.ALL,this.publicChannelFilter=or.PublicChannelFilter.ALL,this.customTypeStartsWithFilter=null,this.unreadChannelFilter=or.UnreadChannelFilter.ALL,this.metadataOrderKeyFilter=null,this.metadataKey=null,this.metadataValues=[],this.metadataValueStartsWith=null,this.hiddenChannelFilter=or.HiddenChannelFilter.UNHIDDEN,this.includeFrozen=!0,this.includeMetaData=!0}return m(e,[{key:"userIdsExactFilter",get:function(){return this._userIdsExactFilter},set:function(e){Array.isArray(e)&&(this._userIdsExactFilter=e,this._userIdsIncludeFilter=[],this._userIdsFilter.userIds=this._userIdsExactFilter,this._userIdsFilter.includeMode=!1)}},{key:"userIdsIncludeFilter",get:function(){return this._userIdsIncludeFilter},set:function(e){Array.isArray(e)&&(this._userIdsIncludeFilter=e,this._userIdsExactFilter=[],this._userIdsFilter.userIds=this._userIdsIncludeFilter,this._userIdsFilter.includeMode=!0)}},{key:"userIdsIncludeFilterQueryType",get:function(){return this._userIdsIncludeFilterQueryType},set:function(t){Object.keys(e.QueryType).map(function(t){return e.QueryType[t]}).indexOf(t)>-1&&(this._userIdsIncludeFilterQueryType=t.toUpperCase(),this._userIdsFilter.queryType=this._userIdsIncludeFilterQueryType)}},{key:"setSearchFilter",value:function(e,t){Array.isArray(e)&&0!==e.length&&"string"==typeof t&&t&&(this._searchFilter={search_query:t,search_fields:e.join(",").toLocaleLowerCase()})}},{key:"serialize",value:function(){return Nt.serialize(this,function(e){e.isLoading=!1})}},{key:"next",value:function(e){var t=this;return le(this._iid,function(e){var n=G.get(t._iid),r=n.GroupChannel,a=n.GroupChannelListQuery;!("number"==typeof t.limit&&t.limit>0&&"boolean"==typeof t.includeEmpty&&"string"==typeof t.order&&[a.ORDER_CHRONOLOGICAL,a.ORDER_LATEST_LAST_MESSAGE,a.CHANNEL_NAME_ALPHABETICAL,a.METADATA_VALUE_ALPHABETICAL].indexOf(t.order.toLowerCase())>-1&&Array.isArray(t._userIdsExactFilter)&&Array.isArray(t._userIdsIncludeFilter)&&Array.isArray(t.customTypesFilter)&&Array.isArray(t.channelUrlsFilter)&&Object.keys(a.QueryType).map(function(e){return a.QueryType[e]}).indexOf(t._userIdsIncludeFilterQueryType.toUpperCase())>-1&&Object.keys(r.MemberStateFilter).map(function(e){return r.MemberStateFilter[e]}).indexOf(t.memberStateFilter)>-1&&Object.keys(r.SuperChannelFilter).map(function(e){return r.SuperChannelFilter[e]}).indexOf(t.superChannelFilter)>-1&&Object.keys(r.PublicChannelFilter).map(function(e){return r.PublicChannelFilter[e]}).indexOf(t.publicChannelFilter)>-1&&Object.keys(r.UnreadChannelFilter).map(function(e){return r.UnreadChannelFilter[e]}).indexOf(t.unreadChannelFilter)>-1&&Object.keys(r.HiddenChannelFilter).map(function(e){return r.HiddenChannelFilter[e]}).indexOf(t.hiddenChannelFilter)>-1)||"string"!=typeof t.customTypeStartsWithFilter&&null!==t.customTypeStartsWithFilter||"string"!=typeof t.nicknameContainsFilter||"string"!=typeof t.channelNameContainsFilter||"string"!=typeof t.metadataOrderKeyFilter&&null!==t.metadataOrderKeyFilter||"string"!=typeof t.metadataKey&&null!==t.metadataKey||!Array.isArray(t.metadataValues)||!t.metadataValues.every(function(e){return"string"==typeof e})||"string"!=typeof t.metadataValueStartsWith&&null!==t.metadataValueStartsWith||"boolean"!=typeof t.includeFrozen||"boolean"!=typeof t.includeMetaData?e(me.error,null):t.isLoading?e(new F("Query in progress.",F.QUERY_IN_PROGRESS),null):t.hasNext?(t.isLoading=!0,R.get(t._iid).container.apiClient.loadGroupChannelList(d(d({},t),{},{token:t._token,userIdsFilter:t._userIdsFilter,searchFilter:t._searchFilter})).then(function(n){var r=G.get(t._iid).GroupChannel,a=String(n.next);t._token=a,t.hasNext=!!a;var i=n.channels;if(!i||!Array.isArray(i))throw new F("Failed at loading group channels.",F.MALFORMED_DATA);var s=i.map(function(e){return"number"==typeof n.ts&&(e.ts=n.ts),r.upsert(e)});t.isLoading=!1,e(null,s)}).catch(function(n){t.isLoading=!1,e(n,null)})):e(null,[])},e)}}],[{key:"ORDER_LATEST_LAST_MESSAGE",get:function(){return"latest_last_message"}},{key:"ORDER_CHRONOLOGICAL",get:function(){return"chronological"}},{key:"CHANNEL_NAME_ALPHABETICAL",get:function(){return"channel_name_alphabetical"}},{key:"METADATA_VALUE_ALPHABETICAL",get:function(){return"metadata_value_alphabetical"}},{key:"QueryType",get:function(){return{AND:"AND",OR:"OR"}}},{key:"SearchField",get:function(){return{MEMBER_NICKNAME:"member_nickname",CHANNEL_NAME:"channel_name"}}},{key:"buildFromSerializedData",value:function(e){var t=G.get(this._iid).GroupChannel,n=Nt.deserialize(e),r=t.createMyGroupChannelListQuery();return Object.keys(n).forEach(function(e){r.hasOwnProperty(e)&&(r[e]=n[e])}),r}}]),e}(),xr=function(){function e(t){h(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this.mutedMemberFilter=e.MutedMemberFilter.ALL,this.memberStateFilter=or.MemberStateFilter.ALL,this.nicknameStartsWithFilter=null,this.order=e.Order.MEMBER_NICKNAME_ALPHABETICAL,this._token="",this._channelUrl=t}return m(e,[{key:"next",value:function(e){var t=this;return le(this._iid,function(e){var n=G.get(t._iid),r=n.GroupChannel,a=n.Member,i=n.MemberListQuery;"number"==typeof t.limit&&t.limit>0&&Object.keys(i.MutedMemberFilter).map(function(e){return i.MutedMemberFilter[e]}).indexOf(t.mutedMemberFilter)>-1&&Object.keys(r.MemberStateFilter).map(function(e){return r.MemberStateFilter[e]}).indexOf(t.memberStateFilter)>-1&&Object.keys(i.Order).map(function(e){return i.Order[e]}).indexOf(t.order)>-1&&("string"==typeof t.nicknameStartsWithFilter||null===t.nicknameStartsWithFilter)?t.isLoading?e(new F("Query in progress.",F.QUERY_IN_PROGRESS),null):t.hasNext?(t.isLoading=!0,R.get(t._iid).container.apiClient.loadMemberList(d(d({},t),{},{channelUrl:t._channelUrl,token:t._token}),function(n,r){var i=null;if(!n){var s=String(r.next);t._token=s,t.hasNext=!!s,i=r.members.map(function(e){return new a(e)})}t.isLoading=!1,e(n,i)})):e(null,[]):e(me.error,null)},e)}}],[{key:"MutedMemberFilter",get:function(){return{ALL:"all",MUTED:"muted",UNMUTED:"unmuted"}}},{key:"Order",get:function(){return{MEMBER_NICKNAME_ALPHABETICAL:"member_nickname_alphabetical",OPERATOR_THEN_MEMBER_ALPHABETICAL:"operator_then_member_alphabetical"}}}]),e}(),Fr=function(){function e(t){h(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this._token="",t.channelUrl&&(this._channelUrl=t.channelUrl),t.isOpenChannel&&(this._isOpenChannel=t.isOpenChannel)}return m(e,[{key:"next",value:function(e){var t=this;return le(this._iid,function(e){"number"==typeof t.limit&&t.limit>0?t.isLoading?e(new F("Query in progress.",F.QUERY_IN_PROGRESS),null):t.hasNext?(t.isLoading=!0,R.get(t._iid).container.apiClient.loadMutedUserList(d(d({},t),{},{channelUrl:t._channelUrl,isOpenChannel:t._isOpenChannel,token:t._token}),function(n,r){var a=null;if(!n){var i=G.get(t._iid).RestrictedUser,s=String(r.next);t._token=s,t.hasNext=!!s,a=r.muted_list.map(function(e){var t=new i(e);return t.restrictionInfo.restrictionType=i.RestrictionType.MUTED,t})}t.isLoading=!1,e(n,a)})):e(null,[]):e(me.error,null)},e)}}]),e}(),jr=function(){function e(){h(this,e),this.limit=20,this.isLoading=!1,this.hasNext=!0,this.nameKeyword=null,this.urlKeyword=null,this.customTypes=[],this.includeFrozen=!0,this.includeMetaData=!0}return m(e,[{key:"next",value:function(e){var t=this;return le(this._iid,function(e){!("number"==typeof t.limit&&t.limit>0&&Array.isArray(t.customTypes))||"string"!=typeof t.nameKeyword&&null!==t.nameKeyword||"string"!=typeof t.urlKeyword&&null!==t.urlKeyword||"boolean"!=typeof t.includeFrozen||"boolean"!=typeof t.includeMetaData?e(me.error,null):t.isLoading?e(new F("Query in progress.",F.QUERY_IN_PROGRESS),null):t.hasNext?(t.isLoading=!0,R.get(t._iid).container.apiClient.loadOpenChannelList(d(d({},t),{},{token:t._token}),function(n,r){var a=null;if(!n){var i=G.get(t._iid).OpenChannel,s=String(r.next);t._token=s,t.hasNext=!!s;var o=r.channels;o&&Array.isArray(o)?a=o.map(function(e){return"number"==typeof r.ts&&(e.ts=r.ts),i.upsert(e)}):n=new F("Failed at loading open channels.",F.MALFORMED_DATA)}t.isLoading=!1,e(n,a)})):e(null,[])},e)}}]),e}(),Hr=new WeakMap,Gr=function(){function e(t){h(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this._token="",Hr.set(this,t)}return m(e,[{key:"next",value:function(e){var t=this;return le(this._iid,function(e){if("number"==typeof t.limit&&t.limit>0)if(t.isLoading)e(new F("Query in progress.",F.QUERY_IN_PROGRESS),null);else if(t.hasNext){t.isLoading=!0;var n=Hr.get(t);R.get(t._iid).container.apiClient.loadOperatorList(d(d({},t),{},{token:t._token,channelUrl:n.url,isOpenChannel:n.isOpenChannel()}),function(n,r){var a=null;if(!n){var i=G.get(t._iid).User,s=String(r.next);t._token=s,t.hasNext=!!s,a=r.operators.map(function(e){return new i(e)})}t.isLoading=!1,e(n,a)})}else e(null,[]);else e(me.error,null)},e)}}]),e}(),Br=new WeakMap,zr=function(){function e(t){h(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this._token="",t&&Br.set(this,t.channelUrl)}return m(e,[{key:"next",value:function(e){var t=this;return le(this._iid,function(e){"number"==typeof t.limit&&t.limit>0?t.isLoading?e(new F("Query in progress.",F.QUERY_IN_PROGRESS),null):t.hasNext?(t.isLoading=!0,R.get(t._iid).container.apiClient.loadParticipantList(d(d({},t),{},{channelUrl:Br.get(t),token:t._token}),function(n,r){var a=null;if(!n){var i=G.get(t._iid).User,s=String(r.next);t._token=s,t.hasNext=!!s,a=r.participants.map(function(e){return new i(e)})}t.isLoading=!1,e(n,a)})):e(null,[]):e(me.error,null)},e)}}]),e}(),Vr=new WeakMap,qr=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.limit,a=void 0===r?20:r,i=n.reverse,s=void 0!==i&&i,o=n.exactMatch,l=void 0!==o&&o,u=n.channelUrl,c=void 0===u?"":u,d=n.channelCustomType,f=void 0===d?"":d,p=n.messageTimestampFrom,m=void 0===p?null:p,g=n.messageTimestampTo,y=void 0===g?null:g,_=n.order,v=void 0===_?"score":_,E=n.advancedQuery,b=void 0!==E&&E,C=n.targetFields,N=void 0===C?null:C;h(this,e),this.isLoading=!1,this.hasNext=!0,Vr.set(this,{keyword:t,limit:a,reverse:s,exactMatch:l,channelUrl:c,channelCustomType:f,messageTimestampFrom:m,messageTimestampTo:y,order:v,advancedQuery:b,targetFields:N,previousToken:"",nextToken:""})}return m(e,[{key:"key",get:function(){return Vr.get(this).keyword}},{key:"limit",get:function(){return Vr.get(this).limit}},{key:"reverse",get:function(){return Vr.get(this).reverse}},{key:"exactMatch",get:function(){return Vr.get(this).exactMatch}},{key:"channelUrl",get:function(){return Vr.get(this).channelUrl}},{key:"channelCustomType",get:function(){return Vr.get(this).channelCustomType}},{key:"messageTimestampFrom",get:function(){return Vr.get(this).messageTimestampFrom}},{key:"messageTimestampTo",get:function(){return Vr.get(this).messageTimestampTo}},{key:"order",get:function(){return Vr.get(this).order}},{key:"next",value:function(e){var t=this,n=G.get(this._iid),r=n.BaseChannel,a=n.GroupChannel,i=n.OpenChannel;return le(this._iid,function(e){var n=Vr.get(t),s=n.keyword,o=n.limit,l=n.reverse,u=n.exactMatch,c=n.channelUrl,d=n.channelCustomType,f=n.messageTimestampFrom,h=n.messageTimestampTo,p=n.order,m=n.advancedQuery,g=n.targetFields,y=n.nextToken;!("number"==typeof o&&o>0&&o<=1e3&&"boolean"==typeof l&&"boolean"==typeof u)||"string"!=typeof c&&null!==c||"string"!=typeof d&&null!==d||"number"!=typeof f&&null!==f||"number"!=typeof h&&null!==h||!(["score","ts"].indexOf(p)>=0)||"boolean"!=typeof m&&null!==m||!Array.isArray(g)&&null!==g?e(me.error,null):t.isLoading?e(new F("Query in progress.",F.QUERY_IN_PROGRESS),null):t.hasNext?(t.isLoading=!0,R.get(t._iid).container.apiClient.searchMessages({keyword:s,limit:o,reverse:l,exactMatch:u,channelUrl:c,channelCustomType:d,messageTimestampFrom:f,messageTimestampTo:h,order:p,advancedQuery:m,targetFields:g,nextToken:y},function(n,s){var o=null;n||(o=[],s.results.forEach(function(e){if(e.channel.hasOwnProperty("members")){var t=new a(e.channel);a.cachedChannels[t.url]=t,o.push(r.buildMessage(e,t))}else{var n=new i(e.channel);i.cachedChannels[n.url]=n,o.push(r.buildMessage(e,n))}}),t.hasNext=s.has_next,Vr.get(t).nextToken=s.end_cursor),t.isLoading=!1,e(n,o)})):e(null,[])},e)}}]),e}(),Yr=new WeakMap,Kr=new WeakMap,Wr=function(){function e(t){h(this,e),this.isLoading=!1,this.hasMore=!0,this.limit=20,Kr.set(this,Number.MAX_SAFE_INTEGER),Yr.set(this,t),this.reverse=!1,this.messageTypeFilter=null,this.customTypeFilter=null,this.customTypesFilter=[],this.senderUserIdsFilter=[],this.includeMetaArray=!1,this.includeReaction=null,this.includeReactions=null,this.includeReplies=null,this.includeParentMessageText=null,this.includeThreadInfo=!1,this.replyType=null,this.includeParentMessageInfo=null,this.showSubchannelMessagesOnly=!1,this.includePollDetails=!1}return m(e,[{key:"load",value:function(e,t,n,r){var a=this,i=G.get(this._iid),s=i.BaseChannel,o=i.BaseMessage,l=null,u=me.parse(arguments,[new me({type:"number",optional:!0,defaultValue:this.limit}),new me({type:"boolean",optional:!0,defaultValue:this.reverse}),new me({type:["string","number"],optional:!0,defaultValue:this.messageTypeFilter,constraint:function(e){return Object.keys(s.MessageTypeFilter).map(function(e){return s.MessageTypeFilter[e]}).indexOf(e)>-1||[0,1,2,3].indexOf(e)>-1}}),new me({type:"callback"})]),c=N(u,5);return l=c[0],e=c[1],t=c[2],n=c[3],r=c[4],le(this._iid,function(r){if(("string"!=typeof a.customTypeFilter&&null!==a.customTypeFilter||!Array.isArray(a.customTypesFilter)||!a.customTypesFilter.every(function(e){return"string"==typeof e||null===e})||!Array.isArray(a.senderUserIdsFilter)||!a.senderUserIdsFilter.every(function(e){return"string"==typeof e})||"boolean"!=typeof a.includeMetaArray||null!==a.includeReaction&&"boolean"!=typeof a.includeReaction||null!==a.includeReactions&&"boolean"!=typeof a.includeReactions||"boolean"!=typeof a.includeThreadInfo||null!==a.includeReplies&&"boolean"!=typeof a.includeReplies||!(null===a.replyType||"string"==typeof a.replyType&&Object.values(o.ReplyType).includes(a.replyType))||null!==a.includeParentMessageText&&"boolean"!=typeof a.includeParentMessageText||null!==a.includeParentMessageInfo&&"boolean"!=typeof a.includeParentMessageInfo||"boolean"!=typeof a.showSubchannelMessagesOnly)&&(l=me.error),l)r(l,null);else{if(a.limit=e,a.reverse=t,a.messageTypeFilter=n,"number"==typeof a.messageTypeFilter)switch(a.messageTypeFilter){case 0:a.messageTypeFilter=s.MessageTypeFilter.ALL;break;case 1:a.messageTypeFilter=s.MessageTypeFilter.USER;break;case 2:a.messageTypeFilter=s.MessageTypeFilter.FILE;break;case 3:a.messageTypeFilter=s.MessageTypeFilter.ADMIN}if(a.isLoading)r(new F("Query in progress.",F.QUERY_IN_PROGRESS),null);else if(a.hasMore){a.isLoading=!0;var i=Yr.get(a);R.get(a._iid).container.apiClient.getMessageList({channel:i,token:Kr.get(a)||(new Date).getTime()+1e4,tokenType:"timestamp",isInclusive:!1,prevResultSize:e,nextResultSize:0,shouldReverse:t,messageType:a.messageTypeFilter,customType:a.customTypeFilter,customTypes:a.customTypesFilter,senderUserIds:a.senderUserIdsFilter,includeMetaArray:a.includeMetaArray,includeReaction:a.includeReaction,includeReactions:a.includeReactions,includeReplies:a.includeReplies,includeParentMessageText:a.includeParentMessageText,includeThreadInfo:a.includeThreadInfo,replyType:a.replyType,includeParentMessageInfo:a.includeParentMessageInfo,showSubchannelMessagesOnly:a.showSubchannelMessagesOnly,includePollDetails:a.includePollDetails}).then(function(t){var n=t.messages.map(function(e){return s.buildMessage(e,i)});(0===n.length||n.length<e)&&(a.hasMore=!1);var o=Kr.get(a);Kr.set(a,Math.min.apply(Math,S(n.map(function(e){return e.createdAt})).concat([o]))),a.isLoading=!1,r(null,n)}).catch(function(e){a.isLoading=!1,r(e,null)})}else r(null,[])}},r)}}]),e}(),Qr=function(){function e(){h(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this.includeEmpty=!1,this.order=Dr.ORDER_LATEST_LAST_MESSAGE,this._token="",this.channelNameContainsFilter="",this.channelUrlsFilter=[],this.customTypesFilter=[],this.customTypeStartsWithFilter=null,this.superChannelFilter=or.SuperChannelFilter.ALL,this.membershipFilter=e.MembershipType.JOINED,this.metadataOrderKeyFilter=null,this.metadataKey=null,this.metadataValues=[],this.metadataValueStartsWith=null,this.includeFrozen=!0,this.includeMetaData=!0}return m(e,[{key:"next",value:function(t){var n=this;return le(this._iid,function(t){var r=G.get(n._iid).GroupChannel;!("number"==typeof n.limit&&n.limit>0&&"boolean"==typeof n.includeEmpty&&"string"==typeof n.order&&[e.ORDER_CHRONOLOGICAL,e.CHANNEL_NAME_ALPHABETICAL,e.METADATA_VALUE_ALPHABETICAL,e.ORDER_LATEST_LAST_MESSAGE].indexOf(n.order.toLowerCase())>-1&&Array.isArray(n.customTypesFilter)&&Array.isArray(n.channelUrlsFilter)&&Object.keys(e.MembershipType).map(function(t){return e.MembershipType[t]}).indexOf(n.membershipFilter)>-1&&Object.keys(r.SuperChannelFilter).map(function(e){return r.SuperChannelFilter[e]}).indexOf(n.superChannelFilter)>-1)||"string"!=typeof n.customTypeStartsWithFilter&&null!==n.customTypeStartsWithFilter||"string"!=typeof n.channelNameContainsFilter||"string"!=typeof n.metadataOrderKeyFilter&&null!==n.metadataOrderKeyFilter||"string"!=typeof n.metadataKey&&null!==n.metadataKey||!Array.isArray(n.metadataValues)||!n.metadataValues.every(function(e){return"string"==typeof e})||"string"!=typeof n.metadataValueStartsWith&&null!==n.metadataValueStartsWith||"boolean"!=typeof n.includeFrozen||"boolean"!=typeof n.includeMetaData?t(me.error,null):n.isLoading?t(new F("Query in progress.",F.QUERY_IN_PROGRESS),null):n.hasNext?(n.isLoading=!0,R.get(n._iid).container.apiClient.loadPublicGroupChannelList(d(d({},n),{},{token:n._token}),function(e,a){var i=null;if(!e){var s=String(a.next);n._token=s,n.hasNext=!!s;var o=a.channels;o&&Array.isArray(o)?i=o.map(function(e){return"number"==typeof a.ts&&(e.ts=a.ts),r.upsert(e)}):e=new F("Failed at loading group channels.",F.MALFORMED_DATA)}n.isLoading=!1,t(e,i)})):t(null,[])},t)}}],[{key:"MembershipType",get:function(){return{ALL:"all",JOINED:"joined"}}},{key:"ORDER_LATEST_LAST_MESSAGE",get:function(){return"latest_last_message"}},{key:"ORDER_CHRONOLOGICAL",get:function(){return"chronological"}},{key:"CHANNEL_NAME_ALPHABETICAL",get:function(){return"channel_name_alphabetical"}},{key:"METADATA_VALUE_ALPHABETICAL",get:function(){return"metadata_value_alphabetical"}}]),e}(),Jr=new WeakMap,$r=new WeakMap,Xr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.channelUrl,r=void 0===n?null:n,a=t.token,i=void 0===a?"":a,s=t.limit,o=void 0===s?20:s;h(this,e),this.channelUrl=r,this.token=i,this.limit=o,Jr.set(this,!1),$r.set(this,!0)}return m(e,[{key:"isLoading",get:function(){return!!Jr.get(this)}},{key:"hasNext",get:function(){return!!$r.get(this)}},{key:"next",value:function(e){var t=this;return le(this._iid,function(e){"string"==typeof t.channelUrl&&"number"==typeof t.limit&&t.limit>0&&t.limit<=100?t.isLoading?e(new F("Query in progress.",F.QUERY_IN_PROGRESS),null):t.hasNext?(Jr.set(t,!0),R.get(t._iid).container.apiClient.getPollList(d({},t),function(n,r){if(n)Jr.set(t,!1),e(n,null);else{var a=G.get(t._iid).Poll,i=r.hasOwnProperty("polls")&&Array.isArray(r.polls)?r.polls.map(function(e){return new a(e)}):[],s=r.hasOwnProperty("next")&&r.next?String(r.next):"";t.token=s,Jr.set(t,!1),$r.set(t,!!s),e(null,i)}})):e(null,[]):e(me.error,null)},e)}}]),e}(),Zr=new WeakMap,ea=new WeakMap,ta=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.channelUrl,r=void 0===n?null:n,a=t.pollId,i=void 0===a?null:a,s=t.optionId,o=void 0===s?null:s,l=t.token,u=void 0===l?"":l,c=t.limit,d=void 0===c?100:c;h(this,e),this.channelUrl=r,this.pollId=i,this.optionId=o,this.token=u,this.limit=d,Zr.set(this,!1),ea.set(this,!0)}return m(e,[{key:"isLoading",get:function(){return!!Zr.get(this)}},{key:"hasNext",get:function(){return!!ea.get(this)}},{key:"next",value:function(e){var t=this;return le(this._iid,function(e){"string"==typeof t.channelUrl&&"number"==typeof t.pollId&&"number"==typeof t.optionId&&"number"==typeof t.limit&&t.limit>0&&t.limit<=100?t.isLoading?e(new F("Query in progress.",F.QUERY_IN_PROGRESS),null):t.hasNext?(Zr.set(t,!0),R.get(t._iid).container.apiClient.getPollOptionVoterList(d({},t),function(n,r){if(n)Zr.set(t,!1),e(n,null);else{var a=G.get(t._iid).User,i=r.hasOwnProperty("voters")&&Array.isArray(r.voters)?r.voters.map(function(e){return new a(e)}):[],s=r.hasOwnProperty("next")&&r.next?String(r.next):"";t.token=s,Zr.set(t,!1),ea.set(t,!!s),e(null,i)}})):e(null,[]):e(me.error,null)},e)}}]),e}(),na=function(){function e(){h(this,e),this.isDistinct=null,this.isSuper=null,this.isBroadcast=null,this.isPublic=null,this.channelUrl=null,this.isEphemeral=null,this.isDiscoverable=null,this.isStrict=null,this.name=null,this.data=null,this.customType=null,this.channelCover=null,this.coverUrl=null,this.coverImage=null,this.accessCode=null,this.messageSurvivalSeconds=null,this._invitedUserIds=[];var t=null;Object.defineProperty(this,"operators",{set:function(e){Array.isArray(e)&&e.filter(function(e){return e.hasOwnProperty("userId")}).length===e.length&&(t=e.map(function(e){return e.userId}))}}),Object.defineProperty(this,"operatorUserIds",{get:function(){return t},set:function(e){Array.isArray(e)&&e.filter(function(e){return"string"==typeof e}).length===e.length&&(t=e)}})}return m(e,[{key:"_validate",value:function(){return Array.isArray(this._invitedUserIds)&&this._invitedUserIds.every(function(e){return"string"==typeof e})&&("string"==typeof this.channelUrl||null===this.channelUrl)&&("string"==typeof this.coverUrl||null===this.coverUrl)&&(ie.isFile(this.coverImage)||null===this.coverImage)&&("string"==typeof this.name||null===this.name)&&("string"==typeof this.data||null===this.data)&&("string"==typeof this.customType||null===this.customType)&&("boolean"==typeof this.isDistinct||null===this.isDistinct)&&("boolean"==typeof this.isSuper||null===this.isSuper)&&("boolean"==typeof this.isBroadcast||null===this.isBroadcast)&&("boolean"==typeof this.isPublic||null===this.isPublic)&&("boolean"==typeof this.isEphemeral||null===this.isEphemeral)&&("boolean"==typeof this.isDiscoverable||null===this.isDiscoverable)&&("boolean"==typeof this.isStrict||null===this.isStrict)&&(Array.isArray(this.operatorUserIds)&&this.operatorUserIds.every(function(e){return"string"==typeof e})||null===this.operatorUserIds)&&("string"==typeof this.accessCode||null===this.accessCode)&&("number"==typeof this.messageSurvivalSeconds||null===this.messageSurvivalSeconds)}},{key:"addUsers",value:function(e){if(Array.isArray(e)){var t,n=e.filter(function(e){return e.hasOwnProperty("userId")&&"string"==typeof e.userId}).map(function(e){return e.userId});(t=this._invitedUserIds).push.apply(t,S(n))}}},{key:"addUser",value:function(e){e.hasOwnProperty("userId")&&"string"==typeof e.userId&&this._invitedUserIds.push(e.userId)}},{key:"addUserIds",value:function(e){if(Array.isArray(e)){var t,n=e.filter(function(e){return"string"==typeof e});(t=this._invitedUserIds).push.apply(t,S(n))}}},{key:"addUserId",value:function(e){"string"==typeof e&&this._invitedUserIds.push(e)}}]),e}(),ra=function(){function e(){h(this,e),this.channelUrl=null,this.name=null,this.coverUrlOrImage=null,this.data=null,this.customType=null,this._operatorUserIds=[]}return m(e,[{key:"operatorUserIds",get:function(){return this._operatorUserIds},set:function(e){Array.isArray(e)&&e.every(function(e){return"string"==typeof e})&&(this._operatorUserIds=e)}},{key:"operators",set:function(e){Array.isArray(e)&&e.every(function(e){return e.hasOwnProperty("userId")})&&(this._operatorUserIds=e.map(function(e){return e.userId}))}},{key:"_validate",value:function(){return(Array.isArray(this.operatorUserIds)&&this.operatorUserIds.every(function(e){return"string"==typeof e})||null===this.operatorUserIds)&&("string"==typeof this.coverUrlOrImage||ie.isFile(this.coverUrlOrImage)||null===this.coverUrlOrImage)&&("string"==typeof this.name||null===this.name)&&("string"==typeof this.data||null===this.data)&&("string"==typeof this.customType||null===this.customType)&&("string"==typeof this.channelUrl&&/^\w+$/.test(this.channelUrl)||null===this.channelUrl)}}]),e}(),aa=function(e){y(n,e);var t=b(n);function n(e){var r;return h(this,n),(r=t.call(this)).year=null,r.month=null,r.day=null,r.hour=null,r.min=null,r.timezone=null,r._scheduledDateTimeString=null,e&&r._update(e),r}return m(n,[{key:"scheduledDateTimeString",get:function(){return this._scheduledDateTimeString?this._scheduledDateTimeString:"number"==typeof this.year&&4===this.year.toString().length&&"number"==typeof this.month&&this.month>=1&&this.month<=12&&"number"==typeof this.day&&this.day>=1&&this.day<=31&&"number"==typeof this.hour&&this.hour>=0&&this.hour<=24&&"number"==typeof this.min&&this.min>=0&&this.min<=60&&"string"==typeof this.timezone&&this.timezone.length>0?this.year.toString()+"-"+("0"+this.month.toString()).substr(-2)+"-"+("0"+this.day.toString()).substr(-2)+" "+("0"+this.hour.toString()).substr(-2)+":"+("0"+this.min.toString()).substr(-2):null},set:function(e){e&&"string"==typeof e&&(this._scheduledDateTimeString=e)}},{key:"_update",value:function(e){e.hasOwnProperty("message")&&(this.message=e.message),e.hasOwnProperty("year")&&(this.year=e.year),e.hasOwnProperty("month")&&(this.month=e.month),e.hasOwnProperty("day")&&(this.day=e.day),e.hasOwnProperty("hour")&&(this.hour=e.hour),e.hasOwnProperty("min")&&(this.min=e.min),e.hasOwnProperty("timezone")&&(this.timezone=e.timezone)}},{key:"_getScheduleString",value:function(){return this.scheduledDateTimeString?this.scheduledDateTimeString+" "+this.timezone:"number"==typeof this.year&&4===this.year.toString().length&&"number"==typeof this.month&&this.month>=1&&this.month<=12&&"number"==typeof this.day&&this.day>=1&&this.day<=31&&"number"==typeof this.hour&&this.hour>=0&&this.hour<=24&&"number"==typeof this.min&&this.min>=0&&this.min<=60&&"string"==typeof this.timezone&&this.timezone.length>0?this.year.toString()+"-"+("0"+this.month.toString()).substr(-2)+"-"+("0"+this.day.toString()).substr(-2)+" "+("0"+this.hour.toString()).substr(-2)+":"+("0"+this.min.toString()).substr(-2)+" "+this.timezone:null}},{key:"setSchedule",value:function(e,t,n,r,a,i){"number"==typeof e&&4===e.toString().length&&"number"==typeof t&&t>=1&&t<=12&&"number"==typeof n&&n>=1&&n<=31&&"number"==typeof r&&r>=0&&r<=24&&"number"==typeof a&&a>=0&&a<=60&&"string"==typeof i&&i.length>0&&(this.scheduledDateTimeString=e.toString()+"-"+("0"+t.toString()).substr(-2)+"-"+("0"+n.toString()).substr(-2)+" "+("0"+r.toString()).substr(-2)+":"+("0"+a.toString()).substr(-2),this.timezone=i)}}]),n}(Nr),ia=m(function e(){h(this,e),this.channelCustomTypesFilter=[],this.superChannelFilter=or.SuperChannelFilter.ALL}),sa=function(e){y(n,e);var t=b(n);function n(){return h(this,n),t.call(this)}return m(n)}(ia),oa=function(e){y(n,e);var t=b(n);function n(){return h(this,n),t.call(this)}return m(n)}(ia),la=function(){function e(){h(this,e),this.channelUrl=null,this.channelType=null,this.messageId=0,this.includeMetaArray=!1,this.includeReactions=!1,this.includeParentMessageText=null,this.includeThreadInfo=!1,this.includeParentMessageInfo=null,this.includePollDetails=!1}return m(e,[{key:"_validate",value:function(){var e=G.get(this._iid).BaseChannel;return"string"==typeof this.channelUrl&&"string"==typeof this.channelType&&[e.CHANNEL_TYPE_BASE,e.CHANNEL_TYPE_OPEN,e.CHANNEL_TYPE_GROUP].includes(this.channelType)&&"number"==typeof this.messageId&&"boolean"==typeof this.includeMetaArray&&"boolean"==typeof this.includeReactions&&"boolean"==typeof this.includeThreadInfo&&(null===this.includeParentMessageText||"boolean"==typeof this.includeParentMessageText)&&(null===this.includeParentMessageInfo||"boolean"==typeof this.includeParentMessageInfo)&&"boolean"==typeof this.includePollDetails}}]),e}(),ua=function(){function e(){h(this,e);var t=G.get(this._iid).BaseChannel;this.prevResultSize=0,this.nextResultSize=0,this.isInclusive=!1,this.reverse=!1,this.messageType=t.MessageTypeFilter.ALL,this.customType=null,this.customTypes=[],this.senderUserIds=null,this.includeMetaArray=!1,this.includeReaction=null,this.includeReactions=null,this.includeReplies=null,this.includeParentMessageText=null,this.includeThreadInfo=!1,this.replyType=null,this.includeParentMessageInfo=null,this.showSubchannelMessagesOnly=!1,this.includePollDetails=!1}return m(e,[{key:"_validate",value:function(){var e=G.get(this._iid),t=e.BaseChannel,n=e.BaseMessage;return"number"==typeof this.prevResultSize&&"number"==typeof this.nextResultSize&&"boolean"==typeof this.isInclusive&&"boolean"==typeof this.reverse&&"string"==typeof this.messageType&&Object.values(t.MessageTypeFilter).includes(this.messageType)&&("string"==typeof this.customType||null===this.customType)&&Array.isArray(this.customTypes)&&this.customTypes.every(function(e){return"string"==typeof e||null===e})&&(Array.isArray(this.senderUserIds)&&this.senderUserIds.every(function(e){return"string"==typeof e})||null===this.senderUserIds)&&"boolean"==typeof this.includeMetaArray&&(null===this.includeReaction||"boolean"==typeof this.includeReaction)&&(null===this.includeReactions||"boolean"==typeof this.includeReactions)&&"boolean"==typeof this.includeThreadInfo&&(null===this.includeReplies||"boolean"==typeof this.includeReplies)&&(null===this.replyType||"string"==typeof this.replyType&&Object.values(n.ReplyType).includes(this.replyType))&&(null===this.includeParentMessageText||"boolean"==typeof this.includeParentMessageText)&&(null===this.includeParentMessageInfo||"boolean"==typeof this.includeParentMessageInfo)&&"boolean"==typeof this.showSubchannelMessagesOnly&&"boolean"==typeof this.includePollDetails}},{key:"belongsTo",value:function(e){var t=G.get(this._iid),n=t.BaseChannel,r=t.UserMessageParams,a=t.FileMessageParams,i=t.BaseMessage;if(this.messageType!==n.MessageTypeFilter.ALL){if(e instanceof r&&this.messageType!==n.MessageTypeFilter.USER)return!1;if(e instanceof a&&this.messageType!==n.MessageTypeFilter.FILE)return!1}if(Array.isArray(this.customTypes)&&this.customTypes.length>0&&!this.customTypes.includes(e.customType))return!1;if("string"==typeof this.customType&&this.customType!==e.customType)return!1;if(Array.isArray(this.senderUserIds)&&this.senderUserIds.length>0){var s=Ba.getInstance(e._iid);if(!s||!s.currentUser||!this.senderUserIds.includes(s.currentUser.userId))return!1}if("string"==typeof this.replyType&&e.parentMessageId){if(this.replyType===i.ReplyType.NONE)return!1;if(this.replyType===i.ReplyType.ONLY_REPLY_TO_CHANNEL&&!e.isReplyToChannel)return!1}else if(!1===this.includeReplies&&e.parentMessageId)return!1;return!0}}]),e}(),ca=function(){function e(){h(this,e);var t=G.get(this._iid).BaseChannel;this.prevResultSize=0,this.nextResultSize=0,this.isInclusive=!1,this.reverse=!1,this.messageType=t.MessageTypeFilter.ALL,this.customType=null,this.customTypes=[],this.senderUserIds=null,this.includeMetaArray=!1,this.includeReaction=null,this.includeReactions=null,this.includeParentMessageText=null,this.includeParentMessageInfo=null,this.includePollDetails=!1}return m(e,[{key:"_validate",value:function(){var e=G.get(this._iid).BaseChannel;return"number"==typeof this.prevResultSize&&"number"==typeof this.nextResultSize&&"boolean"==typeof this.isInclusive&&"boolean"==typeof this.reverse&&"string"==typeof this.messageType&&Object.values(e.MessageTypeFilter).includes(this.messageType)&&("string"==typeof this.customType||null===this.customType)&&Array.isArray(this.customTypes)&&this.customTypes.every(function(e){return"string"==typeof e||null===e})&&(Array.isArray(this.senderUserIds)&&this.senderUserIds.every(function(e){return"string"==typeof e})||null===this.senderUserIds)&&"boolean"==typeof this.includeMetaArray&&(null===this.includeReaction||"boolean"==typeof this.includeReaction)&&(null===this.includeReactions||"boolean"==typeof this.includeReactions)&&(null===this.includeParentMessageText||"boolean"==typeof this.includeParentMessageText)&&(null===this.includeParentMessageInfo||"boolean"==typeof this.includeParentMessageInfo)&&"boolean"==typeof this.includePollDetails}}]),e}(),da=function(){function e(){h(this,e),this.includeMetaArray=!1,this.includeReaction=null,this.includeReactions=null,this.includeReplies=null,this.includeParentMessageText=null,this.includeThreadInfo=!1,this.replyType=null,this.includeParentMessageInfo=null,this.includePollDetails=!1}return m(e,[{key:"_validate",value:function(){return"boolean"==typeof this.includeMetaArray&&(null===this.includeReaction||"boolean"==typeof this.includeReaction)&&(null===this.includeReactions||"boolean"==typeof this.includeReactions)&&"boolean"==typeof this.includeThreadInfo&&(null===this.includeReplies||"boolean"==typeof this.includeReplies)&&(null===this.replyType||"string"==typeof this.replyType&&Object.values(BaseMessage.ReplyType).includes(this.replyType))&&(null===this.includeParentMessageText||"boolean"==typeof this.includeParentMessageText)&&(null===this.includeParentMessageInfo||"boolean"==typeof this.includeParentMessageInfo)&&"boolean"==typeof this.includePollDetails}}]),e}(),fa=function(){function e(){h(this,e),this.customTypes=[],this.includeEmpty=!1,this.includeFrozen=!0}return m(e,[{key:"_validate",value:function(){return(Array.isArray(this.customTypes)&&this.customTypes.every(function(e){return"string"==typeof e})||null===this.customTypes)&&("boolean"==typeof this.includeEmpty||null===this.includeEmpty)&&"boolean"==typeof this.includeFrozen}}]),e}(),ha=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.title,r=void 0===n?null:n,a=t.options,i=void 0===a?null:a,s=t.data,o=void 0===s?null:s,l=t.isAnonymous,u=void 0===l?null:l,c=t.allowUserSuggestion,d=void 0===c?null:c,f=t.allowMultipleVotes,p=void 0===f?null:f,m=t.closeAt,g=void 0===m?null:m;h(this,e),this.title=r,this.options=i,this.data=o,this.isAnonymous=u,this.allowUserSuggestion=d,this.allowMultipleVotes=p,this.closeAt=g}return m(e,[{key:"_validate",value:function(){return"string"==typeof this.title&&(Array.isArray(this.options)&&this.options.length>0&&this.options.every(function(e){return"string"==typeof e})||null===this.options)&&("string"==typeof this.data||null==this.data)&&("boolean"==typeof this.isAnonymous||null===this.isAnonymous)&&("boolean"==typeof this.allowUserSuggestion||null===this.allowUserSuggestion)&&("boolean"==typeof this.allowMultipleVotes||null===this.allowMultipleVotes)&&("number"==typeof this.closeAt||null===this.closeAt)}}]),e}(),pa=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.channelUrl,r=void 0===n?null:n,a=t.pollId,i=void 0===a?null:a,s=t.showPartialVoters,o=void 0!==s&&s;h(this,e),this.channelUrl=r,this.pollId=i,this.showPartialVoters=o}return m(e,[{key:"_validate",value:function(){return"string"==typeof this.channelUrl&&"number"==typeof this.pollId&&"boolean"==typeof this.showPartialVoters}}]),e}(),ma=function(){this.onReconnectStarted=function(){},this.onReconnectSucceeded=function(){},this.onReconnectFailed=function(){}},ga=function(){this.onFriendsDiscovered=function(){},this.onTotalUnreadMessageCountUpdated=function(){}},ya=m(function e(){h(this,e),this.onMessageReceived=function(e,t){},this.onMessageUpdated=function(e,t){},this.onMessageDeleted=function(e,t){},this.onReadReceiptUpdated=function(e){},this.onReactionUpdated=function(e,t){},this.onDeliveryReceiptUpdated=function(e){},this.onTypingStatusUpdated=function(e){},this.onUserJoined=function(e,t){},this.onUserLeft=function(e,t){},this.onOperatorUpdated=function(e,t){},this.onUserEntered=function(e,t){},this.onUserExited=function(e,t){},this.onUserMuted=function(e,t){},this.onUserUnmuted=function(e,t){},this.onUserBanned=function(e,t){},this.onUserUnbanned=function(e,t){},this.onChannelFrozen=function(e){},this.onChannelUnfrozen=function(e){},this.onChannelChanged=function(e){},this.onChannelDeleted=function(e,t){},this.onUserReceivedInvitation=function(e,t,n){},this.onUserDeclinedInvitation=function(e,t,n){},this.onMetaDataCreated=function(e,t){},this.onMetaDataUpdated=function(e,t){},this.onMetaDataDeleted=function(e,t){},this.onMetaCountersCreated=function(e,t){},this.onMetaCountersUpdated=function(e,t){},this.onMetaCountersDeleted=function(e,t){},this.onChannelHidden=function(e){},this.onMentionReceived=function(e,t){},this.onThreadInfoUpdated=function(e,t){},this.onChannelMemberCountChanged=function(e){},this.onChannelParticipantCountChanged=function(e){},this.onPollUpdated=function(e){},this.onPollVoted=function(e){}}),_a=m(function e(t){if(h(this,e),t){var n=G.get(this._iid),r=n.User,a=n.BaseChannel;this.reader=new r(t.user),this.timestamp=parseInt(t.ts),this.channelUrl=t.hasOwnProperty("channel_url")?String(t.channel_url):"",this.channelType=t.hasOwnProperty("channel_type")?String(t.channel_type):a.CHANNEL_TYPE_GROUP}}),va=function(){function e(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=0),this.key=e,this.userIds=t,this.updatedAt=n;for(var r={},a=0,i=this.userIds;a<i.length;a++)r[i[a]]=this.updatedAt;this._version=r}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this.userIds.length},enumerable:!1,configurable:!0}),e.createFromJson=function(e){var t=e.key,n=e.user_ids,r=e.updated_at;return"string"==typeof t&&t&&Array.isArray(n)&&n.length>0&&"number"==typeof r?new this(t,n,r):null},e.prototype.serialize=function(){return{key:this.key,user_ids:this.userIds,updated_at:this.updatedAt}},e.prototype._applyEvent=function(e){if(e.key===this.key&&(!this._version[e.userId]||this._version[e.userId]<e.updatedAt)){var t=this.userIds.indexOf(e.userId);switch(e.operation){case"add":t<0&&this.userIds.push(e.userId);break;case"delete":t>=0&&this.userIds.splice(t,1)}this._version[e.userId]=e.updatedAt}},e}(),Ea=function(){function e(e){this.replyCount=0,this.mostRepliedUsers=[],this.lastRepliedAt=0,this.updatedAt=0,e&&this._update(e)}return e.objectify=function(e){var t=G.get(this._iid).User,n=e.replyCount,r=void 0===n?0:n,a=e.mostRepliedUsers,i=void 0===a?[]:a,s=e.lastRepliedAt,o=void 0===s?0:s,l=e.updatedAt,u=void 0===l?0:l,c={};return c.reply_count=r,Array.isArray(i)&&i.every(function(e){return e instanceof t})&&(c.most_replies=i.map(function(e){return t.objectify(e)})),c.last_replied_at=o,c.updated_at=u,c},e.build=function(e,t,n,r){return this.objectify({replyCount:e,mostRepliedUsers:t,lastRepliedAt:n,updatedAt:r})},e.prototype._update=function(e){var t=G.get(this._iid).User;e.hasOwnProperty("reply_count")&&(this.replyCount=parseInt(e.reply_count)),e.hasOwnProperty("most_replies")&&Array.isArray(e.most_replies)&&e.most_replies.every(function(e){return"object"==typeof e})&&(this.mostRepliedUsers=e.most_replies.map(function(e){return new t(e)})),e.hasOwnProperty("last_replied_at")&&(this.lastRepliedAt=parseInt(e.last_replied_at)),e.hasOwnProperty("updated_at")&&(this.updatedAt=parseInt(e.updated_at))},e}(),ba=function(){function e(e){this.title=null,this.url=null,this.description=null,this.defaultImage=null,e&&this._update(e)}return e.objectify=function(e){var t=G.get(this._iid).OGImage,n=e.title,r=void 0===n?null:n,a=e.url,i=void 0===a?null:a,s=e.description,o=void 0===s?null:s,l=e.defaultImage,u=void 0===l?null:l,c={};return c["og:title"]=r,c["og:url"]=i,c["og:description"]=o,u&&(c["og:image"]=t.objectify(u)),c},e.prototype._update=function(e){var t=G.get(this._iid).OGImage;e.hasOwnProperty("og:title")&&(this.title=e["og:title"]),e.hasOwnProperty("og:url")&&(this.url=e["og:url"]),e.hasOwnProperty("og:description")&&(this.description=e["og:description"]),e.hasOwnProperty("og:image")&&(this.defaultImage=new t(e["og:image"]))},e}(),Ca=function(){function e(e){this.url=null,this.secureUrl=null,this.type=null,this.width=0,this.height=0,this.alt=null,e&&this._update(e)}return e.objectify=function(e){var t=e.url,n=void 0===t?null:t,r=e.secureUrl,a=void 0===r?null:r,i=e.type,s=void 0===i?null:i,o=e.width,l=void 0===o?0:o,u=e.height,c=void 0===u?0:u,d=e.alt,f=void 0===d?null:d,h={};return h.url=n,h.secure_url=a,h.type=s,h.width=l,h.height=c,h.alt=f,h},e.prototype._update=function(e){e.hasOwnProperty("url")&&(this.url=e.url),e.hasOwnProperty("secure_url")&&(this.secureUrl=e.secure_url),e.hasOwnProperty("type")&&(this.type=e.type),e.hasOwnProperty("width")&&(this.width=parseInt(e.width)),e.hasOwnProperty("height")&&(this.height=parseInt(e.height)),e.hasOwnProperty("alt")&&(this.alt=e.alt)},e}(),Na=function(){function e(e){this.type=null,this.vendor=null,this.detail={},e&&this._update(e)}return e.objectify=function(e){var t=e.type,n=void 0===t?"":t,r=e.vendor,a=void 0===r?"":r,i=e.detail,s=void 0===i?{}:i,o={};return o.type=n,o.vendor=a,o.detail=s,o},e.prototype._update=function(e){this.type=e.hasOwnProperty("type")?e.type:"",this.vendor=e.hasOwnProperty("vendor")?e.vendor:"",e.hasOwnProperty("detail")&&"object"==typeof e.detail&&!Array.isArray(e.detail)&&(this.detail=e.detail)},e}(),Sa=function(){function e(t){h(this,e),this.id=0,this.title="",this.details=null,this._update(t)}return m(e,[{key:"update",value:function(e,t){var n=this,r=G.get(this._iid),a=r.PollParams,i=null,s=me.parse(arguments,[new me({type:a,constraint:function(e){return e._validate()}}),new me({type:"callback"})]),o=N(s,3);return i=o[0],e=o[1],t=o[2],le(this._iid,function(t){if(i)t(i,null);else{var r={text:e.data};R.get(n._iid).container.apiClient.updatePoll(d(d({pollId:n.id},e),{},{data:r}),function(e,r){if(e)t(e,null);else{var a=new(0,G.get(n._iid).Poll)(r);t(null,a)}})}},t)}},{key:"delete",value:function(e){var t=this,n=null,r=me.parse(arguments,[new me({type:"callback"})]),a=N(r,2);return n=a[0],e=a[1],le(this._iid,function(e){n?e(n,null):R.get(t._iid).container.apiClient.deletePoll({pollId:t.id},function(t,n){e(t||null,null)})},e)}},{key:"addOption",value:function(e,t,n){var r=this,a=null,i=me.parse(arguments,[new me({type:"string"}),new me({type:"string"}),new me({type:"callback"})]),s=N(i,4);return a=s[0],e=s[1],t=s[2],n=s[3],le(this._iid,function(n){a?n(a,null):R.get(r._iid).container.apiClient.addPollOption({channelUrl:e,pollId:r.id,text:t},function(e,t){if(e)n(e,null);else{var a=new(0,G.get(r._iid).Poll)(t);n(null,a)}})},n)}},{key:"vote",value:function(e,t,n){var r=this,a=null,i=me.parse(arguments,[new me({type:"string"}),new me({type:"array",constraint:function(e){return e.every(function(e){return"number"==typeof e})}}),new me({type:"callback"})]),s=N(i,4);return a=s[0],e=s[1],t=s[2],n=s[3],le(this._iid,function(n){a?n(a,null):R.get(r._iid).container.apiClient.votePoll({channelUrl:e,pollId:r.id,optionIds:t},function(e,t){if(e)n(e,null);else{var a=new(0,G.get(r._iid).Poll)(t);n(null,a)}})},n)}},{key:"close",value:function(e){var t=this,n=null,r=me.parse(arguments,[new me({type:"callback"})]),a=N(r,2);return n=a[0],e=a[1],le(this._iid,function(e){n?e(n,null):R.get(t._iid).container.apiClient.closePoll({pollId:t.id},function(n,r){if(n)e(n,null);else{var a=new(0,G.get(t._iid).Poll)(r);e(null,a)}})},e)}},{key:"_update",value:function(e){var t=G.get(this._iid).PollDetails;this.id=parseInt(e.id),this.title=e.title,e.hasOwnProperty("options")&&e.hasOwnProperty("is_anonymous")&&e.hasOwnProperty("allow_user_suggestion")&&e.hasOwnProperty("allow_multiple_votes")&&e.hasOwnProperty("close_at")&&e.hasOwnProperty("voter_count")&&e.hasOwnProperty("status")&&e.hasOwnProperty("created_by")&&e.hasOwnProperty("created_at")&&e.hasOwnProperty("updated_at")&&(this.details=new t(e))}}],[{key:"Status",get:function(){return{OPEN:"open",CLOSED:"closed",REMOVED:"removed"}}},{key:"objectify",value:function(e){var t=G.get(this._iid).PollDetails,n=e.id,r=void 0===n?0:n,a=e.title,i=void 0===a?"":a,s=e.details,o=void 0===s?null:s,l=d({},o?t.objectify(o):{});return l.id=r,l.title=i,l}},{key:"get",value:function(e,t){var n=this,r=G.get(this._iid),a=r.PollRetrievalParams,i=null,s=me.parse(arguments,[new me({type:a,constraint:function(e){return e._validate()}}),new me({type:"callback"})]),o=N(s,3);return i=o[0],e=o[1],t=o[2],le(this._iid,function(t){i?t(i,null):R.get(n._iid).container.apiClient.getPoll(d({},e),function(e,r){if(e)t(e,null);else{var a=new(0,G.get(n._iid).Poll)(r);t(null,a)}})},t)}},{key:"create",value:function(e,t){var n=this,r=G.get(this._iid),a=r.PollParams,i=null,s=me.parse(arguments,[new me({type:a,constraint:function(e){return e._validate()}}),new me({type:"callback"})]),o=N(s,3);return i=o[0],e=o[1],t=o[2],le(this._iid,function(t){if(i)t(i,null);else{var r={text:e.data};R.get(n._iid).container.apiClient.createPoll(d(d({},e),{},{data:r}),function(e,r){if(e)t(e,null);else{var a=new(0,G.get(n._iid).Poll)(r);t(null,a)}})}},t)}}]),e}(),Ta=function(){function e(t){h(this,e),this.options=[],this.data=null,this.isAnonymous=!1,this.allowUserSuggestion=!1,this.allowMultipleVotes=!1,this.closeAt=-1,this.voterCount=0,this.votedOptionIds=[],this.status="",this.createdBy=null,this.createdAt=0,this.updatedAt=0,this._update(t)}return m(e,[{key:"_update",value:function(e){var t=G.get(this._iid).PollOption;e.hasOwnProperty("options")&&Array.isArray(e.options)&&(this.options=e.options.map(function(e){return new t(e)}));try{this.data=JSON.parse(e.data)}catch(t){this.data=e.data}this.isAnonymous=!!e.hasOwnProperty("is_anonymous")&&e.is_anonymous,this.allowUserSuggestion=!!e.hasOwnProperty("allow_user_suggestion")&&e.allow_user_suggestion,this.allowMultipleVotes=!!e.hasOwnProperty("allow_multiple_votes")&&e.allow_multiple_votes,this.closeAt=parseInt(e.close_at),this.voterCount=parseInt(e.voter_count),e.hasOwnProperty("voted_option_ids")&&Array.isArray(e.voted_option_ids)&&(this.votedOptionIds=e.voted_option_ids.map(function(e){return parseInt(e)})),this.status=e.status,this.createdBy=e.created_by,this.createdAt=parseInt(e.created_at),this.updatedAt=parseInt(e.updated_at)}}],[{key:"objectify",value:function(e){var t=G.get(this._iid).PollOption,n=e.options,r=void 0===n?[]:n,a=e.data,i=void 0===a?null:a,s=e.isAnonymous,o=void 0!==s&&s,l=e.allowUserSuggestion,u=void 0!==l&&l,c=e.allowMultipleVotes,d=void 0!==c&&c,f=e.closeAt,h=void 0===f?-1:f,p=e.voterCount,m=void 0===p?0:p,g=e.votedOptionIds,y=void 0===g?[]:g,_=e.status,v=void 0===_?"":_,E=e.createdBy,b=void 0===E?"":E,C=e.createdAt,N=void 0===C?0:C,S=e.updatedAt,T=void 0===S?0:S,O={};return O.options=r.map(function(e){return t.objectify(e)}),O.data=JSON.stringify(i),O.is_anonymous=o,O.allow_user_suggestion=u,O.allow_multiple_votes=d,O.close_at=h,O.voter_count=m,O.voted_option_ids=y,O.status=v,O.created_by=b,O.created_at=N,O.updated_at=T,O}}]),e}(),Oa=new WeakMap,wa=function(){function e(t){h(this,e),this.pollId=0,this.id=0,this.text="",this.voteCount=0,this.partialVoters=[],this.createdBy="",this.createdAt=0,this.updatedAt=0,Oa.set(this,null),this._update(t)}return m(e,[{key:"lastVotedAt",get:function(){return Oa.get(this)}},{key:"update",value:function(e,t){var n=this,r=null,a=me.parse(arguments,[new me({type:"string"}),new me({type:"callback"})]),i=N(a,3);return r=i[0],e=i[1],t=i[2],le(this._iid,function(t){r?t(r,null):R.get(n._iid).container.apiClient.updatePollOption({pollId:n.pollId,optionId:n.id,text:e},function(e,r){if(e)t(e,null);else{var a=new(0,G.get(n._iid).Poll)(r);t(null,a)}})},t)}},{key:"delete",value:function(e){var t=this,n=null,r=me.parse(arguments,[new me({type:"callback"})]),a=N(r,2);return n=a[0],e=a[1],le(this._iid,function(e){n?e(n,null):R.get(t._iid).container.apiClient.deletePollOption({pollId:t.pollId,optionId:t.id},function(t,n){e(t||null,null)})},e)}},{key:"_applyEvent",value:function(e){return this.id===e.optionId&&this.lastVotedAt<e.votedAt&&(this.voteCount=e.voteCount,Oa.set(this,e.votedAt),!0)}},{key:"_update",value:function(e){var t=G.get(this._iid).User;this.pollId=parseInt(e.poll_id),this.id=parseInt(e.id),this.text=e.text,this.voteCount=parseInt(e.vote_count),e.hasOwnProperty("partial_voter_list")&&Array.isArray(e.partial_voter_list)&&(this.partialVoters=e.partial_voter_list.map(function(e){return new t(e)})),this.createdBy=e.created_by,this.createdAt=parseInt(e.created_at),this.updatedAt=parseInt(e.updated_at)}}],[{key:"VoteAction",get:function(){return{CAST:"cast",CANCEL:"cancel"}}},{key:"objectify",value:function(e){var t=G.get(this._iid).User,n=e.pollId,r=void 0===n?0:n,a=e.id,i=void 0===a?0:a,s=e.text,o=void 0===s?"":s,l=e.voteCount,u=void 0===l?0:l,c=e.partialVoters,d=void 0===c?[]:c,f=e.createdBy,h=void 0===f?"":f,p=e.createdAt,m=void 0===p?0:p,g=e.updatedAt,y=void 0===g?0:g,_={};return _.poll_id=r,_.id=i,_.text=o,_.vote_count=u,Array.isArray(d)&&(_.partial_voter_list=d.filter(function(e){return e instanceof t}).map(function(e){return t.objectify(e)})),_.created_by=h,_.created_at=m,_.updated_at=y,_}},{key:"get",value:function(e,t,n,r){var a=this,i=null,s=me.parse(arguments,[new me({type:"string"}),new me({type:"number"}),new me({type:"number"}),new me({type:"callback"})]),o=N(s,5);return i=o[0],e=o[1],t=o[2],n=o[3],r=o[4],le(this._iid,function(r){i?r(i,null):R.get(a._iid).container.apiClient.getPollOption({channelUrl:e,pollId:t,optionId:n},function(e,t){if(e)r(e,null);else{var n=new(0,G.get(a._iid).PollOption)(t);r(null,n)}})},r)}}]),e}(),ka=function(){function e(t){h(this,e),this.restrictionType=null,this.description=null,this.endAt=-1,t&&this._update(t)}return m(e,[{key:"_update",value:function(e){e.hasOwnProperty("restriction_type")&&(this.restrictionType=e.restriction_type),e.hasOwnProperty("description")?this.description=e.description:e.hasOwnProperty("muted_description")&&(this.description=e.muted_description),e.hasOwnProperty("end_at")?this.endAt=parseInt(e.end_at):e.hasOwnProperty("muted_end_at")&&(this.endAt=parseInt(e.muted_end_at))}}],[{key:"objectify",value:function(e){var t=e.restrictionType,n=void 0===t?null:t,r=e.description,a=void 0===r?null:r,i=e.endAt,s=void 0===i?-1:i,o={};return o.restriction_type=n,o.description=a,o.end_at=s,o}}]),e}(),Aa=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];h(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this.userIds=t,this.metaDataKey="",this.metaDataValues=[],this._token=""}return m(e,[{key:"next",value:function(e){var t=this;return le(this._iid,function(e){"number"==typeof t.limit&&t.limit>0&&Array.isArray(t.userIds)&&"string"==typeof t.metaDataKey&&Array.isArray(t.metaDataValues)&&!!t.metaDataKey==t.metaDataValues.length>0?t.isLoading?e(new F("Query in progress.",F.QUERY_IN_PROGRESS),null):t.hasNext?(t.isLoading=!0,R.get(t._iid).container.apiClient.loadUserList(d(d({},t),{},{userIdsFilter:t.userIds,metaDataKeyFilter:t.metaDataKey,metaDataValuesFilter:t.metaDataValues,token:t._token}),function(n,r){var a=null;if(!n){var i=G.get(t._iid).User,s=String(r.next);t._token=s,t.hasNext=!!s,a=r.users.map(function(e){return new i(e)})}t.isLoading=!1,e(n,a)})):e(null,[]):e(me.error,null)},e)}}]),e}(),Ra=new WeakMap,Ia=function(){function e(t){h(this,e),this.isLoading=!1,Ra.set(this,t)}return m(e,[{key:"prev",value:function(e,t,n,r){var a=arguments,i=this;return le(this._iid,function(r){var s,o=G.get(i._iid).BaseChannel,l=N(me.parse(a,[new me({type:"number"}),new me({type:"number"}),new me({type:"boolean"}),new me({type:"function"})]),5);if(s=l[0],e=l[1],t=l[2],n=l[3],r=l[4],s)r(s,null);else if(i.isLoading)r(new F("Query in progress.",F.QUERY_IN_PROGRESS),null);else{i.isLoading=!0;var u=Ra.get(i);R.get(i._iid).container.apiClient.getMessageList({channelUrl:u.url,channelType:u.channelType,token:e,tokenType:"timestamp",isInclusive:!1,prevResultSize:t,nextResultSize:0,shouldReverse:n,messageType:"",customType:""}).then(function(e){var t=e.messages.map(function(e){return o.buildMessage(e,u)});i.isLoading=!1,r(null,t)}).catch(function(e){i.isLoading=!1,r(e,null)})}},r)}},{key:"next",value:function(e,t,n,r){var a=arguments,i=this;return le(this._iid,function(r){var s,o=G.get(i._iid).BaseChannel,l=N(me.parse(a,[new me({type:"number"}),new me({type:"number"}),new me({type:"boolean"}),new me({type:"function"})]),5);if(s=l[0],e=l[1],t=l[2],n=l[3],r=l[4],s)r(s,null);else if(i.isLoading)r(new F("Query in progress.",F.QUERY_IN_PROGRESS),null);else{i.isLoading=!0;var u=Ra.get(i);R.get(i._iid).container.apiClient.getMessageList({channelUrl:u.url,channelType:u.channelType,token:e,tokenType:"timestamp",isInclusive:!1,prevResultSize:0,nextResultSize:t,shouldReverse:n,messageType:"",customType:""}).then(function(e){var t=e.messages.map(function(e){return o.buildMessage(e,u)});i.isLoading=!1,r(null,t)}).catch(function(e){i.isLoading=!1,r(e,null)})}},r)}},{key:"load",value:function(e,t,n,r,a){var i=arguments,s=this;return le(this._iid,function(a){var o,l=G.get(s._iid).BaseChannel,u=N(me.parse(i,[new me({type:"number"}),new me({type:"number"}),new me({type:"number"}),new me({type:"boolean"}),new me({type:"callback"})]),6);if(o=u[0],e=u[1],t=u[2],n=u[3],r=u[4],a=u[5],o)a(o,null);else if(s.isLoading)a(new F("Query in progress.",F.QUERY_IN_PROGRESS),null);else{s.isLoading=!0;var c=Ra.get(s);R.get(s._iid).container.apiClient.getMessageList({channelUrl:c.url,channelType:c.channelType,token:e,tokenType:"timestamp",isInclusive:!1,prevResultSize:t,nextResultSize:n,shouldReverse:r,messageType:"",customType:""}).then(function(e){var t=e.messages.map(function(e){return l.buildMessage(e,c)});s.isLoading=!1,a(null,t)}).catch(function(e){s.isLoading=!1,a(e,null)})}},a)}}]),e}(),Ma=0,Pa=1,Ua=2,La=function(){function e(t){var n=this;if(h(this,e),this.state=Ma,this._value=null,this._reason=null,"function"!=typeof t)throw"Promise resolver ".concat(t," is not a function");t(function(e){n.state===Ma&&(n.state=Pa,n._value=e)},function(e){n.state===Ma&&(n.state=Ua,n._reason=e)})}return m(e,[{key:"length",get:function(){return 1}},{key:"then",value:function(t,n){var r=this,a=this;switch(this.state){case Ma:setTimeout(function(){return r.then(t,n)},100);break;case Pa:t&&"function"==typeof t&&(a=t(this._value));break;case Ua:n&&"function"==typeof n&&(a=n(this._reason))}return a instanceof e?a:this}},{key:"catch",value:function(t){var n=this,r=this;switch(this.state){case Ma:setTimeout(function(){return n.catch(t)},100);break;case Pa:break;case Ua:r=t(this._reason)}return r instanceof e?r:this}},{key:"finally",value:function(t){var n=this,r=this;switch(this.state){case Ma:setTimeout(function(){return n.finally(t)},100);break;case Pa:case Ua:r=t()}return r instanceof e?r:this}}],[{key:"all",value:function(t){return new e(function(n,r){if(Array.isArray(t)||"string"==typeof t)if(t.length>0){for(var a=[],i=0;i<t.length;i++)t[i]instanceof e?a.push(t[i]):a.push(e.resolve(t[i]));var s=new Array(a.length).fill(null),o=a.length,l=function(e,t,a){t?r(t):(o--,s[e]=a,o<=0&&n(s))};a.forEach(function(e,t){e.then(function(e){l(t,null,e)}).catch(function(e){l(t,e,null)})})}else n([]);else r(new Error("Uncaught (in promise) TypeError: ".concat(f(t)," ").concat(t," is not iterable")))})}},{key:"resolve",value:function(t){return new e(function(e){e(t)})}},{key:"reject",value:function(t){return new e(function(e,n){n(t)})}}]),e}(),Da=function(){"undefined"==typeof Promise&&("undefined"!=typeof window?window.Promise=La:"undefined"!=typeof a?a.Promise=La:"undefined"!=typeof self?self.Promise=La:"undefined"!=typeof globalThis&&(globalThis.Promise=La)),Object.values||(Object.values=function(e){return Object.keys(e).map(function(t){return e[t]})}),Number.MAX_SAFE_INTEGER||Object.defineProperty(Number,"MAX_SAFE_INTEGER",{value:Math.pow(2,53)-1})},xa=3e5,Fa=null,ja={},Ha=!1,Ga=null,Ba=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,e),Da();var r=!1;if((n.newInstance||!Fa||Fa&&n.appId!==Fa.getApplicationId()&&Fa.getConnectionState()===Fa.ConnectionState.CLOSED)&&(r=!0,Fa=this),r){try{if(!n.hasOwnProperty("appId"))return $.warn("Must be set appId."),Fa=null,null}catch(e){return $.warn("Must be set appId."),Fa=null,null}var a=Xn.create();Object.defineProperty(this,"_iid",{get:function(){return a}}),ja[a]=this,this.customApiHost=null,this.customWsHost=null,this.connecting=!1,this.reconnecting=!1,this.isReconnectingOnError=!1,this.connectionCallbacks=[],this.ConnectionManager=new ge(this),this.GCMPushToken="",this.APNSPushToken="",this.PUSH_TEMPLATE_DEFAULT="default",this.PUSH_TEMPLATE_ALTERNATIVE="alternative",this.currentUser=null,this.isSessionOpened=!1,this.globalTimer,this.loginTimer,this.reconnectTimer,this.loginHandler=null,this.onLoginTimerCancel,this.onReconnectTimerCancel,this.BaseChannel={MessageTypeFilter:It.MessageTypeFilter},this.GroupChannelFilter=Zn,this.MessageFilter=Me,this.GroupChannelCollection={GroupChannelOrder:ot},this.MessageCollection={MessageCollectionInitPolicy:Fe},this.CollectionEventSource=de,this._currentUserId=null;var i={User:wt,Member:lr,RestrictedUser:cr,GroupChannel:or,OpenChannel:yr,UserMessage:Sr,FileMessage:Or,AdminMessage:wr,GroupChannelListQuery:Dr,MemberListQuery:xr,GroupChannelParams:na,OpenChannelParams:ra,BaseMessageParams:Cr,UserMessageParams:Nr,FileMessageParams:Tr,ScheduledUserMessageParams:aa,GroupChannelTotalUnreadMessageCountParams:sa,GroupChannelTotalUnreadChannelCountParams:oa,MessageRetrievalParams:la,MessageListParams:ua,ThreadedMessageListParams:ca,MessageChangeLogsParams:da,GroupChannelChangeLogsParams:fa,PollParams:ha,PollRetrievalParams:pa,MessageMetaArray:Er,UserEventHandler:ga,SessionHandler:ye,ChannelHandler:ya,ConnectionHandler:ma,AppleCriticalAlertOptions:vr,Poll:Sa,PollOption:wa},s={SessionManager:_e,BaseChannel:It,BaseMessage:Ot,UserListQuery:Aa,ApplicationUserListQuery:Mr,BannedUserListQuery:Pr,BlockedUserListQuery:Ur,FriendListQuery:Lr,MutedUserListQuery:Fr,OpenChannelListQuery:jr,OperatorListQuery:Gr,ParticipantListQuery:zr,MessageListQuery:Ia,PreviousMessageListQuery:Wr,MessageSearchQuery:qr,PublicGroupChannelListQuery:Qr,PollListQuery:Xr,PollVoterListQuery:ta,ScheduledUserMessage:kr,ThreadInfo:Ea,ThreadInfoUpdateEvent:Ar,OGMetaData:ba,OGImage:Ca,Plugin:Na,Command:be,Sender:ur,ReadStatus:_a,Reaction:va,ReactionEvent:Ct,Emoji:hr,EmojiCategory:fr,EmojiContainer:dr,PollDetails:Ta,PollUpdateEvent:Rr,PollVoteEvent:Ir,RestrictionInfo:ka,FileMessageQueue:xt},o=new G(this._iid,d(d({},i),s));this.BaseMessage={ReplyType:Ot.ReplyType,getMessage:o.BaseMessage.getMessage.bind(o.BaseMessage)},Object.keys(o).forEach(function(e){i[e]&&(t[e]=o[e])});var l={encrypt:function(e){return e},decrypt:function(e){return e}};R.create(a,{appId:n.appId,pinger:new Z(this),apiClient:new ue(this),wsAdapter:new pe(this),commandHandler:new Ut(this),onlineDetector:new ve(this),ackStateMap:{},subscribedUnreadMessageCount:{all:0,custom_types:{},ts:0},maxUnreadCountOfSuperGroupChannel:k.DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL,nestdb:null,currentUserId:null,localCacheEnabled:"boolean"==typeof n.localCacheEnabled&&n.localCacheEnabled,localCacheLock:new X,debugCache:!1,encryption:l,store:new jn({encryption:l}),preference:null,auth:new j,appInfo:null,pingInterval:15e3,pongTimeout:5e3,connectedAt:0,extensions:{},supportedExtensionKeys:["sb_uikit","sb_syncmanager"],getUserAgentWithExtensions:function(e){var t=e.sb_syncmanager?"s".concat(e.sb_syncmanager):"",n=e.sb_uikit?"u".concat(e.sb_uikit):"";return"JS/c".concat(k.SDK_VERSION,"/").concat(t,"/").concat(n)},sessionManager:new o.SessionManager(this),stateChangeEnabled:!0,isInBackground:!1,closedByGoingBackground:!1,isErrorFirstInCallback:!1,autoResendQueue:[],isProcessingAutoResend:!1}),this.userEventHandlers={},this.channelHandlers={},this.connectionHandlers={},this.Options={_useMemberAsMessageSender:!0,get UseMemberAsMessageSender(){return this._useMemberAsMessageSender},set UseMemberAsMessageSender(e){"boolean"==typeof e&&(this._useMemberAsMessageSender=e)},get useMemberAsMessageSender(){return this._useMemberAsMessageSender},set useMemberAsMessageSender(e){"boolean"==typeof e&&(this._useMemberAsMessageSender=e)},_typingIndicatorThrottle:1e3,get typingIndicatorThrottle(){return this._typingIndicatorThrottle},set typingIndicatorThrottle(e){"number"==typeof e&&e>=1e3&&e<=9e3&&(this._typingIndicatorThrottle=e)},_websocketResponseTimeout:1e4,get websocketResponseTimeout(){return this._websocketResponseTimeout},set websocketResponseTimeout(e){"number"==typeof e&&e>=5e3&&e<=xa&&(this._websocketResponseTimeout=e)},includePollDetails:!1};var u=he.of(a);u.addObserver({onConnect:function(){t.isCacheEnabled&&!t.getIsProcessingAutoResend()&&(0===t.getAutoResendQueue().length?nt._processPendingMessages(t).then(function(){nt._processNextAutoResend(t)}):nt._processNextAutoResend(t))},onDisconnect:function(){}})}return Fa}return m(e,[{key:"ConnectionState",get:function(){return{CONNECTING:"CONNECTING",OPEN:"OPEN",CLOSED:"CLOSED"}}},{key:"MessageRequestState",get:function(){return{NONE:"none",PENDING:"pending",FAILED:"failed",SUCCEEDED:"succeeded"}}},{key:"MessageSendingStatus",get:function(){return{NONE:"none",PENDING:"pending",FAILED:"failed",CANCELED:"canceled",SUCCEEDED:"succeeded"}}},{key:"pushTokenRegistrationState",get:function(){return{SUCCESS:"success",PENDING:"pending",ERROR:"error"}}},{key:"PushTriggerOption",get:function(){return{ALL:"all",MENTION_ONLY:"mention_only",OFF:"off"}}},{key:"appInfo",get:function(){return R.get(this._iid).container.appInfo}},{key:"isCacheEnabled",get:function(){return R.get(this._iid).container.localCacheEnabled}},{key:"ekey",get:function(){var e=R.get(this._iid).container.auth;return e?e.eKey:""}},{key:"getApplicationId",value:function(){return R.get(this._iid).get("appId")}},{key:"getCurrentUserId",value:function(){return this.currentUser?this.currentUser.userId:null}},{key:"getDebugMode",value:function(){return Ha}},{key:"setDebugMode",value:function(e){Ha=e,$.mode=e?$.Mode.DEBUG:$.Mode.PRODUCTION}},{key:"getErrorFirstCallback",value:function(){return R.get(this._iid).container.isErrorFirstInCallback}},{key:"setErrorFirstCallback",value:function(e){"boolean"==typeof e&&R.get(this._iid).set("isErrorFirstInCallback",e)}},{key:"getAutoResendQueue",value:function(){return R.get(this._iid).container.autoResendQueue}},{key:"getIsProcessingAutoResend",value:function(){return R.get(this._iid).container.isProcessingAutoResend}},{key:"setIsProcessingAutoResend",value:function(e){R.get(this._iid).set("isProcessingAutoResend",e)}},{key:"getCurrentApiHost",value:function(){return this.customApiHost?this.customApiHost:"https://api.sendbird.com"}},{key:"clearCurrentApiHost",value:function(){this.customApiHost=null}},{key:"getCurrentWsHost",value:function(){return this.customWsHost?this.customWsHost:"wss://ws.sendbird.com"}},{key:"clearCurrentWsHost",value:function(){this.customWsHost=null}},{key:"getConnectionState",value:function(){try{var e=R.get(this._iid).container.wsAdapter;return this.connecting||this.reconnecting?this.ConnectionState.CONNECTING:e.client?this.connecting||this.reconnecting?this.ConnectionState.CONNECTING:this.isSessionOpened?e.client.getConnectionState():this.ConnectionState.CLOSED:this.ConnectionState.CLOSED}catch(e){return this.ConnectionState.CLOSED}}},{key:"getPendingGCMToken",value:function(){return this.GCMPushToken}},{key:"getPendingAPNSToken",value:function(){return this.APNSPushToken}},{key:"hasLoggedIn",value:function(){var e=R.get(this._iid);return this.currentUser&&e.get("auth").hasSession()}},{key:"getLastConnectedAt",value:function(){var e=R.get(this._iid);return this.getConnectionState()===this.ConnectionState.OPEN&&this.currentUser?e.get("connectedAt"):0}},{key:"getMemoryStoreForDebugging",value:function(){var e=R.get(this._iid);return e.container.debugCache&&e.container.store instanceof xn?e.container.store:null}},{key:"useMemoryAsDatabaseForDebugging",value:function(){var e=R.get(this._iid);e.container.debugCache=!0,e.container.store=new xn}},{key:"useAsyncStorageAsDatabase",value:function(e){var t=R.get(this._iid);t.container.store=new Hn({AsyncStorage:e,encryption:t.container.encryption})}},{key:"initializeDatabase",value:function(e,t){var n=this,r=R.get(this._iid),a=r.container,i=a.appId,s=a.nestdb,o=a.store,l=a.localCacheEnabled;return le(this._iid,function(t){if(l)if(s)t(null);else{var a=r.container.nestdb=new $n({name:"sendbird=".concat(i,"-").concat(e,".db"),version:1,store:o});a.on("upgrade",function(e,t){0===e?a.commitSchema([{collectionName:"GroupChannel",keyName:"url",index:[Ae.NAME_ALPHABETICAL,Ae.CHRONOLOGICAL,Ae.LATEST_LAST_MESSAGE]},{collectionName:"SucceededMessage",keyName:"messageId",keyHash:function(e,t){return Math.floor(parseInt(e)/t)},index:[Re.LATEST,Re.CHILD_MESSAGE_FIRST]},{collectionName:"UnsentMessage",keyName:"reqId",index:[Re.LATEST_UNSENT,Re.CHILD_MESSAGE_FIRST]}]).then(function(){return t()}).catch(function(e){throw e}):t()}),a.on("error",function(e){e?e.code===zt.STORE_NOT_AVAILABLE||e.code===zt.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING?t(null):($.error("Database initialize failed with an error: ",e),t(e)):t(null)}),a.on("success",function(){r.container.currentUserId=e,new bt({iid:n._iid,collection:a.collection("GroupChannel")}),new je({iid:n._iid,collections:{succeeded:a.collection("SucceededMessage"),unsent:a.collection("UnsentMessage")}}),$.debug("Database initialize succeeded."),t(null)}),a.open()}else r.container.currentUserId=e,new bt({iid:n._iid,collection:null}),new je({iid:n._iid,collections:{succeeded:null,unsent:null}}),t(null)},t)}},{key:"clearCachedData",value:function(){var e=R.get(this._iid),t=e.container,n=t.localCacheEnabled,r=t.nestdb;return new Promise(function(t,a){n&&r?(r.close(),r.reset().then(function(){$.debug("Database clear succeeded."),e.container.nestdb=null,t()}).catch(function(e){$.error("Database clear failed with an error: ",e),a(e)})):t()})}},{key:"connect",value:function(e,t,n,r,a){var i=this,s=R.get(this._iid),o=s.container,l=o.wsAdapter,u=o.onlineDetector,c=o.localCacheEnabled;u&&u.start();var d=null,f=me.parse(arguments,[new me({type:"string",constraint:function(e){return e.length>0}}),new me({type:"string",nullable:!0,ignoreIf:function(e){return 1===e.length||3===e.length}}),new me({type:"string",nullable:!0,ignoreIf:function(e){return 1===e.length||2===e.length}}),new me({type:"string",nullable:!0,ignoreIf:function(e){return 1===e.length||2===e.length}}),new me({type:"callback"})]),h=N(f,6);return d=h[0],e=h[1],t=h[2],n=h[3],r=h[4],a=h[5],(n||r)&&$.debug("Please note that apiHost and wsHost are for internal use only."),le(this._iid,function(a){if(d)a(d,null);else if(i.customApiHost=n,i.customWsHost=r,i.connecting=!0,i.reconnecting=!1,i.isReconnectingOnError=!1,i.reconnectTimer&&(clearTimeout(i.reconnectTimer),i.reconnectTimer=null,i.onReconnectTimerCancel=null),i.getConnectionState()===i.ConnectionState.OPEN&&i.currentUser&&i.currentUser.userId===e)i.connecting=!1,a(null,i.currentUser);else if(c&&(i._currentUserId=e),i.connectionCallbacks.push(a),1===i.connectionCallbacks.length){l.disconnect({clearSession:!0,err:null},null);var o=s.container,u=o.nestdb,f=o.localCacheLock;u?l.connect(e,t):f.lock(function(n){i.initializeDatabase(e).then(function(){n(),l.connect(e,t)}).catch(function(e){s.container.localCacheEnabled=!1,n(),a(e,null)})})}},a)}},{key:"reconnect",value:function(){var e=this,t=R.get(this._iid).container,n=t.wsAdapter,r=t.auth,a=t.localCacheLock;if(r.sessionKey&&this.currentUser){var i=!0;return n.reconnectCount>0&&(i=!1),a.lock(function(t){n.disconnect({clearSession:!1,err:new F("Connection has been canceled.",F.CONNECTION_CANCELED)},null),n.reconnectCount=0,n.reconnect(e.currentUser.userId,i),t()}),!0}return!1}},{key:"disconnect",value:function(e){var t=this;return le(this._iid,function(e){var n=R.get(t._iid).container,r=n.localCacheLock,a=n.wsAdapter,i=n.onlineDetector;i&&i.stop(),r.lock(function(n){a.disconnect({clearSession:!0,err:new F("Connection has been canceled.",F.CONNECTION_CANCELED)},function(){t.clearCachedData().finally(function(){n(),e(null)})})})},e)}},{key:"setBackgroundState",value:function(){var e=R.get(this._iid),t=e.container,n=t.wsAdapter,r=t.stateChangeEnabled;!t.isInBackground&&r&&(e.set("isInBackground",!0),this.getConnectionState()!==this.ConnectionState.CLOSED?(e.set("closedByGoingBackground",!0),n.disconnect({clearSession:!1,err:new F("Websocket connection failed.",F.WEBSOCKET_CONNECTION_FAILED)},null),he.of(this._iid).invokeDisconnect()):e.set("closedByGoingBackground",!1))}},{key:"isInBackground",get:function(){return R.get(this._iid).container.isInBackground}},{key:"setForegroundState",value:function(){var e=R.get(this._iid),t=e.container,n=t.wsAdapter,r=t.stateChangeEnabled,a=t.isInBackground,i=t.closedByGoingBackground;a&&r&&(e.set("isInBackground",!1),i&&this.currentUser&&n.reconnect(this.currentUser.userId,!0))}},{key:"enableStateChange",value:function(){R.get(this._iid).set("enableStateChange",!0)}},{key:"disableStateChange",value:function(){R.get(this._iid).set("enableStateChange",!1)}},{key:"addExtension",value:function(e,t){var n=R.get(this._iid).container,r=n.extensions;n.supportedExtensionKeys.indexOf(e)>-1&&(r[e]=t)}},{key:"createUserListQuery",value:function(e){return new(0,G.get(this._iid).UserListQuery)(e)}},{key:"createApplicationUserListQuery",value:function(){return new(0,G.get(this._iid).ApplicationUserListQuery)}},{key:"createBlockedUserListQuery",value:function(){return new(0,G.get(this._iid).BlockedUserListQuery)}},{key:"createFriendListQuery",value:function(){return new(0,G.get(this._iid).FriendListQuery)}},{key:"createMessageSearchQuery",value:function(e,t){return new(0,G.get(this._iid).MessageSearchQuery)(e,t)}},{key:"sendCommand",value:function(e,t){var n=this;return le(this._iid,function(t){n.ConnectionManager.ready(function(r,a){if(r)t(r,null);else{var i=R.get(n._iid).container,s=i.wsAdapter,o=i.ackStateMap;if(null==s||null==s.client||s.client.getConnectionState()!==n.ConnectionState.OPEN||n.getConnectionState()!==n.ConnectionState.OPEN)return void t(new F("Connection is not valid. Please reconnect.",F.WEBSOCKET_CONNECTION_CLOSED),null);if(e.isAckRequired){var l=e.requestId,u={handler:t,timer:setTimeout(function(){t(new F("Command received no ack.",F.ACK_TIMEOUT),null),delete o[l]},n.Options.websocketResponseTimeout)};o[l]=u,s.client.send(e,function(e){e&&(clearTimeout(u.timer),t(e,null))})}else s.client.send(e,t)}},!1)},t).catch(function(e){$.error(e)})}},{key:"setSessionHandler",value:function(e){R.get(this._iid).container.sessionManager.setHandler(e)}},{key:"addUserEventHandler",value:function(e,t){t instanceof G.get(this._iid).UserEventHandler&&(this.userEventHandlers[e]=t)}},{key:"removeUserEventHandler",value:function(e){delete this.userEventHandlers[e]}},{key:"removeAllUserEventHandler",value:function(){this.userEventHandlers={}}},{key:"addChannelHandler",value:function(e,t){t instanceof G.get(this._iid).ChannelHandler&&(this.channelHandlers[e]=t)}},{key:"removeChannelHandler",value:function(e){delete this.channelHandlers[e]}},{key:"removeAllChannelHandlers",value:function(){this.channelHandlers={}}},{key:"addConnectionHandler",value:function(e,t){t instanceof G.get(this._iid).ConnectionHandler&&(this.connectionHandlers[e]=t)}},{key:"removeConnectionHandler",value:function(e){delete this.connectionHandlers[e]}},{key:"removeAllConnectionHandlers",value:function(){this.connectionHandlers={}}},{key:"updateCurrentUserInfo",value:function(e,t,n){var r=this,a=null,i=me.parse(arguments,[new me({type:"string",nullable:!0}),new me({type:"string",nullable:!0}),new me({type:"callback"})]),s=N(i,4);return a=s[0],e=s[1],t=s[2],n=s[3],le(this._iid,function(n){if(a)n(a,null);else{var i=R.get(r._iid);i.container.apiClient.updateCurrentUserInfo({nickname:e,profileUrl:t},function(a,s){var o=null;a||(r.currentUser&&(e&&(r.currentUser.nickname=e),t&&(r.currentUser.plainProfileUrl=t,Object.defineProperty(r.currentUser,"profileUrl",{value:r.currentUser.requireAuth?"".concat(r.currentUser.plainProfileUrl,"?auth=").concat(i.container.auth.eKey):r.currentUser.plainProfileUrl,configurable:!0,writable:!1}))),o=r.currentUser),n(a,o)})}},n)}},{key:"updateCurrentUserInfoWithProfileImage",value:function(e,t,n){var r=this,a=null,i=me.parse(arguments,[new me({type:"string",nullable:!0}),new me({type:"file",nullable:!0}),new me({type:"callback"})]),s=N(i,4);return a=s[0],e=s[1],t=s[2],n=s[3],le(this._iid,function(n){if(a)n(a,null);else{var i=R.get(r._iid);i.container.apiClient.updateCurrentUserInfo({nickname:e,profileImage:t},function(t,a){var s=null;t||(r.currentUser&&(e&&(r.currentUser.nickname=e),a.profile_url&&(r.currentUser.plainProfileUrl=a.profile_url,Object.defineProperty(r.currentUser,"profileUrl",{value:r.currentUser.requireAuth?"".concat(r.currentUser.plainProfileUrl,"?auth=").concat(i.container.auth.eKey):r.currentUser.plainProfileUrl,configurable:!0,writable:!1}))),s=r.currentUser),n(t,s)})}},n)}},{key:"updateCurrentUserInfoWithPreferredLanguages",value:function(e,t){var n=this,r=null,a=me.parse(arguments,[new me({type:"array",constraint:function(e){return e.every(function(e){return"string"==typeof e})}}),new me({type:"callback"})]),i=N(a,3);return r=i[0],e=i[1],t=i[2],le(this._iid,function(t){r?t(r,null):R.get(n._iid).container.apiClient.updateCurrentUserInfo({preferredLanguages:e},function(r,a){var i=null;r||(n.currentUser&&e&&(n.currentUser._preferredLanguages=e),i=n.currentUser),t(r,i)})},t)}},{key:"registerGCMPushTokenForCurrentUser",value:function(e,t){var n=this,r=null,a=me.parse(arguments,[new me({type:"string",constraint:function(e){return e.length>0}}),new me({type:"callback"})]),i=N(a,3);return r=i[0],e=i[1],t=i[2],le(this._iid,function(t){r?t(r,n.pushTokenRegistrationState.ERROR):n.currentUser?R.get(n._iid).container.apiClient.registerGCMPushToken({token:e},function(e,r){var a=n.pushTokenRegistrationState.ERROR;e||(n.GCMPushToken="",a=n.pushTokenRegistrationState.SUCCESS),t(e,a)}):(n.GCMPushToken=e,t(null,n.pushTokenRegistrationState.PENDING))},t)}},{key:"unregisterGCMPushTokenForCurrentUser",value:function(e,t){var n=this,r=null,a=me.parse(arguments,[new me({type:"string",constraint:function(e){return e.length>0}}),new me({type:"callback"})]),i=N(a,3);return r=i[0],e=i[1],t=i[2],le(this._iid,function(t){r?t(r,null):n.currentUser?R.get(n._iid).container.apiClient.unregisterGCMPushToken({token:e},function(e,n){t(e,null)}):(n.GCMPushToken=e,t(null,n.pushTokenRegistrationState.PENDING))},t)}},{key:"unregisterGCMPushTokenAllForCurrentUser",value:function(e){var t=this;return le(this._iid,function(e){R.get(t._iid).container.apiClient.unregisterAllGCMPushTokens({},function(t,n){e(t,null)})},e)}},{key:"registerAPNSPushTokenForCurrentUser",value:function(e,t){var n=this,r=null,a=me.parse(arguments,[new me({type:"string",constraint:function(e){return e.length>0}}),new me({type:"callback"})]),i=N(a,3);return r=i[0],e=i[1],t=i[2],le(this._iid,function(t){r?t(r,n.pushTokenRegistrationState.ERROR):n.currentUser?R.get(n._iid).container.apiClient.registerAPNSPushToken({token:e},function(e,r){var a=n.pushTokenRegistrationState.ERROR;e||(n.APNSPushToken="",a=n.pushTokenRegistrationState.SUCCESS),t(e,a)}):(n.APNSPushToken=e,t(null,n.pushTokenRegistrationState.PENDING))},t)}},{key:"unregisterAPNSPushTokenForCurrentUser",value:function(e,t){var n=this,r=null,a=me.parse(arguments,[new me({type:"string",constraint:function(e){return e.length>0}}),new me({type:"callback"})]),i=N(a,3);return r=i[0],e=i[1],t=i[2],le(this._iid,function(t){r?t(r,null):n.currentUser?R.get(n._iid).container.apiClient.unregisterAPNSPushToken({token:e},function(e,n){t(e,null)}):(n.APNSPushToken=e,t(null,n.pushTokenRegistrationState.PENDING))},t)}},{key:"unregisterAPNSPushTokenAllForCurrentUser",value:function(e){var t=this;return le(this._iid,function(e){R.get(t._iid).container.apiClient.unregisterAllAPNSPushTokens({},function(t,n){e(t,null)})},e)}},{key:"unregisterPushTokenAllForCurrentUser",value:function(e){var t=this;return le(this._iid,function(e){R.get(t._iid).container.apiClient.unregisterAllPushTokens({},function(t,n){e(t,null)})},e)}},{key:"getMyGroupChannelChangeLogsByToken",value:function(e,t,n,r){var a=this,i=null,s=me.parse(arguments,[new me({type:"string",nullable:!0}),new me({type:"array",optional:!0,nullable:!0,defaultValue:null}),new me({type:"boolean",nullable:!0,optional:!0,defaultValue:null}),new me({type:"callback"})]),o=N(s,5);i=o[0],e=o[1],t=o[2],n=o[3],r=o[4];var l=G.get(this._iid),u=l.GroupChannelChangeLogsParams,c=null;if(i){var f=me.parse(arguments,[new me({type:"string",nullable:!0}),new me({type:u,constraint:function(e){return e._validate()}}),new me({type:"callback"})]),h=N(f,4);i=h[0],e=h[1],c=h[2],r=h[3]}else(c=new u).customTypes=t,c.includeEmpty=n,c.includeFrozen=!0;return le(this._iid,function(t){i?t(i,null):R.get(a._iid).container.apiClient.getMyGroupChannelChangeLogs(d({ts:null,token:e},c)).then(function(e){var n=G.get(a._iid).GroupChannel,r=e.updated.map(function(e){return new n(e)}),i=e.deleted,s=e.has_more,o=e.next;t(null,{updatedChannels:r,deletedChannelUrls:i,hasMore:s,token:o})}).catch(function(e){t(e,null)})},r)}},{key:"getMyGroupChannelChangeLogsByTimestamp",value:function(e,t,n,r){var a=this,i=null,s=me.parse(arguments,[new me({type:"number",constraint:function(e){return e>=0}}),new me({type:"array",optional:!0,nullable:!0,defaultValue:null}),new me({type:"boolean",nullable:!0,optional:!0,defaultValue:null}),new me({type:"callback"})]),o=N(s,5);i=o[0],e=o[1],t=o[2],n=o[3],r=o[4];var l=G.get(this._iid),u=l.GroupChannelChangeLogsParams,c=null;if(i){var f=me.parse(arguments,[new me({type:"number",constraint:function(e){return e>=0}}),new me({type:u,constraint:function(e){return e._validate()}}),new me({type:"callback"})]),h=N(f,4);i=h[0],e=h[1],c=h[2],r=h[3]}else(c=new u).customTypes=t,c.includeEmpty=n,c.includeFrozen=!0;return le(this._iid,function(t){i?t(i,null):R.get(a._iid).container.apiClient.getMyGroupChannelChangeLogs(d({ts:e,token:null},c)).then(function(e){var n=G.get(a._iid).GroupChannel,r=e.updated.map(function(e){return new n(e)}),i=e.deleted,s=e.has_more,o=e.next;t(null,{updatedChannels:r,deletedChannelUrls:i,hasMore:s,token:o})}).catch(function(e){t(e,null)})},r)}},{key:"getChannelInvitationPreference",value:function(e){var t=this;return le(this._iid,function(e){R.get(t._iid).container.apiClient.getChannelInvitationPreference({},function(t,n){var r=null;t||(r={autoAccept:n.auto_accept}),e(t,r)})},e)}},{key:"setChannelInvitationPreference",value:function(e,t){var n=this,r=null,a=me.parse(arguments,[new me({type:"boolean"}),new me({type:"callback"})]),i=N(a,3);return r=i[0],e=i[1],t=i[2],le(this._iid,function(t){r?t(r,null):R.get(n._iid).container.apiClient.setChannelInvitationPreference({isAutoAccept:e},function(e,n){var r=null;e||(r={autoAccept:n.auto_accept}),t(e,r)})},t)}},{key:"getDoNotDisturb",value:function(e){var t=this;return le(this._iid,function(e){R.get(t._iid).container.apiClient.getDoNotDisturb({},function(t,n){var r=null;t||(r={doNotDisturbOn:n.do_not_disturb,startHour:n.start_hour,startMin:n.start_min,endHour:n.end_hour,endMin:n.end_min,timezone:n.timezone}),e(t,r)})},e)}},{key:"setDoNotDisturb",value:function(e,t,n,r,a,i,s){var o=this,l=null,u=me.parse(arguments,[new me({type:"boolean"}),new me({type:"number",constraint:function(e){return 0<=e&&e<=23}}),new me({type:"number",constraint:function(e){return 0<=e&&e<=59}}),new me({type:"number",constraint:function(e){return 0<=e&&e<=23}}),new me({type:"number",constraint:function(e){return 0<=e&&e<=59}}),new me({type:"string"}),new me({type:"callback"})]),c=N(u,8);return l=c[0],e=c[1],t=c[2],n=c[3],r=c[4],a=c[5],i=c[6],s=c[7],le(this._iid,function(s){l?s(l,null):R.get(o._iid).container.apiClient.setDoNotDisturb({doNotDisturbOn:e,startHour:t,startMin:n,endHour:r,endMin:a,timezone:i},function(e,t){var n=null;e||(n={doNotDisturbOn:t.do_not_disturb,startHour:t.start_hour,startMin:t.start_min,endHour:t.end_hour,endMin:t.end_min,timezone:t.timezone}),s(e,n)})},s)}},{key:"getSnoozePeriod",value:function(e){var t=this;return le(this._iid,function(e){R.get(t._iid).container.apiClient.getSnoozePeriod({},function(t,n){var r=null;t||(r={isSnoozeOn:n.snooze_enabled,startTs:n.snooze_start_ts,endTs:n.snooze_end_ts}),e(t,r)})},e)}},{key:"setSnoozePeriod",value:function(e,t,n,r){var a=this,i=null,s=me.parse(arguments,[new me({type:"boolean"}),new me({type:"number",constraint:function(e){return e>0}}),new me({type:"number",constraint:function(e){return e>0}}),new me({type:"callback"})]),o=N(s,5);return i=o[0],e=o[1],t=o[2],n=o[3],r=o[4],le(this._iid,function(r){i?r(i,null):R.get(a._iid).container.apiClient.setSnoozePeriod({snoozeOn:e,startTs:t,endTs:n},function(e,t){var n=null;e||(n={isSnoozeOn:t.snooze_enabled,startTs:t.snooze_start_ts,endTs:t.snooze_end_ts}),r(e,n)})},r)}},{key:"blockUser",value:function(e,t){var n=null,r=me.parse(arguments,[new me({type:"object",constraint:function(e){return e&&e.hasOwnProperty("userId")}}),new me({type:"callback"})]),a=N(r,3);return n=a[0],e=a[1],t=a[2],n?le(this._iid,function(e){e(n,null)},t):this.blockUserWithUserId(e.userId,t)}},{key:"blockUserWithUserId",value:function(e,t){var n=this,r=null,a=me.parse(arguments,[new me({type:"string",constraint:function(e){return e&&(!n.currentUser||e!==n.currentUser.userId)}}),new me({type:"callback"})]),i=N(a,3);return r=i[0],e=i[1],t=i[2],le(this._iid,function(t){r?t(r,null):R.get(n._iid).container.apiClient.blockUser({blockedUserId:e},function(e,n){var r=null;e||(r=new wt(n)),t(e,r)})},t)}},{key:"unblockUser",value:function(e,t){var n=null,r=me.parse(arguments,[new me({type:"object",constraint:function(e){return e&&e.hasOwnProperty("userId")}}),new me({type:"callback"})]),a=N(r,3);return n=a[0],e=a[1],t=a[2],n?le(this._iid,function(e){e(n,null)},t):this.unblockUserWithUserId(e.userId,t)}},{key:"unblockUserWithUserId",value:function(e,t){var n=this,r=null,a=me.parse(arguments,[new me({type:"string",constraint:function(e){return e&&(!n.currentUser||e!==n.currentUser.userId)}}),new me({type:"callback"})]),i=N(a,3);return r=i[0],e=i[1],t=i[2],le(this._iid,function(t){r?t(r,null):R.get(n._iid).container.apiClient.unblockUser({unblockedUserId:e},function(e,n){t(e,null)})},t)}},{key:"getPushTriggerOption",value:function(e){var t=this;return le(this._iid,function(e){R.get(t._iid).container.apiClient.getPushTriggerOption({},function(t,n){e(t,n?n.push_trigger_option:null)})},e)}},{key:"setPushTriggerOption",value:function(e,t){var n=this;return le(this._iid,function(t){Object.keys(n.PushTriggerOption).map(function(e){return n.PushTriggerOption[e]}).indexOf(e)>-1?R.get(n._iid).container.apiClient.setPushTriggerOption({pushTriggerOption:e},function(e,n){t(e,n?n.push_trigger_option:null)}):t(me.error,null)},t)}},{key:"getGroupChannelCount",value:function(e,t){var n=this,r=G.get(this._iid),a=r.GroupChannel,i=null,s=me.parse(arguments,[new me({type:a.MemberStateFilter,optional:!0,defaultValue:a.MemberStateFilter.ALL}),new me({type:"callback"})]),o=N(s,3);return i=o[0],e=o[1],t=o[2],le(this._iid,function(t){i?t(i,null):R.get(n._iid).container.apiClient.getGroupChannelCount({memberStateFilter:e},function(e,n){var r=null;e||(r=parseInt(n.group_channel_count)),t(e,r)})},t)}},{key:"getTotalUnreadChannelCount",value:function(e,t){var n=this,r=G.get(this._iid),a=r.GroupChannel,i=r.GroupChannelTotalUnreadChannelCountParams,s=null,o=me.parse(arguments,[new me({type:"object",optional:!0,defaultValue:null,constraint:function(e){return e instanceof i}}),new me({type:"callback"})]),l=N(o,3);return s=l[0],e=l[1],t=l[2],le(this._iid,function(t){if(s)t(s,null);else{var r=null,i=a.SuperChannelFilter.ALL;e&&(r=e.channelCustomTypesFilter,i=e.superChannelFilter),R.get(n._iid).container.apiClient.getTotalUnreadChannelCount({customTypesFilter:r,superChannelFilter:i},function(e,n){var r=null;e||(r=parseInt(n.unread_count)),t(e,r)})}},t)}},{key:"getTotalUnreadMessageCount",value:function(e,t){var n=this,r=G.get(this._iid),a=r.GroupChannel,i=r.GroupChannelTotalUnreadMessageCountParams,s=null,o=me.parse(arguments,[new me({type:"object",optional:!0,defaultValue:null,constraint:function(e){return Array.isArray(e)&&e.every(function(e){return"string"==typeof e})||e instanceof i}}),new me({type:"callback"})]),l=N(o,3);return s=l[0],e=l[1],t=l[2],le(this._iid,function(t){if(s)t(s,null);else{var r=a.SuperChannelFilter.ALL;if(e instanceof i){var o=e;e=o.channelCustomTypesFilter,r=o.superChannelFilter}R.get(n._iid).container.apiClient.getTotalUnreadMessageCount({customTypesFilter:e,superChannelFilter:r},function(e,n){var r=null;e||(r=parseInt(n.unread_count)),t(e,r)})}},t)}},{key:"getUnreadItemCount",value:function(e,t){var n=this,r=null,a=me.parse(arguments,[new me({type:"array",constraint:function(e){return e.length>0&&e.every(function(e){return Object.keys(or.UnreadItemKey).map(function(e){return or.UnreadItemKey[e]}).indexOf(e)>-1})}}),new me({type:"callback"})]),i=N(a,3);return r=i[0],e=i[1],t=i[2],le(this._iid,function(t){if(r)t(r,null);else{var a=e.filter(function(t,n){return e.indexOf(t)===n});R.get(n._iid).container.apiClient.getUnreadItemCount({keys:a},function(e,n){t(e,n)})}},t)}},{key:"getSubscribedTotalUnreadMessageCount",value:function(){var e=R.get(this._iid).container.subscribedUnreadMessageCount;return e.all>=0?e.all:0}},{key:"getSubscribedCustomTypeTotalUnreadMessageCount",value:function(){var e=R.get(this._iid).container.subscribedUnreadMessageCount;if(Object.keys(e.custom_types).length>0){var t=0;return Object.keys(e.custom_types).forEach(function(n){t+=e.custom_types[n]}),t}return 0}},{key:"getSubscribedCustomTypeUnreadMessageCount",value:function(e){if(e&&"string"==typeof e){var t=R.get(this._iid).container.subscribedUnreadMessageCount;return t.custom_types.hasOwnProperty(e)?t.custom_types[e]:0}return 0}},{key:"getMyPushTokensByToken",value:function(e,t,n){var r=this,a=null,i=me.parse(arguments,[new me({type:"string"}),new me({type:"string",constraint:function(e){return["gcm","apns","apns_voip"].indexOf(e)>-1}}),new me({type:"callback"})]),s=N(i,4);return a=s[0],e=s[1],t=s[2],n=s[3],le(this._iid,function(n){a?n(a,null):R.get(r._iid).container.apiClient.getPushTokens({ts:null,token:e,type:t},function(e,t){if(e)n(e,null);else{var r=t.type;n(null,{deviceTokens:t.device_tokens,type:r?r.toLowerCase():"unknown",hasMore:t.has_more,token:t.token})}})},n)}},{key:"getPushTemplate",value:function(e){var t=this;return le(this._iid,function(e){R.get(t._iid).container.apiClient.getPushTemplate({},function(t,n){var r=null;t||(r=n.name.toString()),e(t,r)})},e)}},{key:"setPushTemplate",value:function(e,t){var n=this;return le(this._iid,function(t){[n.PUSH_TEMPLATE_DEFAULT,n.PUSH_TEMPLATE_ALTERNATIVE].indexOf(e)>-1?R.get(n._iid).container.apiClient.setPushTemplate({templateName:e},function(e,n){var r=null;e||(r=n.name.toString()),t(e,r)}):t(me.error,null)},t)}},{key:"markAsReadAll",value:function(e){var t=this;return le(this._iid,function(e){var n=G.get(t._iid).GroupChannel,r=(new Date).getTime();r-n.markAsReadAllLastSentAt<1e3?e(new F("MarkAsRead rate limit exceeded.",F.MARK_AS_READ_RATE_LIMIT_EXCEEDED),null):(n.markAsReadAllLastSentAt=r,R.get(t._iid).container.apiClient.markAsReadAll({channelUrls:null},function(a,i){a||Object.keys(n.cachedChannels).forEach(function(e){t.currentUser&&n.cachedChannels[e].updateReadReceipt(t.currentUser.userId,r),n.cachedChannels[e]._setGroupChannelUnreadCount(0,0)}),e(a,null)}))},e)}},{key:"markAsReadWithChannelUrls",value:function(e,t){var n=this,r=null,a=me.parse(arguments,[new me({type:"array",constraint:function(e){return e.every(function(e){return"string"==typeof e})}}),new me({type:"callback"})]),i=N(a,3);return r=i[0],e=i[1],t=i[2],le(this._iid,function(t){if(r)t(r,null);else{var a=(new Date).getTime();R.get(n._iid).container.apiClient.markAsReadAll({channelUrls:e},function(r,i){r||e.forEach(function(e){or.cachedChannels[e]&&(n.currentUser&&or.cachedChannels[e].updateReadReceipt(n.currentUser.userId,a),or.cachedChannels[e]._setGroupChannelUnreadCount(0,0))}),t(r,null)})}},t)}},{key:"markAsDelivered",value:function(e){"string"==typeof e&&G.get(this._iid).GroupChannel.getChannel(e,k.INTERNAL_CALL,function(e,t){e||t.markAsDelivered()})}},{key:"getFriendChangeLogsByToken",value:function(e,t){var n=this,r=null,a=me.parse(arguments,[new me({type:"string",optional:!0,defaultValue:null}),new me({type:"callback"})]),i=N(a,3);return r=i[0],e=i[1],t=i[2],le(this._iid,function(t){r?t(r,null):R.get(n._iid).container.apiClient.getFriendChangeLogsByToken({token:e},function(e,r){var a=null;if(!e){var i=G.get(n._iid).User;a={updatedUsers:r.updated.map(function(e){return new i(e)}),deletedUserIds:r.deleted,hasMore:r.has_more,token:r.next}}t(e,a)})},t)}},{key:"uploadFriendDiscoveries",value:function(e,t){var n=this,r=null,a=me.parse(arguments,[new me({type:"array",constraint:function(e){return e.every(function(e){return e.hasOwnProperty("friendDiscoveryKey")})}}),new me({type:"callback"})]),i=N(a,3);return r=i[0],e=i[1],t=i[2],le(this._iid,function(t){r?t(r,null):R.get(n._iid).container.apiClient.uploadFriendDiscoveries({discoveries:e},function(e,n){t(e,n)})},t)}},{key:"deleteFriendDiscovery",value:function(e,t){var n=null,r=me.parse(arguments,[new me({type:"string"}),new me({type:"callback"})]),a=N(r,3);return n=a[0],e=a[1],t=a[2],n?le(this._iid,function(e){e(n,null)},t):this.deleteFriendDiscoveries([e],t)}},{key:"deleteFriendDiscoveries",value:function(e,t){var n=this,r=null,a=me.parse(arguments,[new me({type:"array",constraint:function(e){return e.every(function(e){return"string"==typeof e})}}),new me({type:"callback"})]),i=N(a,3);return r=i[0],e=i[1],t=i[2],le(this._iid,function(t){r?t(r,null):R.get(n._iid).container.apiClient.deleteFriendDiscoveries({discoveryKeys:e},function(e,n){t(e,n)})},t)}},{key:"addFriends",value:function(e,t){var n=this,r=null,a=me.parse(arguments,[new me({type:"array",constraint:function(e){return e.every(function(e){return"string"==typeof e})}}),new me({type:"callback"})]),i=N(a,3);return r=i[0],e=i[1],t=i[2],le(this._iid,function(t){r?t(r,null):R.get(n._iid).container.apiClient.addFriends({userIds:e},function(e,r){var a=null;if(!e){var i=G.get(n._iid).User;a=r.users.map(function(e){return new i(e)})}t(e,a)})},t)}},{key:"deleteFriend",value:function(e,t){var n=null,r=me.parse(arguments,[new me({type:"string"}),new me({type:"callback"})]),a=N(r,3);return n=a[0],e=a[1],t=a[2],n?le(this._iid,function(e){e(n,null)},t):this.deleteFriends([e],t)}},{key:"deleteFriends",value:function(e,t){var n=this,r=null,a=me.parse(arguments,[new me({type:"array",constraint:function(e){return e.every(function(e){return"string"==typeof e})}}),new me({type:"callback"})]),i=N(a,3);return r=i[0],e=i[1],t=i[2],le(this._iid,function(t){r?t(r,null):R.get(n._iid).container.apiClient.deleteFriends({userIds:e},function(e,n){t(e,n)})},t)}},{key:"getAllEmoji",value:function(e){var t=this,n=null,r=me.parse(arguments,[new me({type:"callback"})]),a=N(r,2);return n=a[0],e=a[1],le(this._iid,function(e){n?e(n,null):R.get(t._iid).container.apiClient.getAllEmoji(function(n,r){if(n)e(n,null);else{var a=new(0,G.get(t._iid).EmojiContainer)(r);e(null,a)}})},e)}},{key:"getEmojiCategory",value:function(e,t){var n=this,r=null,a=me.parse(arguments,[new me({type:"number",constraint:function(e){return e>=0}}),new me({type:"callback"})]),i=N(a,3);return r=i[0],e=i[1],t=i[2],le(this._iid,function(t){r?t(r,null):R.get(n._iid).container.apiClient.getEmojiCategory({categoryId:e},function(e,r){if(e)t(e,null);else{var a=new(0,G.get(n._iid).EmojiCategory)(r);t(null,a)}})},t)}},{key:"getEmoji",value:function(e,t){var n=this,r=null,a=me.parse(arguments,[new me({type:"string"}),new me({type:"callback"})]),i=N(a,3);return r=i[0],e=i[1],t=i[2],le(this._iid,function(t){r?t(r,null):R.get(n._iid).container.apiClient.getEmoji({emojiKey:e},function(e,r){if(e)t(e,null);else{var a=new(0,G.get(n._iid).Emoji)(r);t(null,a)}})},t)}},{key:"getAllowFriendDiscovery",value:function(e){var t=this,n=null,r=me.parse(arguments,[new me({type:"callback"})]),a=N(r,2);return n=a[0],e=a[1],le(this._iid,function(e){n?e(n,null):R.get(t._iid).container.apiClient.getAllowFriendDiscovery(function(t,n){var r=n.allow_friend_discovery;t?e(t,null):e(null,r)})},e)}},{key:"setAllowFriendDiscovery",value:function(e,t){var n=this,r=null,a=me.parse(arguments,[new me({type:"boolean"}),new me({type:"callback"})]),i=N(a,3);return r=i[0],e=i[1],t=i[2],le(this._iid,function(t){r?t(r,null):R.get(n._iid).container.apiClient.setAllowFriendDiscovery({allowFriendDiscovery:e},function(n,r){n?t(n,null):t(null,e)})},t)}},{key:"clearCachedMessages",value:function(e){var t=this,n=je.of(this._iid);if(n){var r=R.get(this._iid).container.store;return Promise.all(e.map(function(e){return new Promise(function(a,i){n.clearByChannelUrl(e).then(function(){var n=Be(t._currentUserId,e);return r.remove(n)}).then(function(){var n=qe(t._currentUserId,e);return r.remove(n)}).then(function(){a()}).catch(function(e){i(e)})})}))}return Promise.resolve([])}},{key:"_getCurrentUserDataKey",value:function(){return"sendbird:".concat(this._currentUserId,"@currentUserData")}},{key:"_populateVaultFromCurrentUserData",value:function(e){var t=R.get(this._iid),n=t.container.auth,r=G.get(this._iid).User,a=e.currentUser,i=e.maxUnreadCountOfSuperGroupChannel,s=e.profileImageEncryption,o=e.sessionKey,l=e.eKey,u=e.appInfo,c=e.connectedAt,d=e.firstConnectedAt,f=e.concurrentCallLimit,h=e.backOffDelay;a&&(this.currentUser=r.buildFromSerializedData(a)),i&&t.set("maxUnreadCountOfSuperGroupChannel",i),s&&t.set("profileImageEncryption",s),n?(o&&(n.sessionKey=o),l&&(n.ekey=l)):$.debug("Auth should have been created when populating current user data."),u&&t.set("appInfo",new Ne(u)),c&&t.set("connectedAt",c),d&&t.set("firstConnectedAt",d),f&&t.set("concurrentCallLimit",f),h&&t.set("backOffDelay",h)}}],[{key:"version",get:function(){return k.SDK_VERSION}},{key:"LogLevel",get:function(){return $.supportedLogLevels}},{key:"getInstance",value:function(e){return e?ja[e]:Fa}},{key:"getLogLevel",value:function(){return $.logLevel}},{key:"setLogLevel",value:function(e){var t=Object.values($.supportedLogLevels);if(t.includes(e))$.logLevel=e;else{$.logLevel=$.defaultLogLevel;var n=t.map(function(e){return"'".concat(e,"'")}).join(", ");$.warn("`logLevel` parameter should be one of","".concat(n,","),"not `'".concat(e,"'`."),"Set to default log level","`".concat($.defaultLogLevel,"`."))}}},{key:"getAppVersion",value:function(){return Ga}},{key:"setAppVersion",value:function(e){"string"==typeof e&&ee()&&(Ga=e)}}]),e}();return Ba}(n(64),n(83),n(84))}).call(this,n(36),n(60).Buffer,n(37))},function(e,t,n){"use strict";var r=n(92),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function l(e){return r.isMemo(e)?s:o[e.$$typeof]||a}o[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[r.Memo]=s;var u=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var a=h(n);a&&a!==p&&e(t,a,r)}var s=c(n);d&&(s=s.concat(d(n)));for(var o=l(t),m=l(n),g=0;g<s.length;++g){var y=s[g];if(!i[y]&&(!r||!r[y])&&(!m||!m[y])&&(!o||!o[y])){var _=f(n,y);try{u(t,y,_)}catch(v){}}}}return t}},function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=n(3),a=n(4),i=n(2),s=n(5),o=n(6),l=n(9),u={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},c=i.forwardRef(function(e,t){var n=e.align,o=void 0===n?"inherit":n,c=e.classes,d=e.className,f=e.color,h=void 0===f?"initial":f,p=e.component,m=e.display,g=void 0===m?"initial":m,y=e.gutterBottom,_=void 0!==y&&y,v=e.noWrap,E=void 0!==v&&v,b=e.paragraph,C=void 0!==b&&b,N=e.variant,S=void 0===N?"body1":N,T=e.variantMapping,O=void 0===T?u:T,w=Object(a.a)(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),k=p||(C?"p":O[S]||u[S])||"span";return i.createElement(k,Object(r.a)({className:Object(s.a)(c.root,d,"inherit"!==S&&c[S],"initial"!==h&&c["color".concat(Object(l.a)(h))],E&&c.noWrap,_&&c.gutterBottom,C&&c.paragraph,"inherit"!==o&&c["align".concat(Object(l.a)(o))],"initial"!==g&&c["display".concat(Object(l.a)(g))]),ref:t},w))});t.a=Object(o.a)(function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}},{name:"MuiTypography"})(c)},,,,,,function(e,t,n){"use strict";var r=n(29),a="function"===typeof Symbol&&Symbol.for,i=a?Symbol.for("react.element"):60103,s=a?Symbol.for("react.portal"):60106,o=a?Symbol.for("react.fragment"):60107,l=a?Symbol.for("react.strict_mode"):60108,u=a?Symbol.for("react.profiler"):60114,c=a?Symbol.for("react.provider"):60109,d=a?Symbol.for("react.context"):60110,f=a?Symbol.for("react.forward_ref"):60112,h=a?Symbol.for("react.suspense"):60113;a&&Symbol.for("react.suspense_list");var p=a?Symbol.for("react.memo"):60115,m=a?Symbol.for("react.lazy"):60116;a&&Symbol.for("react.fundamental"),a&&Symbol.for("react.responder"),a&&Symbol.for("react.scope");var g="function"===typeof Symbol&&Symbol.iterator;function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function E(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||_}function b(){}function C(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||_}E.prototype.isReactComponent={},E.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(y(85));this.updater.enqueueSetState(this,e,t,"setState")},E.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=E.prototype;var N=C.prototype=new b;N.constructor=C,r(N,E.prototype),N.isPureReactComponent=!0;var S={current:null},T={current:null},O=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var r,a={},s=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)O.call(t,r)&&!w.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===a[r]&&(a[r]=l[r]);return{$$typeof:i,type:e,key:s,ref:o,props:a,_owner:T.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var R=/\/+/g,I=[];function M(e,t,n,r){if(I.length){var a=I.pop();return a.result=e,a.keyPrefix=t,a.func=n,a.context=r,a.count=0,a}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function P(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>I.length&&I.push(e)}function U(e,t,n){return null==e?0:function e(t,n,r,a){var o=typeof t;"undefined"!==o&&"boolean"!==o||(t=null);var l=!1;if(null===t)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case i:case s:l=!0}}if(l)return r(a,t,""===n?"."+L(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var u=0;u<t.length;u++){var c=n+L(o=t[u],u);l+=e(o,c,r,a)}else if(c=null===t||"object"!==typeof t?null:"function"===typeof(c=g&&t[g]||t["@@iterator"])?c:null,"function"===typeof c)for(t=c.call(t),u=0;!(o=t.next()).done;)l+=e(o=o.value,c=n+L(o,u++),r,a);else if("object"===o)throw r=""+t,Error(y(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return l}(e,"",t,n)}function L(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function D(e,t){e.func.call(e.context,t,e.count++)}function x(e,t,n){var r=e.result,a=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?F(e,r,n,function(e){return e}):null!=e&&(A(e)&&(e=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,a+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(R,"$&/")+"/")+n)),r.push(e))}function F(e,t,n,r,a){var i="";null!=n&&(i=(""+n).replace(R,"$&/")+"/"),U(e,x,t=M(t,i,r,a)),P(t)}function j(){var e=S.current;if(null===e)throw Error(y(321));return e}var H={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return F(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;U(e,D,t=M(null,null,t,n)),P(t)},count:function(e){return U(e,function(){return null},null)},toArray:function(e){var t=[];return F(e,t,null,function(e){return e}),t},only:function(e){if(!A(e))throw Error(y(143));return e}},createRef:function(){return{current:null}},Component:E,PureComponent:C,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:f,render:e}},lazy:function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return j().useCallback(e,t)},useContext:function(e,t){return j().useContext(e,t)},useEffect:function(e,t){return j().useEffect(e,t)},useImperativeHandle:function(e,t,n){return j().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return j().useLayoutEffect(e,t)},useMemo:function(e,t){return j().useMemo(e,t)},useReducer:function(e,t,n){return j().useReducer(e,t,n)},useRef:function(e){return j().useRef(e)},useState:function(e){return j().useState(e)},Fragment:o,Profiler:u,StrictMode:l,Suspense:h,createElement:k,cloneElement:function(e,t,n){if(null===e||void 0===e)throw Error(y(267,e));var a=r({},e.props),s=e.key,o=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,l=T.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)O.call(t,c)&&!w.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];a.children=u}return{$$typeof:i,type:e.type,key:s,ref:o,props:a,_owner:l}},createFactory:function(e){var t=k.bind(null,e);return t.type=e,t},isValidElement:A,version:"16.12.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:S,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:T,IsSomeRendererActing:{current:!1},assign:r}},G={default:H},B=G&&H||G;e.exports=B.default||B},function(e,t,n){"use strict";var r=n(2),a=n(29),i=n(57);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(s(227));var o=null,l={};function u(){if(o)for(var e in l){var t=l[e],n=o.indexOf(e);if(!(-1<n))throw Error(s(96,e));if(!d[n]){if(!t.extractEvents)throw Error(s(97,e));for(var r in d[n]=t,n=t.eventTypes){var a=void 0,i=n[r],u=t,h=r;if(f.hasOwnProperty(h))throw Error(s(99,h));f[h]=i;var p=i.phasedRegistrationNames;if(p){for(a in p)p.hasOwnProperty(a)&&c(p[a],u,h);a=!0}else i.registrationName?(c(i.registrationName,u,h),a=!0):a=!1;if(!a)throw Error(s(98,r,e))}}}}function c(e,t,n){if(h[e])throw Error(s(100,e));h[e]=t,p[e]=t.eventTypes[n].dependencies}var d=[],f={},h={},p={};var m=!1,g=null,y=!1,_=null,v={onError:function(e){m=!0,g=e}};function E(e,t,n,r,a,i,s,o,l){m=!1,g=null,function(e,t,n,r,a,i,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}.apply(v,arguments)}var b=null,C=null,N=null;function S(e,t,n){var r=e.type||"unknown-event";e.currentTarget=N(n),function(e,t,n,r,a,i,o,l,u){if(E.apply(this,arguments),m){if(!m)throw Error(s(198));var c=g;m=!1,g=null,y||(y=!0,_=c)}}(r,t,void 0,e),e.currentTarget=null}function T(e,t){if(null==t)throw Error(s(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function O(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var w=null;function k(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)S(e,t[r],n[r]);else t&&S(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function A(e){if(null!==e&&(w=T(w,e)),e=w,w=null,e){if(O(e,k),w)throw Error(s(95));if(y)throw e=_,y=!1,_=null,e}}var R={injectEventPluginOrder:function(e){if(o)throw Error(s(101));o=Array.prototype.slice.call(e),u()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!l.hasOwnProperty(t)||l[t]!==r){if(l[t])throw Error(s(102,t));l[t]=r,n=!0}}n&&u()}};function I(e,t){var n=e.stateNode;if(!n)return null;var r=b(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var M=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;M.hasOwnProperty("ReactCurrentDispatcher")||(M.ReactCurrentDispatcher={current:null}),M.hasOwnProperty("ReactCurrentBatchConfig")||(M.ReactCurrentBatchConfig={suspense:null});var P=/^(.*)[\\\/]/,U="function"===typeof Symbol&&Symbol.for,L=U?Symbol.for("react.element"):60103,D=U?Symbol.for("react.portal"):60106,x=U?Symbol.for("react.fragment"):60107,F=U?Symbol.for("react.strict_mode"):60108,j=U?Symbol.for("react.profiler"):60114,H=U?Symbol.for("react.provider"):60109,G=U?Symbol.for("react.context"):60110,B=U?Symbol.for("react.concurrent_mode"):60111,z=U?Symbol.for("react.forward_ref"):60112,V=U?Symbol.for("react.suspense"):60113,q=U?Symbol.for("react.suspense_list"):60120,Y=U?Symbol.for("react.memo"):60115,K=U?Symbol.for("react.lazy"):60116;U&&Symbol.for("react.fundamental"),U&&Symbol.for("react.responder"),U&&Symbol.for("react.scope");var W="function"===typeof Symbol&&Symbol.iterator;function Q(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=W&&e[W]||e["@@iterator"])?e:null}function J(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case D:return"Portal";case j:return"Profiler";case F:return"StrictMode";case V:return"Suspense";case q:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case G:return"Context.Consumer";case H:return"Context.Provider";case z:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case Y:return J(e.type);case K:if(e=1===e._status?e._result:null)return J(e)}return null}function $(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,a=e._debugSource,i=J(e.type);n=null,r&&(n=J(r.type)),r=i,i="",a?i=" (at "+a.fileName.replace(P,"")+":"+a.lineNumber+")":n&&(i=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+i}t+=n,e=e.return}while(e);return t}var X=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Z=null,ee=null,te=null;function ne(e){if(e=C(e)){if("function"!==typeof Z)throw Error(s(280));var t=b(e.stateNode);Z(e.stateNode,e.type,t)}}function re(e){ee?te?te.push(e):te=[e]:ee=e}function ae(){if(ee){var e=ee,t=te;if(te=ee=null,ne(e),t)for(e=0;e<t.length;e++)ne(t[e])}}function ie(e,t){return e(t)}function se(e,t,n,r){return e(t,n,r)}function oe(){}var le=ie,ue=!1,ce=!1;function de(){null===ee&&null===te||(oe(),ae())}new Map;var fe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,he=Object.prototype.hasOwnProperty,pe={},me={};function ge(e,t,n,r,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i}var ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ye[e]=new ge(e,0,!1,e,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ye[t]=new ge(t,1,!1,e[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){ye[e]=new ge(e,2,!1,e.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ye[e]=new ge(e,2,!1,e,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ye[e]=new ge(e,3,!1,e.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(e){ye[e]=new ge(e,3,!0,e,null,!1)}),["capture","download"].forEach(function(e){ye[e]=new ge(e,4,!1,e,null,!1)}),["cols","rows","size","span"].forEach(function(e){ye[e]=new ge(e,6,!1,e,null,!1)}),["rowSpan","start"].forEach(function(e){ye[e]=new ge(e,5,!1,e.toLowerCase(),null,!1)});var _e=/[\-:]([a-z])/g;function ve(e){return e[1].toUpperCase()}function Ee(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e,t,n,r){var a=ye.hasOwnProperty(t)?ye[t]:null;(null!==a?0===a.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!he.call(me,e)||!he.call(pe,e)&&(fe.test(e)?me[e]=!0:(pe[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function Ce(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Ne(e){e._valueTracker||(e._valueTracker=function(e){var t=Ce(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Se(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ce(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Te(e,t){var n=t.checked;return a({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Oe(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Ee(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function we(e,t){null!=(t=t.checked)&&be(e,"checked",t,!1)}function ke(e,t){we(e,t);var n=Ee(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Re(e,t.type,n):t.hasOwnProperty("defaultValue")&&Re(e,t.type,Ee(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Ae(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Re(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ie(e,t){return e=a({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function Me(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ee(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function Pe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ue(e,t){var n=t.value;if(null==n){if(n=t.defaultValue,null!=(t=t.children)){if(null!=n)throw Error(s(92));if(Array.isArray(t)){if(!(1>=t.length))throw Error(s(93));t=t[0]}n=t}null==n&&(n="")}e._wrapperState={initialValue:Ee(n)}}function Le(e,t){var n=Ee(t.value),r=Ee(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function De(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_e,ve);ye[t]=new ge(t,1,!1,e,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_e,ve);ye[t]=new ge(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_e,ve);ye[t]=new ge(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(e){ye[e]=new ge(e,1,!1,e.toLowerCase(),null,!1)}),ye.xlinkHref=new ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(e){ye[e]=new ge(e,1,!1,e.toLowerCase(),null,!0)});var xe={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function je(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var He,Ge,Be=(Ge=function(e,t){if(e.namespaceURI!==xe.svg||"innerHTML"in e)e.innerHTML=t;else{for((He=He||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=He.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return Ge(e,t)})}:Ge);function ze(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Ve(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var qe={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Ye={},Ke={};function We(e){if(Ye[e])return Ye[e];if(!qe[e])return e;var t,n=qe[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ke)return Ye[e]=n[t];return e}X&&(Ke=document.createElement("div").style,"AnimationEvent"in window||(delete qe.animationend.animation,delete qe.animationiteration.animation,delete qe.animationstart.animation),"TransitionEvent"in window||delete qe.transitionend.transition);var Qe=We("animationend"),Je=We("animationiteration"),$e=We("animationstart"),Xe=We("transitionend"),Ze="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" ");function et(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function tt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function nt(e){if(et(e)!==e)throw Error(s(188))}function rt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=et(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return nt(a),e;if(i===r)return nt(a),t;i=i.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var at,it,st,ot=!1,lt=[],ut=null,ct=null,dt=null,ft=new Map,ht=new Map,pt=[],mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),gt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function yt(e,t,n,r){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:r}}function _t(e,t){switch(e){case"focus":case"blur":ut=null;break;case"dragenter":case"dragleave":ct=null;break;case"mouseover":case"mouseout":dt=null;break;case"pointerover":case"pointerout":ft.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ht.delete(t.pointerId)}}function vt(e,t,n,r,a){return null===e||e.nativeEvent!==a?(e=yt(t,n,r,a),null!==t&&(null!==(t=dr(t))&&it(t)),e):(e.eventSystemFlags|=r,e)}function Et(e){var t=cr(e.target);if(null!==t){var n=et(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=tt(n)))return e.blockedOn=t,void i.unstable_runWithPriority(e.priority,function(){st(n)})}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function bt(e){if(null!==e.blockedOn)return!1;var t=An(e.topLevelType,e.eventSystemFlags,e.nativeEvent);if(null!==t){var n=dr(t);return null!==n&&it(n),e.blockedOn=t,!1}return!0}function Ct(e,t,n){bt(e)&&n.delete(t)}function Nt(){for(ot=!1;0<lt.length;){var e=lt[0];if(null!==e.blockedOn){null!==(e=dr(e.blockedOn))&&at(e);break}var t=An(e.topLevelType,e.eventSystemFlags,e.nativeEvent);null!==t?e.blockedOn=t:lt.shift()}null!==ut&&bt(ut)&&(ut=null),null!==ct&&bt(ct)&&(ct=null),null!==dt&&bt(dt)&&(dt=null),ft.forEach(Ct),ht.forEach(Ct)}function St(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Nt)))}function Tt(e){function t(t){return St(t,e)}if(0<lt.length){St(lt[0],e);for(var n=1;n<lt.length;n++){var r=lt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&St(ut,e),null!==ct&&St(ct,e),null!==dt&&St(dt,e),ft.forEach(t),ht.forEach(t),n=0;n<pt.length;n++)(r=pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<pt.length&&null===(n=pt[0]).blockedOn;)Et(n),null===n.blockedOn&&pt.shift()}function Ot(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function wt(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function kt(e,t,n){(t=I(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=T(n._dispatchListeners,t),n._dispatchInstances=T(n._dispatchInstances,e))}function At(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=wt(t);for(t=n.length;0<t--;)kt(n[t],"captured",e);for(t=0;t<n.length;t++)kt(n[t],"bubbled",e)}}function Rt(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=I(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=T(n._dispatchListeners,t),n._dispatchInstances=T(n._dispatchInstances,e))}function It(e){e&&e.dispatchConfig.registrationName&&Rt(e._targetInst,null,e)}function Mt(e){O(e,At)}function Pt(){return!0}function Ut(){return!1}function Lt(e,t,n,r){for(var a in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(a)&&((t=e[a])?this[a]=t(n):"target"===a?this.target=r:this[a]=n[a]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Pt:Ut,this.isPropagationStopped=Ut,this}function Dt(e,t,n,r){if(this.eventPool.length){var a=this.eventPool.pop();return this.call(a,e,t,n,r),a}return new this(e,t,n,r)}function xt(e){if(!(e instanceof this))throw Error(s(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Ft(e){e.eventPool=[],e.getPooled=Dt,e.release=xt}a(Lt.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Pt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Pt)},persist:function(){this.isPersistent=Pt},isPersistent:Ut,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Ut,this._dispatchInstances=this._dispatchListeners=null}}),Lt.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Lt.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var i=new t;return a(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=a({},r.Interface,e),n.extend=r.extend,Ft(n),n},Ft(Lt);var jt=Lt.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Ht=Lt.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gt=Lt.extend({view:null,detail:null}),Bt=Gt.extend({relatedTarget:null});function zt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Vt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Yt[e])&&!!t[e]}function Wt(){return Kt}for(var Qt=Gt.extend({key:function(e){if(e.key){var t=Vt[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=zt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?qt[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Wt,charCode:function(e){return"keypress"===e.type?zt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?zt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Jt=0,$t=0,Xt=!1,Zt=!1,en=Gt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Wt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Jt;return Jt=e.screenX,Xt?"mousemove"===e.type?e.screenX-t:0:(Xt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=$t;return $t=e.screenY,Zt?"mousemove"===e.type?e.screenY-t:0:(Zt=!0,0)}}),tn=en.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),nn=en.extend({dataTransfer:null}),rn=Gt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Wt}),an=Lt.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),sn=en.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),on=[["blur","blur",0],["cancel","cancel",0],["click","click",0],["close","close",0],["contextmenu","contextMenu",0],["copy","copy",0],["cut","cut",0],["auxclick","auxClick",0],["dblclick","doubleClick",0],["dragend","dragEnd",0],["dragstart","dragStart",0],["drop","drop",0],["focus","focus",0],["input","input",0],["invalid","invalid",0],["keydown","keyDown",0],["keypress","keyPress",0],["keyup","keyUp",0],["mousedown","mouseDown",0],["mouseup","mouseUp",0],["paste","paste",0],["pause","pause",0],["play","play",0],["pointercancel","pointerCancel",0],["pointerdown","pointerDown",0],["pointerup","pointerUp",0],["ratechange","rateChange",0],["reset","reset",0],["seeked","seeked",0],["submit","submit",0],["touchcancel","touchCancel",0],["touchend","touchEnd",0],["touchstart","touchStart",0],["volumechange","volumeChange",0],["drag","drag",1],["dragenter","dragEnter",1],["dragexit","dragExit",1],["dragleave","dragLeave",1],["dragover","dragOver",1],["mousemove","mouseMove",1],["mouseout","mouseOut",1],["mouseover","mouseOver",1],["pointermove","pointerMove",1],["pointerout","pointerOut",1],["pointerover","pointerOver",1],["scroll","scroll",1],["toggle","toggle",1],["touchmove","touchMove",1],["wheel","wheel",1],["abort","abort",2],[Qe,"animationEnd",2],[Je,"animationIteration",2],[$e,"animationStart",2],["canplay","canPlay",2],["canplaythrough","canPlayThrough",2],["durationchange","durationChange",2],["emptied","emptied",2],["encrypted","encrypted",2],["ended","ended",2],["error","error",2],["gotpointercapture","gotPointerCapture",2],["load","load",2],["loadeddata","loadedData",2],["loadedmetadata","loadedMetadata",2],["loadstart","loadStart",2],["lostpointercapture","lostPointerCapture",2],["playing","playing",2],["progress","progress",2],["seeking","seeking",2],["stalled","stalled",2],["suspend","suspend",2],["timeupdate","timeUpdate",2],[Xe,"transitionEnd",2],["waiting","waiting",2]],ln={},un={},cn=0;cn<on.length;cn++){var dn=on[cn],fn=dn[0],hn=dn[1],pn=dn[2],mn="on"+(hn[0].toUpperCase()+hn.slice(1)),gn={phasedRegistrationNames:{bubbled:mn,captured:mn+"Capture"},dependencies:[fn],eventPriority:pn};ln[hn]=gn,un[fn]=gn}var yn={eventTypes:ln,getEventPriority:function(e){return void 0!==(e=un[e])?e.eventPriority:2},extractEvents:function(e,t,n,r){var a=un[e];if(!a)return null;switch(e){case"keypress":if(0===zt(n))return null;case"keydown":case"keyup":e=Qt;break;case"blur":case"focus":e=Bt;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=en;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=nn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=rn;break;case Qe:case Je:case $e:e=jt;break;case Xe:e=an;break;case"scroll":e=Gt;break;case"wheel":e=sn;break;case"copy":case"cut":case"paste":e=Ht;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=tn;break;default:e=Lt}return Mt(t=e.getPooled(a,t,n,r)),t}},_n=i.unstable_UserBlockingPriority,vn=i.unstable_runWithPriority,En=yn.getEventPriority,bn=10,Cn=[];function Nn(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=cr(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var a=Ot(e.nativeEvent);r=e.topLevelType;for(var i=e.nativeEvent,s=e.eventSystemFlags,o=null,l=0;l<d.length;l++){var u=d[l];u&&(u=u.extractEvents(r,t,i,a,s))&&(o=T(o,u))}A(o)}}var Sn=!0;function Tn(e,t){On(t,e,!1)}function On(e,t,n){switch(En(t)){case 0:var r=function(e,t,n){ue||oe();var r=kn,a=ue;ue=!0;try{se(r,e,t,n)}finally{(ue=a)||de()}}.bind(null,t,1);break;case 1:r=function(e,t,n){vn(_n,kn.bind(null,e,t,n))}.bind(null,t,1);break;default:r=kn.bind(null,t,1)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function wn(e,t,n,r){if(Cn.length){var a=Cn.pop();a.topLevelType=e,a.eventSystemFlags=t,a.nativeEvent=n,a.targetInst=r,e=a}else e={topLevelType:e,eventSystemFlags:t,nativeEvent:n,targetInst:r,ancestors:[]};try{if(t=Nn,n=e,ce)t(n,void 0);else{ce=!0;try{le(t,n,void 0)}finally{ce=!1,de()}}}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,Cn.length<bn&&Cn.push(e)}}function kn(e,t,n){if(Sn)if(0<lt.length&&-1<mt.indexOf(e))e=yt(null,e,t,n),lt.push(e);else{var r=An(e,t,n);null===r?_t(e,n):-1<mt.indexOf(e)?(e=yt(r,e,t,n),lt.push(e)):function(e,t,n,r){switch(t){case"focus":return ut=vt(ut,e,t,n,r),!0;case"dragenter":return ct=vt(ct,e,t,n,r),!0;case"mouseover":return dt=vt(dt,e,t,n,r),!0;case"pointerover":var a=r.pointerId;return ft.set(a,vt(ft.get(a)||null,e,t,n,r)),!0;case"gotpointercapture":return a=r.pointerId,ht.set(a,vt(ht.get(a)||null,e,t,n,r)),!0}return!1}(r,e,t,n)||(_t(e,n),wn(e,t,n,null))}}function An(e,t,n){var r=Ot(n);if(null!==(r=cr(r))){var a=et(r);if(null===a)r=null;else{var i=a.tag;if(13===i){if(null!==(r=tt(a)))return r;r=null}else if(3===i){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return wn(e,t,n,r),null}function Rn(e){if(!X)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var In=new("function"===typeof WeakMap?WeakMap:Map);function Mn(e){var t=In.get(e);return void 0===t&&(t=new Set,In.set(e,t)),t}function Pn(e,t,n){if(!n.has(e)){switch(e){case"scroll":On(t,"scroll",!0);break;case"focus":case"blur":On(t,"focus",!0),On(t,"blur",!0),n.add("blur"),n.add("focus");break;case"cancel":case"close":Rn(e)&&On(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ze.indexOf(e)&&Tn(e,t)}n.add(e)}}var Un={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ln=["Webkit","ms","Moz","O"];function Dn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||Un.hasOwnProperty(e)&&Un[e]?(""+t).trim():t+"px"}function xn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=Dn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(Un).forEach(function(e){Ln.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Un[t]=Un[e]})});var Fn=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jn(e,t){if(t){if(Fn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if(!("object"===typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62,""))}}function Hn(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Gn(e,t){var n=Mn(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=p[t];for(var r=0;r<t.length;r++)Pn(t[r],e,n)}function Bn(){}function zn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Vn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qn(e,t){var n,r=Vn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Vn(r)}}function Yn(){for(var e=window,t=zn();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=zn((e=t.contentWindow).document)}return t}function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Wn="$",Qn="/$",Jn="$?",$n="$!",Xn=null,Zn=null;function er(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function tr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var nr="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0;function ar(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function ir(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===Wn||n===$n||n===Jn){if(0===t)return e;t--}else n===Qn&&t++}e=e.previousSibling}return null}var sr=Math.random().toString(36).slice(2),or="__reactInternalInstance$"+sr,lr="__reactEventHandlers$"+sr,ur="__reactContainere$"+sr;function cr(e){var t=e[or];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ur]||n[or]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ir(e);null!==e;){if(n=e[or])return n;e=ir(e)}return t}n=(e=n).parentNode}return null}function dr(e){return!(e=e[or]||e[ur])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function fr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function hr(e){return e[lr]||null}var pr=null,mr=null,gr=null;function yr(){if(gr)return gr;var e,t,n=mr,r=n.length,a="value"in pr?pr.value:pr.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===a[i-t];t++);return gr=a.slice(e,1<t?1-t:void 0)}var _r=Lt.extend({data:null}),vr=Lt.extend({data:null}),Er=[9,13,27,32],br=X&&"CompositionEvent"in window,Cr=null;X&&"documentMode"in document&&(Cr=document.documentMode);var Nr=X&&"TextEvent"in window&&!Cr,Sr=X&&(!br||Cr&&8<Cr&&11>=Cr),Tr=String.fromCharCode(32),Or={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},wr=!1;function kr(e,t){switch(e){case"keyup":return-1!==Er.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Ar(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Rr=!1;var Ir={eventTypes:Or,extractEvents:function(e,t,n,r){var a;if(br)e:{switch(e){case"compositionstart":var i=Or.compositionStart;break e;case"compositionend":i=Or.compositionEnd;break e;case"compositionupdate":i=Or.compositionUpdate;break e}i=void 0}else Rr?kr(e,n)&&(i=Or.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=Or.compositionStart);return i?(Sr&&"ko"!==n.locale&&(Rr||i!==Or.compositionStart?i===Or.compositionEnd&&Rr&&(a=yr()):(mr="value"in(pr=r)?pr.value:pr.textContent,Rr=!0)),i=_r.getPooled(i,t,n,r),a?i.data=a:null!==(a=Ar(n))&&(i.data=a),Mt(i),a=i):a=null,(e=Nr?function(e,t){switch(e){case"compositionend":return Ar(t);case"keypress":return 32!==t.which?null:(wr=!0,Tr);case"textInput":return(e=t.data)===Tr&&wr?null:e;default:return null}}(e,n):function(e,t){if(Rr)return"compositionend"===e||!br&&kr(e,t)?(e=yr(),gr=mr=pr=null,Rr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sr&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=vr.getPooled(Or.beforeInput,t,n,r)).data=e,Mt(t)):t=null,null===a?t:null===t?a:[a,t]}},Mr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Mr[e.type]:"textarea"===t}var Ur={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Lr(e,t,n){return(e=Lt.getPooled(Ur.change,e,t,n)).type="change",re(n),Mt(e),e}var Dr=null,xr=null;function Fr(e){A(e)}function jr(e){if(Se(fr(e)))return e}function Hr(e,t){if("change"===e)return t}var Gr=!1;function Br(){Dr&&(Dr.detachEvent("onpropertychange",zr),xr=Dr=null)}function zr(e){if("value"===e.propertyName&&jr(xr))if(e=Lr(xr,e,Ot(e)),ue)A(e);else{ue=!0;try{ie(Fr,e)}finally{ue=!1,de()}}}function Vr(e,t,n){"focus"===e?(Br(),xr=n,(Dr=t).attachEvent("onpropertychange",zr)):"blur"===e&&Br()}function qr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return jr(xr)}function Yr(e,t){if("click"===e)return jr(t)}function Kr(e,t){if("input"===e||"change"===e)return jr(t)}X&&(Gr=Rn("input")&&(!document.documentMode||9<document.documentMode));var Wr,Qr={eventTypes:Ur,_isInputEventSupported:Gr,extractEvents:function(e,t,n,r){var a=t?fr(t):window,i=a.nodeName&&a.nodeName.toLowerCase();if("select"===i||"input"===i&&"file"===a.type)var s=Hr;else if(Pr(a))if(Gr)s=Kr;else{s=qr;var o=Vr}else(i=a.nodeName)&&"input"===i.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(s=Yr);if(s&&(s=s(e,t)))return Lr(s,n,r);o&&o(e,a,t),"blur"===e&&(e=a._wrapperState)&&e.controlled&&"number"===a.type&&Re(a,"number",a.value)}},Jr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},$r={eventTypes:Jr,extractEvents:function(e,t,n,r,a){var i="mouseover"===e||"pointerover"===e,s="mouseout"===e||"pointerout"===e;if(i&&0===(32&a)&&(n.relatedTarget||n.fromElement)||!s&&!i)return null;if(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,s?(s=t,null!==(t=(t=n.relatedTarget||n.toElement)?cr(t):null)&&(t!==(i=et(t))||5!==t.tag&&6!==t.tag)&&(t=null)):s=null,s===t)return null;if("mouseout"===e||"mouseover"===e)var o=en,l=Jr.mouseLeave,u=Jr.mouseEnter,c="mouse";else"pointerout"!==e&&"pointerover"!==e||(o=tn,l=Jr.pointerLeave,u=Jr.pointerEnter,c="pointer");if(e=null==s?a:fr(s),a=null==t?a:fr(t),(l=o.getPooled(l,s,n,r)).type=c+"leave",l.target=e,l.relatedTarget=a,(r=o.getPooled(u,t,n,r)).type=c+"enter",r.target=a,r.relatedTarget=e,c=t,(o=s)&&c)e:{for(e=c,s=0,t=u=o;t;t=wt(t))s++;for(t=0,a=e;a;a=wt(a))t++;for(;0<s-t;)u=wt(u),s--;for(;0<t-s;)e=wt(e),t--;for(;s--;){if(u===e||u===e.alternate)break e;u=wt(u),e=wt(e)}u=null}else u=null;for(e=u,u=[];o&&o!==e&&(null===(s=o.alternate)||s!==e);)u.push(o),o=wt(o);for(o=[];c&&c!==e&&(null===(s=c.alternate)||s!==e);)o.push(c),c=wt(c);for(c=0;c<u.length;c++)Rt(u[c],"bubbled",l);for(c=o.length;0<c--;)Rt(o[c],"captured",r);return n===Wr?(Wr=null,[l]):(Wr=n,[l,r])}};var Xr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Zr=Object.prototype.hasOwnProperty;function ea(e,t){if(Xr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Zr.call(t,n[r])||!Xr(e[n[r]],t[n[r]]))return!1;return!0}var ta=X&&"documentMode"in document&&11>=document.documentMode,na={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},ra=null,aa=null,ia=null,sa=!1;function oa(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return sa||null==ra||ra!==zn(n)?null:("selectionStart"in(n=ra)&&Kn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},ia&&ea(ia,n)?null:(ia=n,(e=Lt.getPooled(na.select,aa,e,t)).type="select",e.target=ra,Mt(e),e))}var la={eventTypes:na,extractEvents:function(e,t,n,r){var a,i=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(a=!i)){e:{i=Mn(i),a=p.onSelect;for(var s=0;s<a.length;s++)if(!i.has(a[s])){i=!1;break e}i=!0}a=!i}if(a)return null;switch(i=t?fr(t):window,e){case"focus":(Pr(i)||"true"===i.contentEditable)&&(ra=i,aa=t,ia=null);break;case"blur":ia=aa=ra=null;break;case"mousedown":sa=!0;break;case"contextmenu":case"mouseup":case"dragend":return sa=!1,oa(n,r);case"selectionchange":if(ta)break;case"keydown":case"keyup":return oa(n,r)}return null}};R.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),b=hr,C=dr,N=fr,R.injectEventPluginsByName({SimpleEventPlugin:yn,EnterLeaveEventPlugin:$r,ChangeEventPlugin:Qr,SelectEventPlugin:la,BeforeInputEventPlugin:Ir}),new Set;var ua=[],ca=-1;function da(e){0>ca||(e.current=ua[ca],ua[ca]=null,ca--)}function fa(e,t){ua[++ca]=e.current,e.current=t}var ha={},pa={current:ha},ma={current:!1},ga=ha;function ya(e,t){var n=e.type.contextTypes;if(!n)return ha;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function _a(e){return null!==(e=e.childContextTypes)&&void 0!==e}function va(e){da(ma),da(pa)}function Ea(e){da(ma),da(pa)}function ba(e,t,n){if(pa.current!==ha)throw Error(s(168));fa(pa,t),fa(ma,n)}function Ca(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(s(108,J(t)||"Unknown",i));return a({},n,{},r)}function Na(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||ha,ga=pa.current,fa(pa,t),fa(ma,ma.current),!0}function Sa(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(t=Ca(e,t,ga),r.__reactInternalMemoizedMergedChildContext=t,da(ma),da(pa),fa(pa,t)):da(ma),fa(ma,n)}var Ta=i.unstable_runWithPriority,Oa=i.unstable_scheduleCallback,wa=i.unstable_cancelCallback,ka=i.unstable_shouldYield,Aa=i.unstable_requestPaint,Ra=i.unstable_now,Ia=i.unstable_getCurrentPriorityLevel,Ma=i.unstable_ImmediatePriority,Pa=i.unstable_UserBlockingPriority,Ua=i.unstable_NormalPriority,La=i.unstable_LowPriority,Da=i.unstable_IdlePriority,xa={},Fa=void 0!==Aa?Aa:function(){},ja=null,Ha=null,Ga=!1,Ba=Ra(),za=1e4>Ba?Ra:function(){return Ra()-Ba};function Va(){switch(Ia()){case Ma:return 99;case Pa:return 98;case Ua:return 97;case La:return 96;case Da:return 95;default:throw Error(s(332))}}function qa(e){switch(e){case 99:return Ma;case 98:return Pa;case 97:return Ua;case 96:return La;case 95:return Da;default:throw Error(s(332))}}function Ya(e,t){return e=qa(e),Ta(e,t)}function Ka(e,t,n){return e=qa(e),Oa(e,t,n)}function Wa(e){return null===ja?(ja=[e],Ha=Oa(Ma,Ja)):ja.push(e),xa}function Qa(){if(null!==Ha){var e=Ha;Ha=null,wa(e)}Ja()}function Ja(){if(!Ga&&null!==ja){Ga=!0;var e=0;try{var t=ja;Ya(99,function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}}),ja=null}catch(n){throw null!==ja&&(ja=ja.slice(e+1)),Oa(Ma,Qa),n}finally{Ga=!1}}}var $a=3;function Xa(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Za(e,t){if(e&&e.defaultProps)for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var ei={current:null},ti=null,ni=null,ri=null;function ai(){ri=ni=ti=null}function ii(e,t){var n=e.type._context;fa(ei,n._currentValue),n._currentValue=t}function si(e){var t=ei.current;da(ei),e.type._context._currentValue=t}function oi(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function li(e,t){ti=e,ri=ni=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Bs=!0),e.firstContext=null)}function ui(e,t){if(ri!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ri=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ni){if(null===ti)throw Error(s(308));ni=t,ti.dependencies={expirationTime:0,firstContext:t,responders:null}}else ni=ni.next=t;return e._currentValue}var ci=!1;function di(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function fi(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function hi(e,t){return{expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function pi(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function mi(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,a=null;null===r&&(r=e.updateQueue=di(e.memoizedState))}else r=e.updateQueue,a=n.updateQueue,null===r?null===a?(r=e.updateQueue=di(e.memoizedState),a=n.updateQueue=di(n.memoizedState)):r=e.updateQueue=fi(a):null===a&&(a=n.updateQueue=fi(r));null===a||r===a?pi(r,t):null===r.lastUpdate||null===a.lastUpdate?(pi(r,t),pi(a,t)):(pi(r,t),a.lastUpdate=t)}function gi(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=di(e.memoizedState):yi(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function yi(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=fi(t)),t}function _i(e,t,n,r,i,s){switch(n.tag){case 1:return"function"===typeof(e=n.payload)?e.call(s,r,i):e;case 3:e.effectTag=-4097&e.effectTag|64;case 0:if(null===(i="function"===typeof(e=n.payload)?e.call(s,r,i):e)||void 0===i)break;return a({},r,i);case 2:ci=!0}return r}function vi(e,t,n,r,a){ci=!1;for(var i=(t=yi(e,t)).baseState,s=null,o=0,l=t.firstUpdate,u=i;null!==l;){var c=l.expirationTime;c<a?(null===s&&(s=l,i=u),o<c&&(o=c)):(Sl(c,l.suspenseConfig),u=_i(e,0,l,u,n,r),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=l:(t.lastEffect.nextEffect=l,t.lastEffect=l))),l=l.next}for(c=null,l=t.firstCapturedUpdate;null!==l;){var d=l.expirationTime;d<a?(null===c&&(c=l,null===s&&(i=u)),o<d&&(o=d)):(u=_i(e,0,l,u,n,r),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=l:(t.lastCapturedEffect.nextEffect=l,t.lastCapturedEffect=l))),l=l.next}null===s&&(t.lastUpdate=null),null===c?t.lastCapturedUpdate=null:e.effectTag|=32,null===s&&null===c&&(i=u),t.baseState=i,t.firstUpdate=s,t.firstCapturedUpdate=c,Tl(o),e.expirationTime=o,e.memoizedState=u}function Ei(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),bi(t.firstEffect,n),t.firstEffect=t.lastEffect=null,bi(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function bi(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;if("function"!==typeof n)throw Error(s(191,n));n.call(r)}e=e.nextEffect}}var Ci=M.ReactCurrentBatchConfig,Ni=(new r.Component).refs;function Si(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:a({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var Ti={isMounted:function(e){return!!(e=e._reactInternalFiber)&&et(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=fl(),a=Ci.suspense;(a=hi(r=hl(r,e,a),a)).payload=t,void 0!==n&&null!==n&&(a.callback=n),mi(e,a),pl(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=fl(),a=Ci.suspense;(a=hi(r=hl(r,e,a),a)).tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),mi(e,a),pl(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=fl(),r=Ci.suspense;(r=hi(n=hl(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),mi(e,r),pl(e,n)}};function Oi(e,t,n,r,a,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!ea(n,r)||!ea(a,i))}function wi(e,t,n){var r=!1,a=ha,i=t.contextType;return"object"===typeof i&&null!==i?i=ui(i):(a=_a(t)?ga:pa.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?ya(e,a):ha),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ti,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function ki(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ti.enqueueReplaceState(t,t.state,null)}function Ai(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=Ni;var i=t.contextType;"object"===typeof i&&null!==i?a.context=ui(i):(i=_a(t)?ga:pa.current,a.context=ya(e,i)),null!==(i=e.updateQueue)&&(vi(e,i,n,a,r),a.state=e.memoizedState),"function"===typeof(i=t.getDerivedStateFromProps)&&(Si(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&Ti.enqueueReplaceState(a,a.state,null),null!==(i=e.updateQueue)&&(vi(e,i,n,a,r),a.state=e.memoizedState)),"function"===typeof a.componentDidMount&&(e.effectTag|=4)}var Ri=Array.isArray;function Ii(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=r.refs;t===Ni&&(t=r.refs={}),null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Mi(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Pi(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t,n){return(e=zl(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function o(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Yl(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=a(t,n.props)).ref=Ii(e,t,n),r.return=e,r):((r=Vl(n.type,n.key,n.props,null,e.mode,r)).ref=Ii(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Kl(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=ql(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Yl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case L:return(n=Vl(t.type,t.key,t.props,null,e.mode,n)).ref=Ii(e,null,t),n.return=e,n;case D:return(t=Kl(t,e.mode,n)).return=e,t}if(Ri(t)||Q(t))return(t=ql(t,e.mode,n,null)).return=e,t;Mi(e,t)}return null}function h(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case L:return n.key===a?n.type===x?d(e,t,n.props.children,r,a):u(e,t,n,r):null;case D:return n.key===a?c(e,t,n,r):null}if(Ri(n)||Q(n))return null!==a?null:d(e,t,n,r,null);Mi(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case L:return e=e.get(null===r.key?n:r.key)||null,r.type===x?d(t,e,r.props.children,a,r.key):u(t,e,r,a);case D:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a)}if(Ri(r)||Q(r))return d(t,e=e.get(n)||null,r,a,null);Mi(t,r)}return null}function m(a,s,o,l){for(var u=null,c=null,d=s,m=s=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=h(a,d,o[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(a,d),s=i(y,s,m),null===c?u=y:c.sibling=y,c=y,d=g}if(m===o.length)return n(a,d),u;if(null===d){for(;m<o.length;m++)null!==(d=f(a,o[m],l))&&(s=i(d,s,m),null===c?u=d:c.sibling=d,c=d);return u}for(d=r(a,d);m<o.length;m++)null!==(g=p(d,a,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=i(g,s,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach(function(e){return t(a,e)}),u}function g(a,o,l,u){var c=Q(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var d=c=null,m=o,g=o=0,y=null,_=l.next();null!==m&&!_.done;g++,_=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var v=h(a,m,_.value,u);if(null===v){null===m&&(m=y);break}e&&m&&null===v.alternate&&t(a,m),o=i(v,o,g),null===d?c=v:d.sibling=v,d=v,m=y}if(_.done)return n(a,m),c;if(null===m){for(;!_.done;g++,_=l.next())null!==(_=f(a,_.value,u))&&(o=i(_,o,g),null===d?c=_:d.sibling=_,d=_);return c}for(m=r(a,m);!_.done;g++,_=l.next())null!==(_=p(m,a,g,_.value,u))&&(e&&null!==_.alternate&&m.delete(null===_.key?g:_.key),o=i(_,o,g),null===d?c=_:d.sibling=_,d=_);return e&&m.forEach(function(e){return t(a,e)}),c}return function(e,r,i,l){var u="object"===typeof i&&null!==i&&i.type===x&&null===i.key;u&&(i=i.props.children);var c="object"===typeof i&&null!==i;if(c)switch(i.$$typeof){case L:e:{for(c=i.key,u=r;null!==u;){if(u.key===c){if(7===u.tag?i.type===x:u.elementType===i.type){n(e,u.sibling),(r=a(u,i.type===x?i.props.children:i.props)).ref=Ii(e,u,i),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}i.type===x?((r=ql(i.props.children,e.mode,l,i.key)).return=e,e=r):((l=Vl(i.type,i.key,i.props,null,e.mode,l)).ref=Ii(e,r,i),l.return=e,e=l)}return o(e);case D:e:{for(u=i.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(e,r.sibling),(r=a(r,i.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Kl(i,e.mode,l)).return=e,e=r}return o(e)}if("string"===typeof i||"number"===typeof i)return i=""+i,null!==r&&6===r.tag?(n(e,r.sibling),(r=a(r,i)).return=e,e=r):(n(e,r),(r=Yl(i,e.mode,l)).return=e,e=r),o(e);if(Ri(i))return m(e,r,i,l);if(Q(i))return g(e,r,i,l);if(c&&Mi(e,i),"undefined"===typeof i&&!u)switch(e.tag){case 1:case 0:throw e=e.type,Error(s(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Ui=Pi(!0),Li=Pi(!1),Di={},xi={current:Di},Fi={current:Di},ji={current:Di};function Hi(e){if(e===Di)throw Error(s(174));return e}function Gi(e,t){fa(ji,t),fa(Fi,e),fa(xi,Di);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:je(null,"");break;default:t=je(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}da(xi),fa(xi,t)}function Bi(e){da(xi),da(Fi),da(ji)}function zi(e){Hi(ji.current);var t=Hi(xi.current),n=je(t,e.type);t!==n&&(fa(Fi,e),fa(xi,n))}function Vi(e){Fi.current===e&&(da(xi),da(Fi))}var qi={current:0};function Yi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===Jn||n.data===$n))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ki(e,t){return{responder:e,props:t}}var Wi=M.ReactCurrentDispatcher,Qi=M.ReactCurrentBatchConfig,Ji=0,$i=null,Xi=null,Zi=null,es=null,ts=null,ns=null,rs=0,as=null,is=0,ss=!1,os=null,ls=0;function us(){throw Error(s(321))}function cs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xr(e[n],t[n]))return!1;return!0}function ds(e,t,n,r,a,i){if(Ji=i,$i=t,Zi=null!==e?e.memoizedState:null,Wi.current=null===Zi?Rs:Is,t=n(r,a),ss){do{ss=!1,ls+=1,Zi=null!==e?e.memoizedState:null,ns=es,as=ts=Xi=null,Wi.current=Is,t=n(r,a)}while(ss);os=null,ls=0}if(Wi.current=As,(e=$i).memoizedState=es,e.expirationTime=rs,e.updateQueue=as,e.effectTag|=is,e=null!==Xi&&null!==Xi.next,Ji=0,ns=ts=es=Zi=Xi=$i=null,rs=0,as=null,is=0,e)throw Error(s(300));return t}function fs(){Wi.current=As,Ji=0,ns=ts=es=Zi=Xi=$i=null,rs=0,as=null,is=0,ss=!1,os=null,ls=0}function hs(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===ts?es=ts=e:ts=ts.next=e,ts}function ps(){if(null!==ns)ns=(ts=ns).next,Zi=null!==(Xi=Zi)?Xi.next:null;else{if(null===Zi)throw Error(s(310));var e={memoizedState:(Xi=Zi).memoizedState,baseState:Xi.baseState,queue:Xi.queue,baseUpdate:Xi.baseUpdate,next:null};ts=null===ts?es=e:ts.next=e,Zi=Xi.next}return ts}function ms(e,t){return"function"===typeof t?t(e):t}function gs(e){var t=ps(),n=t.queue;if(null===n)throw Error(s(311));if(n.lastRenderedReducer=e,0<ls){var r=n.dispatch;if(null!==os){var a=os.get(n);if(void 0!==a){os.delete(n);var i=t.memoizedState;do{i=e(i,a.action),a=a.next}while(null!==a);return Xr(i,t.memoizedState)||(Bs=!0),t.memoizedState=i,t.baseUpdate===n.last&&(t.baseState=i),n.lastRenderedState=i,[i,r]}}return[t.memoizedState,r]}r=n.last;var o=t.baseUpdate;if(i=t.baseState,null!==o?(null!==r&&(r.next=null),r=o.next):r=null!==r?r.next:null,null!==r){var l=a=null,u=r,c=!1;do{var d=u.expirationTime;d<Ji?(c||(c=!0,l=o,a=i),d>rs&&Tl(rs=d)):(Sl(d,u.suspenseConfig),i=u.eagerReducer===e?u.eagerState:e(i,u.action)),o=u,u=u.next}while(null!==u&&u!==r);c||(l=o,a=i),Xr(i,t.memoizedState)||(Bs=!0),t.memoizedState=i,t.baseUpdate=l,t.baseState=a,n.lastRenderedState=i}return[t.memoizedState,n.dispatch]}function ys(e){var t=hs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:ms,lastRenderedState:e}).dispatch=ks.bind(null,$i,e),[t.memoizedState,e]}function _s(e){return gs(ms)}function vs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===as?(as={lastEffect:null}).lastEffect=e.next=e:null===(t=as.lastEffect)?as.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,as.lastEffect=e),e}function Es(e,t,n,r){var a=hs();is|=e,a.memoizedState=vs(t,n,void 0,void 0===r?null:r)}function bs(e,t,n,r){var a=ps();r=void 0===r?null:r;var i=void 0;if(null!==Xi){var s=Xi.memoizedState;if(i=s.destroy,null!==r&&cs(r,s.deps))return void vs(0,n,i,r)}is|=e,a.memoizedState=vs(t,n,i,r)}function Cs(e,t){return Es(516,192,e,t)}function Ns(e,t){return bs(516,192,e,t)}function Ss(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ts(){}function Os(e,t){return hs().memoizedState=[e,void 0===t?null:t],e}function ws(e,t){var n=ps();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&cs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ks(e,t,n){if(!(25>ls))throw Error(s(301));var r=e.alternate;if(e===$i||null!==r&&r===$i)if(ss=!0,e={expirationTime:Ji,suspenseConfig:null,action:n,eagerReducer:null,eagerState:null,next:null},null===os&&(os=new Map),void 0===(n=os.get(t)))os.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{var a=fl(),i=Ci.suspense;i={expirationTime:a=hl(a,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.last;if(null===o)i.next=i;else{var l=o.next;null!==l&&(i.next=l),o.next=i}if(t.last=i,0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.lastRenderedReducer))try{var u=t.lastRenderedState,c=r(u,n);if(i.eagerReducer=r,i.eagerState=c,Xr(c,u))return}catch(d){}pl(e,a)}}var As={readContext:ui,useCallback:us,useContext:us,useEffect:us,useImperativeHandle:us,useLayoutEffect:us,useMemo:us,useReducer:us,useRef:us,useState:us,useDebugValue:us,useResponder:us,useDeferredValue:us,useTransition:us},Rs={readContext:ui,useCallback:Os,useContext:ui,useEffect:Cs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Es(4,36,Ss.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Es(4,36,e,t)},useMemo:function(e,t){var n=hs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=hs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ks.bind(null,$i,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},hs().memoizedState=e},useState:ys,useDebugValue:Ts,useResponder:Ki,useDeferredValue:function(e,t){var n=ys(e),r=n[0],a=n[1];return Cs(function(){i.unstable_next(function(){var n=Qi.suspense;Qi.suspense=void 0===t?null:t;try{a(e)}finally{Qi.suspense=n}})},[e,t]),r},useTransition:function(e){var t=ys(!1),n=t[0],r=t[1];return[Os(function(t){r(!0),i.unstable_next(function(){var n=Qi.suspense;Qi.suspense=void 0===e?null:e;try{r(!1),t()}finally{Qi.suspense=n}})},[e,n]),n]}},Is={readContext:ui,useCallback:ws,useContext:ui,useEffect:Ns,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bs(4,36,Ss.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bs(4,36,e,t)},useMemo:function(e,t){var n=ps();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&cs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:gs,useRef:function(){return ps().memoizedState},useState:_s,useDebugValue:Ts,useResponder:Ki,useDeferredValue:function(e,t){var n=_s(),r=n[0],a=n[1];return Ns(function(){i.unstable_next(function(){var n=Qi.suspense;Qi.suspense=void 0===t?null:t;try{a(e)}finally{Qi.suspense=n}})},[e,t]),r},useTransition:function(e){var t=_s(),n=t[0],r=t[1];return[ws(function(t){r(!0),i.unstable_next(function(){var n=Qi.suspense;Qi.suspense=void 0===e?null:e;try{r(!1),t()}finally{Qi.suspense=n}})},[e,n]),n]}},Ms=null,Ps=null,Us=!1;function Ls(e,t){var n=Gl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ds(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function xs(e){if(Us){var t=Ps;if(t){var n=t;if(!Ds(e,t)){if(!(t=ar(n.nextSibling))||!Ds(e,t))return e.effectTag=-1025&e.effectTag|2,Us=!1,void(Ms=e);Ls(Ms,n)}Ms=e,Ps=ar(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Us=!1,Ms=e}}function Fs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ms=e}function js(e){if(e!==Ms)return!1;if(!Us)return Fs(e),Us=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!tr(t,e.memoizedProps))for(t=Ps;t;)Ls(e,t),t=ar(t.nextSibling);if(Fs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===Qn){if(0===t){Ps=ar(e.nextSibling);break e}t--}else n!==Wn&&n!==$n&&n!==Jn||t++}e=e.nextSibling}Ps=null}}else Ps=Ms?ar(e.stateNode.nextSibling):null;return!0}function Hs(){Ps=Ms=null,Us=!1}var Gs=M.ReactCurrentOwner,Bs=!1;function zs(e,t,n,r){t.child=null===e?Li(t,null,n,r):Ui(t,e.child,n,r)}function Vs(e,t,n,r,a){n=n.render;var i=t.ref;return li(t,a),r=ds(e,t,n,r,i,a),null===e||Bs?(t.effectTag|=1,zs(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=a&&(e.expirationTime=0),oo(e,t,a))}function qs(e,t,n,r,a,i){if(null===e){var s=n.type;return"function"!==typeof s||Bl(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Vl(n.type,null,r,null,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ys(e,t,s,r,a,i))}return s=e.child,a<i&&(a=s.memoizedProps,(n=null!==(n=n.compare)?n:ea)(a,r)&&e.ref===t.ref)?oo(e,t,i):(t.effectTag|=1,(e=zl(s,r)).ref=t.ref,e.return=t,t.child=e)}function Ys(e,t,n,r,a,i){return null!==e&&ea(e.memoizedProps,r)&&e.ref===t.ref&&(Bs=!1,a<i)?oo(e,t,i):Ws(e,t,n,r,i)}function Ks(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Ws(e,t,n,r,a){var i=_a(n)?ga:pa.current;return i=ya(t,i),li(t,a),n=ds(e,t,n,r,i,a),null===e||Bs?(t.effectTag|=1,zs(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=a&&(e.expirationTime=0),oo(e,t,a))}function Qs(e,t,n,r,a){if(_a(n)){var i=!0;Na(t)}else i=!1;if(li(t,a),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),wi(t,n,r),Ai(t,n,r,a),r=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,u=n.contextType;"object"===typeof u&&null!==u?u=ui(u):u=ya(t,u=_a(n)?ga:pa.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==r||l!==u)&&ki(t,s,r,u),ci=!1;var f=t.memoizedState;l=s.state=f;var h=t.updateQueue;null!==h&&(vi(t,h,r,s,a),l=t.memoizedState),o!==r||f!==l||ma.current||ci?("function"===typeof c&&(Si(t,n,c,r),l=t.memoizedState),(o=ci||Oi(t,n,o,r,f,l,u))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.effectTag|=4)):("function"===typeof s.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=o):("function"===typeof s.componentDidMount&&(t.effectTag|=4),r=!1)}else s=t.stateNode,o=t.memoizedProps,s.props=t.type===t.elementType?o:Za(t.type,o),l=s.context,"object"===typeof(u=n.contextType)&&null!==u?u=ui(u):u=ya(t,u=_a(n)?ga:pa.current),(d="function"===typeof(c=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==r||l!==u)&&ki(t,s,r,u),ci=!1,l=t.memoizedState,f=s.state=l,null!==(h=t.updateQueue)&&(vi(t,h,r,s,a),f=t.memoizedState),o!==r||l!==f||ma.current||ci?("function"===typeof c&&(Si(t,n,c,r),f=t.memoizedState),(c=ci||Oi(t,n,o,r,l,f,u))?(d||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,u),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,u)),"function"===typeof s.componentDidUpdate&&(t.effectTag|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=u,r=c):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),r=!1);return Js(e,t,n,r,i,a)}function Js(e,t,n,r,a,i){Ks(e,t);var s=0!==(64&t.effectTag);if(!r&&!s)return a&&Sa(t,n,!1),oo(e,t,i);r=t.stateNode,Gs.current=t;var o=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&s?(t.child=Ui(t,e.child,null,i),t.child=Ui(t,null,o,i)):zs(e,t,o,i),t.memoizedState=r.state,a&&Sa(t,n,!0),t.child}function $s(e){var t=e.stateNode;t.pendingContext?ba(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ba(0,t.context,!1),Gi(e,t.containerInfo)}var Xs,Zs,eo,to,no={dehydrated:null,retryTime:0};function ro(e,t,n){var r,a=t.mode,i=t.pendingProps,s=qi.current,o=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&s)&&(null===e||null!==e.memoizedState)),r?(o=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(s|=1),fa(qi,1&s),null===e){if(void 0!==i.fallback&&xs(t),o){if(o=i.fallback,(i=ql(null,a,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;return(n=ql(o,a,n,null)).return=t,i.sibling=n,t.memoizedState=no,t.child=i,n}return a=i.children,t.memoizedState=null,t.child=Li(t,null,a,n)}if(null!==e.memoizedState){if(a=(e=e.child).sibling,o){if(i=i.fallback,(n=zl(e,e.pendingProps)).return=t,0===(2&t.mode)&&(o=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=o;null!==o;)o.return=n,o=o.sibling;return(a=zl(a,i,a.expirationTime)).return=t,n.sibling=a,n.childExpirationTime=0,t.memoizedState=no,t.child=n,a}return n=Ui(t,e.child,i.children,n),t.memoizedState=null,t.child=n}if(e=e.child,o){if(o=i.fallback,(i=ql(null,a,0,null)).return=t,i.child=e,null!==e&&(e.return=i),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;return(n=ql(o,a,n,null)).return=t,i.sibling=n,n.effectTag|=2,i.childExpirationTime=0,t.memoizedState=no,t.child=i,n}return t.memoizedState=null,t.child=Ui(t,e,i.children,n)}function ao(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),oi(e.return,t)}function io(e,t,n,r,a,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,last:r,tail:n,tailExpiration:0,tailMode:a,lastEffect:i}:(s.isBackwards=t,s.rendering=null,s.last=r,s.tail=n,s.tailExpiration=0,s.tailMode=a,s.lastEffect=i)}function so(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(zs(e,t,r.children,n),0!==(2&(r=qi.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ao(e,n);else if(19===e.tag)ao(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fa(qi,r),0===(2&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===Yi(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),io(t,!1,a,n,i,t.lastEffect);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Yi(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}io(t,!0,n,null,i,t.lastEffect);break;case"together":io(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function oo(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&Tl(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=zl(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zl(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function lo(e){e.effectTag|=4}function uo(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function co(e){switch(e.tag){case 1:_a(e.type)&&va();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Bi(),Ea(),0!==(64&(t=e.effectTag)))throw Error(s(285));return e.effectTag=-4097&t|64,e;case 5:return Vi(e),null;case 13:return da(qi),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return da(qi),null;case 4:return Bi(),null;case 10:return si(e),null;default:return null}}function fo(e,t){return{value:e,source:t,stack:$(t)}}Xs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Zs=function(){},eo=function(e,t,n,r,i){var s=e.memoizedProps;if(s!==r){var o,l,u=t.stateNode;switch(Hi(xi.current),e=null,n){case"input":s=Te(u,s),r=Te(u,r),e=[];break;case"option":s=Ie(u,s),r=Ie(u,r),e=[];break;case"select":s=a({},s,{value:void 0}),r=a({},r,{value:void 0}),e=[];break;case"textarea":s=Pe(u,s),r=Pe(u,r),e=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(u.onclick=Bn)}for(o in jn(n,r),n=null,s)if(!r.hasOwnProperty(o)&&s.hasOwnProperty(o)&&null!=s[o])if("style"===o)for(l in u=s[o])u.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==o&&"children"!==o&&"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(h.hasOwnProperty(o)?e||(e=[]):(e=e||[]).push(o,null));for(o in r){var c=r[o];if(u=null!=s?s[o]:void 0,r.hasOwnProperty(o)&&c!==u&&(null!=c||null!=u))if("style"===o)if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(e||(e=[]),e.push(o,n)),n=c;else"dangerouslySetInnerHTML"===o?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(o,""+c)):"children"===o?u===c||"string"!==typeof c&&"number"!==typeof c||(e=e||[]).push(o,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&(h.hasOwnProperty(o)?(null!=c&&Gn(i,o),e||u===c||(e=[])):(e=e||[]).push(o,c))}n&&(e=e||[]).push("style",n),i=e,(t.updateQueue=i)&&lo(t)}},to=function(e,t,n,r){n!==r&&lo(t)};var ho="function"===typeof WeakSet?WeakSet:Set;function po(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=$(n)),null!==n&&J(n.type),t=t.value,null!==e&&1===e.tag&&J(e.type);try{console.error(t)}catch(a){setTimeout(function(){throw a})}}function mo(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Dl(e,n)}else t.current=null}function go(e,t){switch(t.tag){case 0:case 11:case 15:yo(2,0,t);break;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Za(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}break;case 3:case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}function yo(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if(0!==(r.tag&e)){var a=r.destroy;r.destroy=void 0,void 0!==a&&a()}0!==(r.tag&t)&&(a=r.create,r.destroy=a()),r=r.next}while(r!==n)}}function _o(e,t,n){switch("function"===typeof jl&&jl(t),t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Ya(97<n?97:n,function(){var e=r;do{var n=e.destroy;if(void 0!==n){var a=t;try{n()}catch(i){Dl(a,i)}}e=e.next}while(e!==r)})}break;case 1:mo(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){Dl(e,n)}}(t,n);break;case 5:mo(t);break;case 4:Co(e,t,n)}}function vo(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,null!==t&&vo(t)}function Eo(e){return 5===e.tag||3===e.tag||4===e.tag}function bo(e){e:{for(var t=e.return;null!==t;){if(Eo(t)){var n=t;break e}t=t.return}throw Error(s(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.effectTag&&(ze(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Eo(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var a=e;;){var i=5===a.tag||6===a.tag;if(i){var o=i?a.stateNode:a.stateNode.instance;if(n)if(r){var l=o;o=n,8===(i=t).nodeType?i.parentNode.insertBefore(l,o):i.insertBefore(l,o)}else t.insertBefore(o,n);else r?(8===(l=t).nodeType?(i=l.parentNode).insertBefore(o,l):(i=l).appendChild(o),null!==(l=l._reactRootContainer)&&void 0!==l||null!==i.onclick||(i.onclick=Bn)):t.appendChild(o)}else if(4!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===e)break;for(;null===a.sibling;){if(null===a.return||a.return===e)return;a=a.return}a.sibling.return=a.return,a=a.sibling}}function Co(e,t,n){for(var r,a,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(s(160));switch(r=o.stateNode,o.tag){case 5:a=!1;break e;case 3:case 4:r=r.containerInfo,a=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var l=e,u=i,c=n,d=u;;)if(_o(l,d,c),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===u)break;for(;null===d.sibling;){if(null===d.return||d.return===u)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}a?(l=r,u=i.stateNode,8===l.nodeType?l.parentNode.removeChild(u):l.removeChild(u)):r.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){r=i.stateNode.containerInfo,a=!0,i.child.return=i,i=i.child;continue}}else if(_o(e,i,n),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function No(e,t){switch(t.tag){case 0:case 11:case 14:case 15:yo(4,8,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,a=null!==e?e.memoizedProps:r;e=t.type;var i=t.updateQueue;if(t.updateQueue=null,null!==i){for(n[lr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&we(n,r),Hn(e,a),t=Hn(e,r),a=0;a<i.length;a+=2){var o=i[a],l=i[a+1];"style"===o?xn(n,l):"dangerouslySetInnerHTML"===o?Be(n,l):"children"===o?ze(n,l):be(n,o,l,t)}switch(e){case"input":ke(n,r);break;case"textarea":Le(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Me(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Me(n,!!r.multiple,r.defaultValue,!0):Me(n,!!r.multiple,r.multiple?[]:"",!1))}}}break;case 6:if(null===t.stateNode)throw Error(s(162));t.stateNode.nodeValue=t.memoizedProps;break;case 3:(t=t.stateNode).hydrate&&(t.hydrate=!1,Tt(t.containerInfo));break;case 12:break;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Zo=za()),null!==n)e:for(e=n;;){if(5===e.tag)i=e.stateNode,r?"function"===typeof(i=i.style).setProperty?i.setProperty("display","none","important"):i.display="none":(i=e.stateNode,a=void 0!==(a=e.memoizedProps.style)&&null!==a&&a.hasOwnProperty("display")?a.display:null,i.style.display=Dn("display",a));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(i=e.child.sibling).return=e,e=i;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}So(t);break;case 19:So(t);break;case 17:case 20:case 21:break;default:throw Error(s(163))}}function So(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ho),t.forEach(function(t){var r=function(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=hl(t=fl(),e,null)),null!==(e=ml(e,t))&&yl(e)}.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}var To="function"===typeof WeakMap?WeakMap:Map;function Oo(e,t,n){(n=hi(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){nl||(nl=!0,rl=r),po(e,t)},n}function wo(e,t,n){(n=hi(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return po(e,t),r(a)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===al?al=new Set([this]):al.add(this),po(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var ko,Ao=Math.ceil,Ro=M.ReactCurrentDispatcher,Io=M.ReactCurrentOwner,Mo=0,Po=8,Uo=16,Lo=32,Do=0,xo=1,Fo=2,jo=3,Ho=4,Go=5,Bo=Mo,zo=null,Vo=null,qo=0,Yo=Do,Ko=null,Wo=1073741823,Qo=1073741823,Jo=null,$o=0,Xo=!1,Zo=0,el=500,tl=null,nl=!1,rl=null,al=null,il=!1,sl=null,ol=90,ll=null,ul=0,cl=null,dl=0;function fl(){return(Bo&(Uo|Lo))!==Mo?1073741821-(za()/10|0):0!==dl?dl:dl=1073741821-(za()/10|0)}function hl(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=Va();if(0===(4&t))return 99===r?1073741823:1073741822;if((Bo&Uo)!==Mo)return qo;if(null!==n)e=Xa(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Xa(e,150,100);break;case 97:case 96:e=Xa(e,5e3,250);break;case 95:e=2;break;default:throw Error(s(326))}return null!==zo&&e===qo&&--e,e}function pl(e,t){if(50<ul)throw ul=0,cl=null,Error(s(185));if(null!==(e=ml(e,t))){var n=Va();1073741823===t?(Bo&Po)!==Mo&&(Bo&(Uo|Lo))===Mo?_l(e):(yl(e),Bo===Mo&&Qa()):yl(e),(4&Bo)===Mo||98!==n&&99!==n||(null===ll?ll=new Map([[e,t]]):(void 0===(n=ll.get(e))||n>t)&&ll.set(e,t))}}function ml(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,a=null;if(null===r&&3===e.tag)a=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){a=r.stateNode;break}r=r.return}return null!==a&&(zo===a&&(Tl(t),Yo===Ho&&Jl(a,qo)),$l(a,t)),a}function gl(e){var t=e.lastExpiredTime;return 0!==t?t:Ql(e,t=e.firstPendingTime)?(t=e.lastPingedTime)>(e=e.nextKnownPendingLevel)?t:e:t}function yl(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Wa(_l.bind(null,e));else{var t=gl(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=fl();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var a=e.callbackPriority;if(e.callbackExpirationTime===t&&a>=r)return;n!==xa&&wa(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Wa(_l.bind(null,e)):Ka(r,function e(t,n){dl=0;if(n)return n=fl(),Xl(t,n),yl(t),null;var r=gl(t);if(0!==r){if(n=t.callbackNode,(Bo&(Uo|Lo))!==Mo)throw Error(s(327));if(Pl(),t===zo&&r===qo||bl(t,r),null!==Vo){var a=Bo;Bo|=Uo;for(var i=Nl();;)try{wl();break}catch(u){Cl(t,u)}if(ai(),Bo=a,Ro.current=i,Yo===xo)throw n=Ko,bl(t,r),Jl(t,r),yl(t),n;if(null===Vo)switch(i=t.finishedWork=t.current.alternate,t.finishedExpirationTime=r,a=Yo,zo=null,a){case Do:case xo:throw Error(s(345));case Fo:Xl(t,2<r?2:r);break;case jo:if(Jl(t,r),a=t.lastSuspendedTime,r===a&&(t.nextKnownPendingLevel=Rl(i)),1073741823===Wo&&10<(i=Zo+el-za())){if(Xo){var o=t.lastPingedTime;if(0===o||o>=r){t.lastPingedTime=r,bl(t,r);break}}if(0!==(o=gl(t))&&o!==r)break;if(0!==a&&a!==r){t.lastPingedTime=a;break}t.timeoutHandle=nr(Il.bind(null,t),i);break}Il(t);break;case Ho:if(Jl(t,r),a=t.lastSuspendedTime,r===a&&(t.nextKnownPendingLevel=Rl(i)),Xo&&(0===(i=t.lastPingedTime)||i>=r)){t.lastPingedTime=r,bl(t,r);break}if(0!==(i=gl(t))&&i!==r)break;if(0!==a&&a!==r){t.lastPingedTime=a;break}if(1073741823!==Qo?a=10*(1073741821-Qo)-za():1073741823===Wo?a=0:(a=10*(1073741821-Wo)-5e3,i=za(),r=10*(1073741821-r)-i,0>(a=i-a)&&(a=0),a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Ao(a/1960))-a,r<a&&(a=r)),10<a){t.timeoutHandle=nr(Il.bind(null,t),a);break}Il(t);break;case Go:if(1073741823!==Wo&&null!==Jo){o=Wo;var l=Jo;if(0>=(a=0|l.busyMinDurationMs)?a=0:(i=0|l.busyDelayMs,o=za()-(10*(1073741821-o)-(0|l.timeoutMs||5e3)),a=o<=i?0:i+a-o),10<a){Jl(t,r),t.timeoutHandle=nr(Il.bind(null,t),a);break}}Il(t);break;default:throw Error(s(329))}if(yl(t),t.callbackNode===n)return e.bind(null,t)}}return null}.bind(null,e),{timeout:10*(1073741821-t)-za()}),e.callbackNode=t}}}function _l(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,e.finishedExpirationTime===t)Il(e);else{if((Bo&(Uo|Lo))!==Mo)throw Error(s(327));if(Pl(),e===zo&&t===qo||bl(e,t),null!==Vo){var n=Bo;Bo|=Uo;for(var r=Nl();;)try{Ol();break}catch(a){Cl(e,a)}if(ai(),Bo=n,Ro.current=r,Yo===xo)throw n=Ko,bl(e,t),Jl(e,t),yl(e),n;if(null!==Vo)throw Error(s(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,zo=null,Il(e),yl(e)}}return null}function vl(e,t){var n=Bo;Bo|=1;try{return e(t)}finally{(Bo=n)===Mo&&Qa()}}function El(e,t){var n=Bo;Bo&=-2,Bo|=Po;try{return e(t)}finally{(Bo=n)===Mo&&Qa()}}function bl(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Vo)for(n=Vo.return;null!==n;){var r=n;switch(r.tag){case 1:var a=r.type.childContextTypes;null!==a&&void 0!==a&&va();break;case 3:Bi(),Ea();break;case 5:Vi(r);break;case 4:Bi();break;case 13:case 19:da(qi);break;case 10:si(r)}n=n.return}zo=e,Vo=zl(e.current,null),qo=t,Yo=Do,Ko=null,Qo=Wo=1073741823,Jo=null,$o=0,Xo=!1}function Cl(e,t){for(;;){try{if(ai(),fs(),null===Vo||null===Vo.return)return Yo=xo,Ko=t,null;e:{var n=e,r=Vo.return,a=Vo,i=t;if(t=qo,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==i&&"object"===typeof i&&"function"===typeof i.then){var s=i,o=0!==(1&qi.current),l=r;do{var u;if(u=13===l.tag){var c=l.memoizedState;if(null!==c)u=null!==c.dehydrated;else{var d=l.memoizedProps;u=void 0!==d.fallback&&(!0!==d.unstable_avoidThisFallback||!o)}}if(u){var f=l.updateQueue;if(null===f){var h=new Set;h.add(s),l.updateQueue=h}else f.add(s);if(0===(2&l.mode)){if(l.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var p=hi(1073741823,null);p.tag=2,mi(a,p)}a.expirationTime=1073741823;break e}i=void 0,a=t;var m=n.pingCache;if(null===m?(m=n.pingCache=new To,i=new Set,m.set(s,i)):void 0===(i=m.get(s))&&(i=new Set,m.set(s,i)),!i.has(a)){i.add(a);var g=xl.bind(null,n,s,a);s.then(g,g)}l.effectTag|=4096,l.expirationTime=t;break e}l=l.return}while(null!==l);i=Error((J(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+$(a))}Yo!==Go&&(Yo=Fo),i=fo(i,a),l=r;do{switch(l.tag){case 3:s=i,l.effectTag|=4096,l.expirationTime=t,gi(l,Oo(l,s,t));break e;case 1:s=i;var y=l.type,_=l.stateNode;if(0===(64&l.effectTag)&&("function"===typeof y.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===al||!al.has(_)))){l.effectTag|=4096,l.expirationTime=t,gi(l,wo(l,s,t));break e}}l=l.return}while(null!==l)}Vo=Al(Vo)}catch(v){t=v;continue}break}}function Nl(){var e=Ro.current;return Ro.current=As,null===e?As:e}function Sl(e,t){e<Wo&&2<e&&(Wo=e),null!==t&&e<Qo&&2<e&&(Qo=e,Jo=t)}function Tl(e){e>$o&&($o=e)}function Ol(){for(;null!==Vo;)Vo=kl(Vo)}function wl(){for(;null!==Vo&&!ka();)Vo=kl(Vo)}function kl(e){var t=ko(e.alternate,e,qo);return e.memoizedProps=e.pendingProps,null===t&&(t=Al(e)),Io.current=null,t}function Al(e){Vo=e;do{var t=Vo.alternate;if(e=Vo.return,0===(2048&Vo.effectTag)){e:{var n=t,r=qo,i=(t=Vo).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:_a(t.type)&&va();break;case 3:Bi(),Ea(),(i=t.stateNode).pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(null===n||null===n.child)&&js(t)&&lo(t),Zs(t);break;case 5:Vi(t),r=Hi(ji.current);var o=t.type;if(null!==n&&null!=t.stateNode)eo(n,t,o,i,r),n.ref!==t.ref&&(t.effectTag|=128);else if(i){var l=Hi(xi.current);if(js(t)){var u=(i=t).stateNode;n=i.type;var c=i.memoizedProps,d=r;switch(u[or]=i,u[lr]=c,o=void 0,r=u,n){case"iframe":case"object":case"embed":Tn("load",r);break;case"video":case"audio":for(u=0;u<Ze.length;u++)Tn(Ze[u],r);break;case"source":Tn("error",r);break;case"img":case"image":case"link":Tn("error",r),Tn("load",r);break;case"form":Tn("reset",r),Tn("submit",r);break;case"details":Tn("toggle",r);break;case"input":Oe(r,c),Tn("invalid",r),Gn(d,"onChange");break;case"select":r._wrapperState={wasMultiple:!!c.multiple},Tn("invalid",r),Gn(d,"onChange");break;case"textarea":Ue(r,c),Tn("invalid",r),Gn(d,"onChange")}for(o in jn(n,c),u=null,c)c.hasOwnProperty(o)&&(l=c[o],"children"===o?"string"===typeof l?r.textContent!==l&&(u=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(u=["children",""+l]):h.hasOwnProperty(o)&&null!=l&&Gn(d,o));switch(n){case"input":Ne(r),Ae(r,c,!0);break;case"textarea":Ne(r),De(r);break;case"select":case"option":break;default:"function"===typeof c.onClick&&(r.onclick=Bn)}o=u,i.updateQueue=o,(i=null!==o)&&lo(t)}else{n=t,d=o,c=i,u=9===r.nodeType?r:r.ownerDocument,l===xe.html&&(l=Fe(d)),l===xe.html?"script"===d?((c=u.createElement("div")).innerHTML="<script><\/script>",u=c.removeChild(c.firstChild)):"string"===typeof c.is?u=u.createElement(d,{is:c.is}):(u=u.createElement(d),"select"===d&&(d=u,c.multiple?d.multiple=!0:c.size&&(d.size=c.size))):u=u.createElementNS(l,d),(c=u)[or]=n,c[lr]=i,Xs(c,t,!1,!1),t.stateNode=c;var f=r,p=Hn(d=o,n=i);switch(d){case"iframe":case"object":case"embed":Tn("load",c),r=n;break;case"video":case"audio":for(r=0;r<Ze.length;r++)Tn(Ze[r],c);r=n;break;case"source":Tn("error",c),r=n;break;case"img":case"image":case"link":Tn("error",c),Tn("load",c),r=n;break;case"form":Tn("reset",c),Tn("submit",c),r=n;break;case"details":Tn("toggle",c),r=n;break;case"input":Oe(c,n),r=Te(c,n),Tn("invalid",c),Gn(f,"onChange");break;case"option":r=Ie(c,n);break;case"select":c._wrapperState={wasMultiple:!!n.multiple},r=a({},n,{value:void 0}),Tn("invalid",c),Gn(f,"onChange");break;case"textarea":Ue(c,n),r=Pe(c,n),Tn("invalid",c),Gn(f,"onChange");break;default:r=n}jn(d,r),u=void 0,l=d;var m=c,g=r;for(u in g)if(g.hasOwnProperty(u)){var y=g[u];"style"===u?xn(m,y):"dangerouslySetInnerHTML"===u?null!=(y=y?y.__html:void 0)&&Be(m,y):"children"===u?"string"===typeof y?("textarea"!==l||""!==y)&&ze(m,y):"number"===typeof y&&ze(m,""+y):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(h.hasOwnProperty(u)?null!=y&&Gn(f,u):null!=y&&be(m,u,y,p))}switch(d){case"input":Ne(c),Ae(c,n,!1);break;case"textarea":Ne(c),De(c);break;case"option":null!=n.value&&c.setAttribute("value",""+Ee(n.value));break;case"select":(r=c).multiple=!!n.multiple,null!=(c=n.value)?Me(r,!!n.multiple,c,!1):null!=n.defaultValue&&Me(r,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof r.onClick&&(c.onclick=Bn)}(i=er(o,i))&&lo(t)}null!==t.ref&&(t.effectTag|=128)}else if(null===t.stateNode)throw Error(s(166));break;case 6:if(n&&null!=t.stateNode)to(n,t,n.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(s(166));r=Hi(ji.current),Hi(xi.current),js(t)?(o=(i=t).stateNode,r=i.memoizedProps,o[or]=i,(i=o.nodeValue!==r)&&lo(t)):(o=t,(i=(9===r.nodeType?r:r.ownerDocument).createTextNode(i))[or]=o,t.stateNode=i)}break;case 11:break;case 13:if(da(qi),i=t.memoizedState,0!==(64&t.effectTag)){t.expirationTime=r;break e}i=null!==i,o=!1,null===n?void 0!==t.memoizedProps.fallback&&js(t):(o=null!==(r=n.memoizedState),i||null===r||null!==(r=n.child.sibling)&&(null!==(c=t.firstEffect)?(t.firstEffect=r,r.nextEffect=c):(t.firstEffect=t.lastEffect=r,r.nextEffect=null),r.effectTag=8)),i&&!o&&0!==(2&t.mode)&&(null===n&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&qi.current)?Yo===Do&&(Yo=jo):(Yo!==Do&&Yo!==jo||(Yo=Ho),0!==$o&&null!==zo&&(Jl(zo,qo),$l(zo,$o)))),(i||o)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Bi(),Zs(t);break;case 10:si(t);break;case 9:case 14:break;case 17:_a(t.type)&&va();break;case 19:if(da(qi),null===(i=t.memoizedState))break;if(o=0!==(64&t.effectTag),null===(c=i.rendering)){if(o)uo(i,!1);else if(Yo!==Do||null!==n&&0!==(64&n.effectTag))for(n=t.child;null!==n;){if(null!==(c=Yi(n))){for(t.effectTag|=64,uo(i,!1),null!==(o=c.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===i.lastEffect&&(t.firstEffect=null),t.lastEffect=i.lastEffect,i=r,o=t.child;null!==o;)n=i,(r=o).effectTag&=2,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null,null===(c=r.alternate)?(r.childExpirationTime=0,r.expirationTime=n,r.child=null,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null):(r.childExpirationTime=c.childExpirationTime,r.expirationTime=c.expirationTime,r.child=c.child,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,n=c.dependencies,r.dependencies=null===n?null:{expirationTime:n.expirationTime,firstContext:n.firstContext,responders:n.responders}),o=o.sibling;fa(qi,1&qi.current|2),t=t.child;break e}n=n.sibling}}else{if(!o)if(null!==(n=Yi(c))){if(t.effectTag|=64,o=!0,null!==(r=n.updateQueue)&&(t.updateQueue=r,t.effectTag|=4),uo(i,!0),null===i.tail&&"hidden"===i.tailMode&&!c.alternate){null!==(t=t.lastEffect=i.lastEffect)&&(t.nextEffect=null);break}}else za()>i.tailExpiration&&1<r&&(t.effectTag|=64,o=!0,uo(i,!1),t.expirationTime=t.childExpirationTime=r-1);i.isBackwards?(c.sibling=t.child,t.child=c):(null!==(r=i.last)?r.sibling=c:t.child=c,i.last=c)}if(null!==i.tail){0===i.tailExpiration&&(i.tailExpiration=za()+500),r=i.tail,i.rendering=r,i.tail=r.sibling,i.lastEffect=t.lastEffect,r.sibling=null,i=qi.current,fa(qi,i=o?1&i|2:1&i),t=r;break e}break;case 20:case 21:break;default:throw Error(s(156,t.tag))}t=null}if(i=Vo,1===qo||1!==i.childExpirationTime){for(o=0,r=i.child;null!==r;)(n=r.expirationTime)>o&&(o=n),(c=r.childExpirationTime)>o&&(o=c),r=r.sibling;i.childExpirationTime=o}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Vo.firstEffect),null!==Vo.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Vo.firstEffect),e.lastEffect=Vo.lastEffect),1<Vo.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Vo:e.firstEffect=Vo,e.lastEffect=Vo))}else{if(null!==(t=co(Vo)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Vo.sibling))return t;Vo=e}while(null!==Vo);return Yo===Do&&(Yo=Go),null}function Rl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function Il(e){var t=Va();return Ya(99,function(e,t){do{Pl()}while(null!==sl);if((Bo&(Uo|Lo))!==Mo)throw Error(s(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var a=Rl(n);if(e.firstPendingTime=a,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===zo&&(Vo=zo=null,qo=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,a=n.firstEffect):a=n:a=n.firstEffect,null!==a){var i=Bo;Bo|=Lo,Io.current=null,Xn=Sn;var o=Yn();if(Kn(o)){if("selectionStart"in o)var l={start:o.selectionStart,end:o.selectionEnd};else e:{var u=(l=(l=o.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(u&&0!==u.rangeCount){l=u.anchorNode;var c=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{l.nodeType,d.nodeType}catch(L){l=null;break e}var f=0,h=-1,p=-1,m=0,g=0,y=o,_=null;t:for(;;){for(var v;y!==l||0!==c&&3!==y.nodeType||(h=f+c),y!==d||0!==u&&3!==y.nodeType||(p=f+u),3===y.nodeType&&(f+=y.nodeValue.length),null!==(v=y.firstChild);)_=y,y=v;for(;;){if(y===o)break t;if(_===l&&++m===c&&(h=f),_===d&&++g===u&&(p=f),null!==(v=y.nextSibling))break;_=(y=_).parentNode}y=v}l=-1===h||-1===p?null:{start:h,end:p}}else l=null}l=l||{start:0,end:0}}else l=null;Zn={focusedElem:o,selectionRange:l},Sn=!1,tl=a;do{try{Ml()}catch(L){if(null===tl)throw Error(s(330));Dl(tl,L),tl=tl.nextEffect}}while(null!==tl);tl=a;do{try{for(o=e,l=t;null!==tl;){var E=tl.effectTag;if(16&E&&ze(tl.stateNode,""),128&E){var b=tl.alternate;if(null!==b){var C=b.ref;null!==C&&("function"===typeof C?C(null):C.current=null)}}switch(1038&E){case 2:bo(tl),tl.effectTag&=-3;break;case 6:bo(tl),tl.effectTag&=-3,No(tl.alternate,tl);break;case 1024:tl.effectTag&=-1025;break;case 1028:tl.effectTag&=-1025,No(tl.alternate,tl);break;case 4:No(tl.alternate,tl);break;case 8:Co(o,c=tl,l),vo(c)}tl=tl.nextEffect}}catch(L){if(null===tl)throw Error(s(330));Dl(tl,L),tl=tl.nextEffect}}while(null!==tl);if(C=Zn,b=Yn(),E=C.focusedElem,l=C.selectionRange,b!==E&&E&&E.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(E.ownerDocument.documentElement,E)){null!==l&&Kn(E)&&(b=l.start,void 0===(C=l.end)&&(C=b),"selectionStart"in E?(E.selectionStart=b,E.selectionEnd=Math.min(C,E.value.length)):(C=(b=E.ownerDocument||document)&&b.defaultView||window).getSelection&&(C=C.getSelection(),c=E.textContent.length,o=Math.min(l.start,c),l=void 0===l.end?o:Math.min(l.end,c),!C.extend&&o>l&&(c=l,l=o,o=c),c=qn(E,o),d=qn(E,l),c&&d&&(1!==C.rangeCount||C.anchorNode!==c.node||C.anchorOffset!==c.offset||C.focusNode!==d.node||C.focusOffset!==d.offset)&&((b=b.createRange()).setStart(c.node,c.offset),C.removeAllRanges(),o>l?(C.addRange(b),C.extend(d.node,d.offset)):(b.setEnd(d.node,d.offset),C.addRange(b))))),b=[];for(C=E;C=C.parentNode;)1===C.nodeType&&b.push({element:C,left:C.scrollLeft,top:C.scrollTop});for("function"===typeof E.focus&&E.focus(),E=0;E<b.length;E++)(C=b[E]).element.scrollLeft=C.left,C.element.scrollTop=C.top}Zn=null,Sn=!!Xn,Xn=null,e.current=n,tl=a;do{try{for(E=r;null!==tl;){var N=tl.effectTag;if(36&N){var S=tl.alternate;switch(C=E,(b=tl).tag){case 0:case 11:case 15:yo(16,32,b);break;case 1:var T=b.stateNode;if(4&b.effectTag)if(null===S)T.componentDidMount();else{var O=b.elementType===b.type?S.memoizedProps:Za(b.type,S.memoizedProps);T.componentDidUpdate(O,S.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var w=b.updateQueue;null!==w&&Ei(0,w,T);break;case 3:var k=b.updateQueue;if(null!==k){if(o=null,null!==b.child)switch(b.child.tag){case 5:o=b.child.stateNode;break;case 1:o=b.child.stateNode}Ei(0,k,o)}break;case 5:var A=b.stateNode;null===S&&4&b.effectTag&&er(b.type,b.memoizedProps)&&A.focus();break;case 6:case 4:case 12:break;case 13:if(null===b.memoizedState){var R=b.alternate;if(null!==R){var I=R.memoizedState;if(null!==I){var M=I.dehydrated;null!==M&&Tt(M)}}}break;case 19:case 17:case 20:case 21:break;default:throw Error(s(163))}}if(128&N){b=void 0;var P=tl.ref;if(null!==P){var U=tl.stateNode;switch(tl.tag){case 5:b=U;break;default:b=U}"function"===typeof P?P(b):P.current=b}}tl=tl.nextEffect}}catch(L){if(null===tl)throw Error(s(330));Dl(tl,L),tl=tl.nextEffect}}while(null!==tl);tl=null,Fa(),Bo=i}else e.current=n;if(il)il=!1,sl=e,ol=t;else for(tl=a;null!==tl;)t=tl.nextEffect,tl.nextEffect=null,tl=t;if(0===(t=e.firstPendingTime)&&(al=null),1073741823===t?e===cl?ul++:(ul=0,cl=e):ul=0,"function"===typeof Fl&&Fl(n.stateNode,r),yl(e),nl)throw nl=!1,e=rl,rl=null,e;return(Bo&Po)!==Mo?null:(Qa(),null)}.bind(null,e,t)),null}function Ml(){for(;null!==tl;){var e=tl.effectTag;0!==(256&e)&&go(tl.alternate,tl),0===(512&e)||il||(il=!0,Ka(97,function(){return Pl(),null})),tl=tl.nextEffect}}function Pl(){if(90!==ol){var e=97<ol?97:ol;return ol=90,Ya(e,Ul)}}function Ul(){if(null===sl)return!1;var e=sl;if(sl=null,(Bo&(Uo|Lo))!==Mo)throw Error(s(331));var t=Bo;for(Bo|=Lo,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:yo(128,0,n),yo(0,64,n)}}catch(r){if(null===e)throw Error(s(330));Dl(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return Bo=t,Qa(),!0}function Ll(e,t,n){mi(e,t=Oo(e,t=fo(n,t),1073741823)),null!==(e=ml(e,1073741823))&&yl(e)}function Dl(e,t){if(3===e.tag)Ll(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Ll(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===al||!al.has(r))){mi(n,e=wo(n,e=fo(t,e),1073741823)),null!==(n=ml(n,1073741823))&&yl(n);break}}n=n.return}}function xl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),zo===e&&qo===n?Yo===Ho||Yo===jo&&1073741823===Wo&&za()-Zo<el?bl(e,qo):Xo=!0:Ql(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,e.finishedExpirationTime===n&&(e.finishedExpirationTime=0,e.finishedWork=null),yl(e)))}ko=function(e,t,n){var r=t.expirationTime;if(null!==e){var a=t.pendingProps;if(e.memoizedProps!==a||ma.current)Bs=!0;else{if(r<n){switch(Bs=!1,t.tag){case 3:$s(t),Hs();break;case 5:if(zi(t),4&t.mode&&1!==n&&a.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:_a(t.type)&&Na(t);break;case 4:Gi(t,t.stateNode.containerInfo);break;case 10:ii(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?ro(e,t,n):(fa(qi,1&qi.current),null!==(t=oo(e,t,n))?t.sibling:null);fa(qi,1&qi.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return so(e,t,n);t.effectTag|=64}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null),fa(qi,qi.current),!r)return null}return oo(e,t,n)}Bs=!1}}else Bs=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,a=ya(t,pa.current),li(t,n),a=ds(null,t,r,e,a,n),t.effectTag|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof){if(t.tag=1,fs(),_a(r)){var i=!0;Na(t)}else i=!1;t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null;var o=r.getDerivedStateFromProps;"function"===typeof o&&Si(t,r,o,e),a.updater=Ti,t.stateNode=a,a._reactInternalFiber=t,Ai(t,r,e,n),t=Js(null,t,r,!0,i,n)}else t.tag=0,zs(null,t,a,n),t=t.child;return t;case 16:if(a=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)})}}(a),1!==a._status)throw a._result;switch(a=a._result,t.type=a,i=t.tag=function(e){if("function"===typeof e)return Bl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===z)return 11;if(e===Y)return 14}return 2}(a),e=Za(a,e),i){case 0:t=Ws(null,t,a,e,n);break;case 1:t=Qs(null,t,a,e,n);break;case 11:t=Vs(null,t,a,e,n);break;case 14:t=qs(null,t,a,Za(a.type,e),r,n);break;default:throw Error(s(306,a,""))}return t;case 0:return r=t.type,a=t.pendingProps,Ws(e,t,r,a=t.elementType===r?a:Za(r,a),n);case 1:return r=t.type,a=t.pendingProps,Qs(e,t,r,a=t.elementType===r?a:Za(r,a),n);case 3:if($s(t),null===(r=t.updateQueue))throw Error(s(282));if(a=null!==(a=t.memoizedState)?a.element:null,vi(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===a)Hs(),t=oo(e,t,n);else{if((a=t.stateNode.hydrate)&&(Ps=ar(t.stateNode.containerInfo.firstChild),Ms=t,a=Us=!0),a)for(n=Li(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else zs(e,t,r,n),Hs();t=t.child}return t;case 5:return zi(t),null===e&&xs(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,o=a.children,tr(r,a)?o=null:null!==i&&tr(r,i)&&(t.effectTag|=16),Ks(e,t),4&t.mode&&1!==n&&a.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(zs(e,t,o,n),t=t.child),t;case 6:return null===e&&xs(t),null;case 13:return ro(e,t,n);case 4:return Gi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ui(t,null,r,n):zs(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,Vs(e,t,r,a=t.elementType===r?a:Za(r,a),n);case 7:return zs(e,t,t.pendingProps,n),t.child;case 8:case 12:return zs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,ii(t,i=a.value),null!==o){var l=o.value;if(0===(i=Xr(l,i)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,i):1073741823))){if(o.children===a.children&&!ma.current){t=oo(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){o=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&i)){1===l.tag&&((c=hi(n,null)).tag=2,mi(l,c)),l.expirationTime<n&&(l.expirationTime=n),null!==(c=l.alternate)&&c.expirationTime<n&&(c.expirationTime=n),oi(l.return,n),u.expirationTime<n&&(u.expirationTime=n);break}c=c.next}}else o=10===l.tag&&l.type===t.type?null:l.child;if(null!==o)o.return=l;else for(o=l;null!==o;){if(o===t){o=null;break}if(null!==(l=o.sibling)){l.return=o.return,o=l;break}o=o.return}l=o}}zs(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=(i=t.pendingProps).children,li(t,n),r=r(a=ui(a,i.unstable_observedBits)),t.effectTag|=1,zs(e,t,r,n),t.child;case 14:return i=Za(a=t.type,t.pendingProps),qs(e,t,a,i=Za(a.type,i),r,n);case 15:return Ys(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Za(r,a),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,_a(r)?(e=!0,Na(t)):e=!1,li(t,n),wi(t,r,a),Ai(t,r,a,n),Js(null,t,r,!0,e,n);case 19:return so(e,t,n)}throw Error(s(156,t.tag))};var Fl=null,jl=null;function Hl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Gl(e,t,n,r){return new Hl(e,t,n,r)}function Bl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zl(e,t){var n=e.alternate;return null===n?((n=Gl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Vl(e,t,n,r,a,i){var o=2;if(r=e,"function"===typeof e)Bl(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case x:return ql(n.children,a,i,t);case B:o=8,a|=7;break;case F:o=8,a|=1;break;case j:return(e=Gl(12,n,t,8|a)).elementType=j,e.type=j,e.expirationTime=i,e;case V:return(e=Gl(13,n,t,a)).type=V,e.elementType=V,e.expirationTime=i,e;case q:return(e=Gl(19,n,t,a)).elementType=q,e.expirationTime=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case H:o=10;break e;case G:o=9;break e;case z:o=11;break e;case Y:o=14;break e;case K:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Gl(o,n,t,a)).elementType=e,t.type=r,t.expirationTime=i,t}function ql(e,t,n,r){return(e=Gl(7,e,r,t)).expirationTime=n,e}function Yl(e,t,n){return(e=Gl(6,e,null,t)).expirationTime=n,e}function Kl(e,t,n){return(t=Gl(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Wl(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Ql(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Jl(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function $l(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Xl(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Zl(e,t,n,r){var a=t.current,i=fl(),o=Ci.suspense;i=hl(i,a,o);e:if(n){t:{if(et(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(s(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(_a(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(s(171))}if(1===n.tag){var u=n.type;if(_a(u)){n=Ca(n,u,l);break e}}n=l}else n=ha;return null===t.context?t.context=n:t.pendingContext=n,(t=hi(i,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),mi(a,t),pl(a,i),i}function eu(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function tu(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function nu(e,t){tu(e,t),(e=e.alternate)&&tu(e,t)}function ru(e,t,n){var r=new Wl(e,t,n=null!=n&&!0===n.hydrate),a=Gl(3,null,null,2===t?7:1===t?3:0);r.current=a,a.stateNode=r,e[ur]=r.current,n&&0!==t&&function(e){var t=Mn(e);mt.forEach(function(n){Pn(n,e,t)}),gt.forEach(function(n){Pn(n,e,t)})}(9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function au(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function iu(e,t,n,r,a){var i=n._reactRootContainer;if(i){var s=i._internalRoot;if("function"===typeof a){var o=a;a=function(){var e=eu(s);o.call(e)}}Zl(t,s,e,a)}else{if(i=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ru(e,0,t?{hydrate:!0}:void 0)}(n,r),s=i._internalRoot,"function"===typeof a){var l=a;a=function(){var e=eu(s);l.call(e)}}El(function(){Zl(t,s,e,a)})}return eu(s)}function su(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!au(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:D,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}ru.prototype.render=function(e,t){Zl(e,this._internalRoot,null,void 0===t?null:t)},ru.prototype.unmount=function(e){var t=this._internalRoot,n=void 0===e?null:e,r=t.containerInfo;Zl(null,t,null,function(){r[ur]=null,null!==n&&n()})},at=function(e){if(13===e.tag){var t=Xa(fl(),150,100);pl(e,t),nu(e,t)}},it=function(e){if(13===e.tag){fl();var t=$a++;pl(e,t),nu(e,t)}},st=function(e){if(13===e.tag){var t=fl();pl(e,t=hl(t,e,null)),nu(e,t)}},Z=function(e,t,n){switch(t){case"input":if(ke(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=hr(r);if(!a)throw Error(s(90));Se(r),ke(r,a)}}}break;case"textarea":Le(e,n);break;case"select":null!=(t=n.value)&&Me(e,!!n.multiple,t,!1)}},ie=vl,se=function(e,t,n,r){var a=Bo;Bo|=4;try{return Ya(98,e.bind(null,t,n,r))}finally{(Bo=a)===Mo&&Qa()}},oe=function(){(Bo&(1|Uo|Lo))===Mo&&(function(){if(null!==ll){var e=ll;ll=null,e.forEach(function(e,t){Xl(t,e),yl(t)}),Qa()}}(),Pl())},le=function(e,t){var n=Bo;Bo|=2;try{return e(t)}finally{(Bo=n)===Mo&&Qa()}};var ou={createPortal:su,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return e=null===(e=rt(t))?null:e.stateNode},hydrate:function(e,t,n){if(!au(t))throw Error(s(200));return iu(null,e,t,!0,n)},render:function(e,t,n){if(!au(t))throw Error(s(200));return iu(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){if(!au(n))throw Error(s(200));if(null==e||void 0===e._reactInternalFiber)throw Error(s(38));return iu(e,t,n,!1,r)},unmountComponentAtNode:function(e){if(!au(e))throw Error(s(40));return!!e._reactRootContainer&&(El(function(){iu(null,null,e,!1,function(){e._reactRootContainer=null,e[ur]=null})}),!0)},unstable_createPortal:function(){return su.apply(void 0,arguments)},unstable_batchedUpdates:vl,flushSync:function(e,t){if((Bo&(Uo|Lo))!==Mo)throw Error(s(187));var n=Bo;Bo|=1;try{return Ya(99,e.bind(null,t))}finally{Bo=n,Qa()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[dr,fr,hr,R.injectEventPluginsByName,f,Mt,function(e){O(e,It)},re,ae,kn,A,Pl,{current:!1}]}};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Fl=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},jl=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(a({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:cr,bundleType:0,version:"16.12.0",rendererPackageName:"react-dom"});var lu={default:ou},uu=lu&&ou||lu;e.exports=uu.default||uu},function(e,t,n){"use strict";e.exports=n(58)},function(e,t,n){"use strict";var r,a,i,s,o;if(Object.defineProperty(t,"__esModule",{value:!0}),"undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,u=null,c=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(e,0),r}},d=Date.now();t.unstable_now=function(){return Date.now()-d},r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(c,0))},a=function(e,t){u=setTimeout(e,t)},i=function(){clearTimeout(u)},s=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.performance,h=window.Date,p=window.setTimeout,m=window.clearTimeout;if("undefined"!==typeof console){var g=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof f&&"function"===typeof f.now)t.unstable_now=function(){return f.now()};else{var y=h.now();t.unstable_now=function(){return h.now()-y}}var _=!1,v=null,E=-1,b=5,C=0;s=function(){return t.unstable_now()>=C},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):b=0<e?Math.floor(1e3/e):5};var N=new MessageChannel,S=N.port2;N.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();C=e+b;try{v(!0,e)?S.postMessage(null):(_=!1,v=null)}catch(n){throw S.postMessage(null),n}}else _=!1},r=function(e){v=e,_||(_=!0,S.postMessage(null))},a=function(e,n){E=p(function(){e(t.unstable_now())},n)},i=function(){m(E),E=-1}}function T(e,t){var n=e.length;e.push(t);e:for(;;){var r=Math.floor((n-1)/2),a=e[r];if(!(void 0!==a&&0<k(a,t)))break e;e[r]=t,e[n]=a,n=r}}function O(e){return void 0===(e=e[0])?null:e}function w(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length;r<a;){var i=2*(r+1)-1,s=e[i],o=i+1,l=e[o];if(void 0!==s&&0>k(s,n))void 0!==l&&0>k(l,s)?(e[r]=l,e[o]=n,r=o):(e[r]=s,e[i]=n,r=i);else{if(!(void 0!==l&&0>k(l,n)))break e;e[r]=l,e[o]=n,r=o}}}return t}return null}function k(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var A=[],R=[],I=1,M=null,P=3,U=!1,L=!1,D=!1;function x(e){for(var t=O(R);null!==t;){if(null===t.callback)w(R);else{if(!(t.startTime<=e))break;w(R),t.sortIndex=t.expirationTime,T(A,t)}t=O(R)}}function F(e){if(D=!1,x(e),!L)if(null!==O(A))L=!0,r(j);else{var t=O(R);null!==t&&a(F,t.startTime-e)}}function j(e,n){L=!1,D&&(D=!1,i()),U=!0;var r=P;try{for(x(n),M=O(A);null!==M&&(!(M.expirationTime>n)||e&&!s());){var o=M.callback;if(null!==o){M.callback=null,P=M.priorityLevel;var l=o(M.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?M.callback=l:M===O(A)&&w(A),x(n)}else w(A);M=O(A)}if(null!==M)var u=!0;else{var c=O(R);null!==c&&a(F,c.startTime-n),u=!1}return u}finally{M=null,P=r,U=!1}}function H(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var G=o;t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=P;P=e;try{return t()}finally{P=n}},t.unstable_next=function(e){switch(P){case 1:case 2:case 3:var t=3;break;default:t=P}var n=P;P=t;try{return e()}finally{P=n}},t.unstable_scheduleCallback=function(e,n,s){var o=t.unstable_now();if("object"===typeof s&&null!==s){var l=s.delay;l="number"===typeof l&&0<l?o+l:o,s="number"===typeof s.timeout?s.timeout:H(e)}else s=H(e),l=o;return e={id:I++,callback:n,priorityLevel:e,startTime:l,expirationTime:s=l+s,sortIndex:-1},l>o?(e.sortIndex=l,T(R,e),null===O(A)&&e===O(R)&&(D?i():D=!0,a(F,l-o))):(e.sortIndex=s,T(A,e),L||U||(L=!0,r(j))),e},t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_wrapCallback=function(e){var t=P;return function(){var n=P;P=t;try{return e.apply(this,arguments)}finally{P=n}}},t.unstable_getCurrentPriorityLevel=function(){return P},t.unstable_shouldYield=function(){var e=t.unstable_now();x(e);var n=O(A);return n!==M&&null!==M&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<M.expirationTime||s()},t.unstable_requestPaint=G,t.unstable_continueExecution=function(){L||U||(L=!0,r(j))},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return O(A)},t.unstable_Profiling=null},function(e,t,n){"use strict";var r=n(29),a="function"===typeof Symbol&&Symbol.for,i=a?Symbol.for("react.element"):60103,s=a?Symbol.for("react.portal"):60106,o=a?Symbol.for("react.fragment"):60107,l=a?Symbol.for("react.strict_mode"):60108,u=a?Symbol.for("react.profiler"):60114,c=a?Symbol.for("react.provider"):60109,d=a?Symbol.for("react.context"):60110,f=a?Symbol.for("react.forward_ref"):60112,h=a?Symbol.for("react.suspense"):60113,p=a?Symbol.for("react.memo"):60115,m=a?Symbol.for("react.lazy"):60116,g="function"===typeof Symbol&&Symbol.iterator;function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function E(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||_}function b(){}function C(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||_}E.prototype.isReactComponent={},E.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(y(85));this.updater.enqueueSetState(this,e,t,"setState")},E.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=E.prototype;var N=C.prototype=new b;N.constructor=C,r(N,E.prototype),N.isPureReactComponent=!0;var S={current:null},T=Object.prototype.hasOwnProperty,O={key:!0,ref:!0,__self:!0,__source:!0};function w(e,t,n){var r,a={},s=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)T.call(t,r)&&!O.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===a[r]&&(a[r]=l[r]);return{$$typeof:i,type:e,key:s,ref:o,props:a,_owner:S.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var A=/\/+/g,R=[];function I(e,t,n,r){if(R.length){var a=R.pop();return a.result=e,a.keyPrefix=t,a.func=n,a.context=r,a.count=0,a}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function M(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>R.length&&R.push(e)}function P(e,t,n){return null==e?0:function e(t,n,r,a){var o=typeof t;"undefined"!==o&&"boolean"!==o||(t=null);var l=!1;if(null===t)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case i:case s:l=!0}}if(l)return r(a,t,""===n?"."+U(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var u=0;u<t.length;u++){var c=n+U(o=t[u],u);l+=e(o,c,r,a)}else if(c=null===t||"object"!==typeof t?null:"function"===typeof(c=g&&t[g]||t["@@iterator"])?c:null,"function"===typeof c)for(t=c.call(t),u=0;!(o=t.next()).done;)l+=e(o=o.value,c=n+U(o,u++),r,a);else if("object"===o)throw r=""+t,Error(y(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return l}(e,"",t,n)}function U(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function L(e,t){e.func.call(e.context,t,e.count++)}function D(e,t,n){var r=e.result,a=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?x(e,r,n,function(e){return e}):null!=e&&(k(e)&&(e=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,a+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(A,"$&/")+"/")+n)),r.push(e))}function x(e,t,n,r,a){var i="";null!=n&&(i=(""+n).replace(A,"$&/")+"/"),P(e,D,t=I(t,i,r,a)),M(t)}var F={current:null};function j(){var e=F.current;if(null===e)throw Error(y(321));return e}var H={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:S,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return x(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;P(e,L,t=I(null,null,t,n)),M(t)},count:function(e){return P(e,function(){return null},null)},toArray:function(e){var t=[];return x(e,t,null,function(e){return e}),t},only:function(e){if(!k(e))throw Error(y(143));return e}},t.Component=E,t.Fragment=o,t.Profiler=u,t.PureComponent=C,t.StrictMode=l,t.Suspense=h,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(y(267,e));var a=r({},e.props),s=e.key,o=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,l=S.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)T.call(t,c)&&!O.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];a.children=u}return{$$typeof:i,type:e.type,key:s,ref:o,props:a,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=w,t.createFactory=function(e){var t=w.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:f,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return j().useCallback(e,t)},t.useContext=function(e,t){return j().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return j().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return j().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return j().useLayoutEffect(e,t)},t.useMemo=function(e,t){return j().useMemo(e,t)},t.useReducer=function(e,t,n){return j().useReducer(e,t,n)},t.useRef=function(e){return j().useRef(e)},t.useState=function(e){return j().useState(e)},t.version="16.14.0"},function(e,t,n){"use strict";(function(e){var r=n(61),a=n(62),i=n(63);function s(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!l.TYPED_ARRAY_SUPPORT&&!(this instanceof l))return new l(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return u(this,e,t,n)}function u(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=f(e,t);return e}(e,t,n,r):"string"===typeof t?function(e,t,n){"string"===typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),a=(e=o(e,r)).write(t,n);a!==r&&(e=e.slice(0,a));return e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|h(t.length);return 0===(e=o(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(r=t.length)!==r?o(e,0):f(e,t);if("Buffer"===t.type&&i(t.data))return f(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(c(t),e=o(e,t<0?0:0|h(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|h(t.length);e=o(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(e).length;default:if(r)return H(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,a){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=a?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(a)return-1;n=e.length-1}else if(n<0){if(!a)return-1;n=0}if("string"===typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,a);if("number"===typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,a);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,a){var i,s=1,o=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,o/=2,l/=2,n/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(a){var c=-1;for(i=n;i<o;i++)if(u(e,i)===u(t,-1===c?0:i-c)){if(-1===c&&(c=i),i-c+1===l)return c*s}else-1!==c&&(i-=i-c),c=-1}else for(n+l>o&&(n=o-l),i=n;i>=0;i--){for(var d=!0,f=0;f<l;f++)if(u(e,i+f)!==u(t,f)){d=!1;break}if(d)return i}return-1}function _(e,t,n,r){n=Number(n)||0;var a=e.length-n;r?(r=Number(r))>a&&(r=a):r=a;var i=t.length;if(i%2!==0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var s=0;s<r;++s){var o=parseInt(t.substr(2*s,2),16);if(isNaN(o))return s;e[n+s]=o}return s}function v(e,t,n,r){return B(H(t,e.length-n),e,n,r)}function E(e,t,n,r){return B(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function b(e,t,n,r){return E(e,t,n,r)}function C(e,t,n,r){return B(G(t),e,n,r)}function N(e,t,n,r){return B(function(e,t){for(var n,r,a,i=[],s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,a=n%256,i.push(a),i.push(r);return i}(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function T(e,t,n){n=Math.min(e.length,n);for(var r=[],a=t;a<n;){var i,s,o,l,u=e[a],c=null,d=u>239?4:u>223?3:u>191?2:1;if(a+d<=n)switch(d){case 1:u<128&&(c=u);break;case 2:128===(192&(i=e[a+1]))&&(l=(31&u)<<6|63&i)>127&&(c=l);break;case 3:i=e[a+1],s=e[a+2],128===(192&i)&&128===(192&s)&&(l=(15&u)<<12|(63&i)<<6|63&s)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:i=e[a+1],s=e[a+2],o=e[a+3],128===(192&i)&&128===(192&s)&&128===(192&o)&&(l=(15&u)<<18|(63&i)<<12|(63&s)<<6|63&o)>65535&&l<1114112&&(c=l)}null===c?(c=65533,d=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),a+=d}return function(e){var t=e.length;if(t<=O)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=O));return n}(r)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=s(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return u(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,r){return c(t),t<=0?o(e,t):void 0!==n?"string"===typeof r?o(e,t).fill(n,r):o(e,t).fill(n):o(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,a=0,i=Math.min(n,r);a<i;++a)if(e[a]!==t[a]){n=e[a],r=t[a];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),a=0;for(n=0;n<e.length;++n){var s=e[n];if(!l.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,a),a+=s.length}return r},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?T(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,n);case"utf8":case"utf-8":return T(this,t,n);case"ascii":return w(this,t,n);case"latin1":case"binary":return k(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,a){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===a&&(a=this.length),t<0||n>e.length||r<0||a>this.length)throw new RangeError("out of range index");if(r>=a&&t>=n)return 0;if(r>=a)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(a>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),o=Math.min(i,s),u=this.slice(r,a),c=e.slice(t,n),d=0;d<o;++d)if(u[d]!==c[d]){i=u[d],s=c[d];break}return i<s?-1:s<i?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var a=this.length-t;if((void 0===n||n>a)&&(n=a),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return v(this,e,t,n);case"ascii":return E(this,e,t,n);case"latin1":case"binary":return b(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var O=4096;function w(e,t,n){var r="";n=Math.min(e.length,n);for(var a=t;a<n;++a)r+=String.fromCharCode(127&e[a]);return r}function k(e,t,n){var r="";n=Math.min(e.length,n);for(var a=t;a<n;++a)r+=String.fromCharCode(e[a]);return r}function A(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var a="",i=t;i<n;++i)a+=j(e[i]);return a}function R(e,t,n){for(var r=e.slice(t,n),a="",i=0;i<r.length;i+=2)a+=String.fromCharCode(r[i]+256*r[i+1]);return a}function I(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,r,a,i){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function P(e,t,n,r){t<0&&(t=65535+t+1);for(var a=0,i=Math.min(e.length-n,2);a<i;++a)e[n+a]=(t&255<<8*(r?a:1-a))>>>8*(r?a:1-a)}function U(e,t,n,r){t<0&&(t=4294967295+t+1);for(var a=0,i=Math.min(e.length-n,4);a<i;++a)e[n+a]=t>>>8*(r?a:3-a)&255}function L(e,t,n,r,a,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,r,i){return i||L(e,0,n,4),a.write(e,t,n,r,23,4),n+4}function x(e,t,n,r,i){return i||L(e,0,n,8),a.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var a=t-e;n=new l(a,void 0);for(var i=0;i<a;++i)n[i]=this[i+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],a=1,i=0;++i<t&&(a*=256);)r+=this[e+i]*a;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e+--t],a=1;t>0&&(a*=256);)r+=this[e+--t]*a;return r},l.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],a=1,i=0;++i<t&&(a*=256);)r+=this[e+i]*a;return r>=(a*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=t,a=1,i=this[e+--r];r>0&&(a*=256);)i+=this[e+--r]*a;return i>=(a*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),a.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),a.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),a.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),a.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||M(this,e,t,n,Math.pow(2,8*n)-1,0);var a=1,i=0;for(this[t]=255&e;++i<n&&(a*=256);)this[t+i]=e/a&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||M(this,e,t,n,Math.pow(2,8*n)-1,0);var a=n-1,i=1;for(this[t+a]=255&e;--a>=0&&(i*=256);)this[t+a]=e/i&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):U(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):U(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var a=Math.pow(2,8*n-1);M(this,e,t,n,a-1,-a)}var i=0,s=1,o=0;for(this[t]=255&e;++i<n&&(s*=256);)e<0&&0===o&&0!==this[t+i-1]&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var a=Math.pow(2,8*n-1);M(this,e,t,n,a-1,-a)}var i=n-1,s=1,o=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===o&&0!==this[t+i+1]&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):U(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):U(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return x(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return x(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var a,i=r-n;if(this===e&&n<t&&t<r)for(a=i-1;a>=0;--a)e[a+t]=this[a+n];else if(i<1e3||!l.TYPED_ARRAY_SUPPORT)for(a=0;a<i;++a)e[a+t]=this[a+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},l.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var a=e.charCodeAt(0);a<256&&(e=a)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(i=t;i<n;++i)this[i]=e;else{var s=l.isBuffer(e)?e:H(new l(e,r).toString()),o=s.length;for(i=0;i<n-t;++i)this[i+t]=s[i%o]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function j(e){return e<16?"0"+e.toString(16):e.toString(16)}function H(e,t){var n;t=t||1/0;for(var r=e.length,a=null,i=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!a){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&i.push(239,191,189);continue}a=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),a=n;continue}n=65536+(a-55296<<10|n-56320)}else a&&(t-=3)>-1&&i.push(239,191,189);if(a=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function G(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function B(e,t,n,r){for(var a=0;a<r&&!(a+n>=t.length||a>=e.length);++a)t[a+n]=e[a];return a}}).call(this,n(37))},function(e,t,n){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=u(e),s=r[0],o=r[1],l=new i(function(e,t,n){return 3*(t+n)/4-n}(0,s,o)),c=0,d=o>0?s-4:s;for(n=0;n<d;n+=4)t=a[e.charCodeAt(n)]<<18|a[e.charCodeAt(n+1)]<<12|a[e.charCodeAt(n+2)]<<6|a[e.charCodeAt(n+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;2===o&&(t=a[e.charCodeAt(n)]<<2|a[e.charCodeAt(n+1)]>>4,l[c++]=255&t);1===o&&(t=a[e.charCodeAt(n)]<<10|a[e.charCodeAt(n+1)]<<4|a[e.charCodeAt(n+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t);return l},t.fromByteArray=function(e){for(var t,n=e.length,a=n%3,i=[],s=0,o=n-a;s<o;s+=16383)i.push(c(e,s,s+16383>o?o:s+16383));1===a?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===a&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return i.join("")};for(var r=[],a=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,l=s.length;o<l;++o)r[o]=s[o],a[s.charCodeAt(o)]=o;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,n){for(var a,i,s=[],o=t;o<n;o+=3)a=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),s.push(r[(i=a)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return s.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,a){var i,s,o=8*a-r-1,l=(1<<o)-1,u=l>>1,c=-7,d=n?a-1:0,f=n?-1:1,h=e[t+d];for(d+=f,i=h&(1<<-c)-1,h>>=-c,c+=o;c>0;i=256*i+e[t+d],d+=f,c-=8);for(s=i&(1<<-c)-1,i>>=-c,c+=r;c>0;s=256*s+e[t+d],d+=f,c-=8);if(0===i)i=1-u;else{if(i===l)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,r),i-=u}return(h?-1:1)*s*Math.pow(2,i-r)},t.write=function(e,t,n,r,a,i){var s,o,l,u=8*i-a-1,c=(1<<u)-1,d=c>>1,f=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+d>=1?f/l:f*Math.pow(2,1-d))*l>=2&&(s++,l/=2),s+d>=c?(o=0,s=c):s+d>=1?(o=(t*l-1)*Math.pow(2,a),s+=d):(o=t*Math.pow(2,d-1)*Math.pow(2,a),s=0));a>=8;e[n+h]=255&o,h+=p,o/=256,a-=8);for(s=s<<a|o,u+=a;u>0;e[n+h]=255&s,h+=p,s/=256,u-=8);e[n+h-p]|=128*m}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){e.exports=n(65)},function(e,t,n){"use strict";var r=n(10),a=n(38),i=n(66),s=n(44);function o(e){var t=new i(e),n=a(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var l=o(n(34));l.Axios=i,l.create=function(e){return o(s(l.defaults,e))},l.Cancel=n(45),l.CancelToken=n(80),l.isCancel=n(43),l.all=function(e){return Promise.all(e)},l.spread=n(81),l.isAxiosError=n(82),e.exports=l,e.exports.default=l},function(e,t,n){"use strict";var r=n(10),a=n(39),i=n(67),s=n(68),o=n(44),l=n(78),u=l.validators;function c(e){this.defaults=e,this.interceptors={request:new i,response:new i}}c.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=o(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&l.assertOptions(t,{silentJSONParsing:u.transitional(u.boolean,"1.0.0"),forcedJSONParsing:u.transitional(u.boolean,"1.0.0"),clarifyTimeoutError:u.transitional(u.boolean,"1.0.0")},!1);var n=[],r=!0;this.interceptors.request.forEach(function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))});var a,i=[];if(this.interceptors.response.forEach(function(e){i.push(e.fulfilled,e.rejected)}),!r){var c=[s,void 0];for(Array.prototype.unshift.apply(c,n),c=c.concat(i),a=Promise.resolve(e);c.length;)a=a.then(c.shift(),c.shift());return a}for(var d=e;n.length;){var f=n.shift(),h=n.shift();try{d=f(d)}catch(p){h(p);break}}try{a=s(d)}catch(p){return Promise.reject(p)}for(;i.length;)a=a.then(i.shift(),i.shift());return a},c.prototype.getUri=function(e){return e=o(this.defaults,e),a(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],function(e){c.prototype[e]=function(t,n){return this.request(o(n||{},{method:e,url:t,data:(n||{}).data}))}}),r.forEach(["post","put","patch"],function(e){c.prototype[e]=function(t,n,r){return this.request(o(r||{},{method:e,url:t,data:n}))}}),e.exports=c},function(e,t,n){"use strict";var r=n(10);function a(){this.handlers=[]}a.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},a.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},a.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=a},function(e,t,n){"use strict";var r=n(10),a=n(69),i=n(43),s=n(34);function o(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return o(e),e.headers=e.headers||{},e.data=a.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||s.adapter)(e).then(function(t){return o(e),t.data=a.call(e,t.data,t.headers,e.transformResponse),t},function(t){return i(t)||(o(e),t&&t.response&&(t.response.data=a.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var r=n(10),a=n(34);e.exports=function(e,t,n){var i=this||a;return r.forEach(n,function(n){e=n.call(i,e,t)}),e}},function(e,t,n){"use strict";var r=n(10);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t,n){"use strict";var r=n(42);e.exports=function(e,t,n){var a=n.config.validateStatus;n.status&&a&&!a(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";var r=n(10);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,a,i,s){var o=[];o.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),r.isString(a)&&o.push("path="+a),r.isString(i)&&o.push("domain="+i),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(74),a=n(75);e.exports=function(e,t){return e&&!r(t)?a(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(10),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,s={};return e?(r.forEach(e.split("\n"),function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(s[t]&&a.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}}),s):s}},function(e,t,n){"use strict";var r=n(10);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function a(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=a(window.location.href),function(t){var n=r.isString(t)?a(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(79),a={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){a[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var i={},s=r.version.split(".");function o(e,t){for(var n=t?t.split("."):s,r=e.split("."),a=0;a<3;a++){if(n[a]>r[a])return!0;if(n[a]<r[a])return!1}return!1}a.transitional=function(e,t,n){var a=t&&o(t);function s(e,t){return"[Axios v"+r.version+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,o){if(!1===e)throw new Error(s(r," has been removed in "+t));return a&&!i[r]&&(i[r]=!0,console.warn(s(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,o)}},e.exports={isOlderVersion:o,assertOptions:function(e,t,n){if("object"!==typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),a=r.length;a-- >0;){var i=r[a],s=t[i];if(s){var o=e[i],l=void 0===o||s(o,i,e);if(!0!==l)throw new TypeError("option "+i+" must be "+l)}else if(!0!==n)throw Error("Unknown option "+i)}},validators:a}},function(e){e.exports={name:"axios",version:"0.21.4",description:"Promise based HTTP client for the browser and node.js",main:"index.js",scripts:{test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},repository:{type:"git",url:"https://github.com/axios/axios.git"},keywords:["xhr","http","ajax","promise","node"],author:"Matt Zabriskie",license:"MIT",bugs:{url:"https://github.com/axios/axios/issues"},homepage:"https://axios-http.com",devDependencies:{coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},browser:{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},jsdelivr:"dist/axios.min.js",unpkg:"dist/axios.min.js",typings:"./index.d.ts",dependencies:{"follow-redirects":"^1.14.0"},bundlesize:[{path:"./dist/axios.min.js",threshold:"5kB"}]}},function(e,t,n){"use strict";var r=n(45);function a(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new r(e),t(n.reason))})}a.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},a.source=function(){var e;return{token:new a(function(t){e=t}),cancel:e}},e.exports=a},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},function(e,t){e.exports="object"==typeof self?self.FormData:window.FormData},function(e,t,n){"use strict";e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var r=n(0),a=n(29),i=n(87);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(s(227));var o=!1,l=null,u=!1,c=null,d={onError:function(e){o=!0,l=e}};function f(e,t,n,r,a,i,s,u,c){o=!1,l=null,function(e,t,n,r,a,i,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}.apply(d,arguments)}var h=null,p=null,m=null;function g(e,t,n){var r=e.type||"unknown-event";e.currentTarget=m(n),function(e,t,n,r,a,i,d,h,p){if(f.apply(this,arguments),o){if(!o)throw Error(s(198));var m=l;o=!1,l=null,u||(u=!0,c=m)}}(r,t,void 0,e),e.currentTarget=null}var y=null,_={};function v(){if(y)for(var e in _){var t=_[e],n=y.indexOf(e);if(!(-1<n))throw Error(s(96,e));if(!b[n]){if(!t.extractEvents)throw Error(s(97,e));for(var r in b[n]=t,n=t.eventTypes){var a=void 0,i=n[r],o=t,l=r;if(C.hasOwnProperty(l))throw Error(s(99,l));C[l]=i;var u=i.phasedRegistrationNames;if(u){for(a in u)u.hasOwnProperty(a)&&E(u[a],o,l);a=!0}else i.registrationName?(E(i.registrationName,o,l),a=!0):a=!1;if(!a)throw Error(s(98,r,e))}}}}function E(e,t,n){if(N[e])throw Error(s(100,e));N[e]=t,S[e]=t.eventTypes[n].dependencies}var b=[],C={},N={},S={};function T(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!_.hasOwnProperty(t)||_[t]!==r){if(_[t])throw Error(s(102,t));_[t]=r,n=!0}}n&&v()}var O=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),w=null,k=null,A=null;function R(e){if(e=p(e)){if("function"!==typeof w)throw Error(s(280));var t=e.stateNode;t&&(t=h(t),w(e.stateNode,e.type,t))}}function I(e){k?A?A.push(e):A=[e]:k=e}function M(){if(k){var e=k,t=A;if(A=k=null,R(e),t)for(e=0;e<t.length;e++)R(t[e])}}function P(e,t){return e(t)}function U(e,t,n,r,a){return e(t,n,r,a)}function L(){}var D=P,x=!1,F=!1;function j(){null===k&&null===A||(L(),M())}function H(e,t,n){if(F)return e(t,n);F=!0;try{return D(e,t,n)}finally{F=!1,j()}}var G=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,B=Object.prototype.hasOwnProperty,z={},V={};function q(e,t,n,r,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i}var Y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Y[e]=new q(e,0,!1,e,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Y[t]=new q(t,1,!1,e[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){Y[e]=new q(e,2,!1,e.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Y[e]=new q(e,2,!1,e,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Y[e]=new q(e,3,!1,e.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(e){Y[e]=new q(e,3,!0,e,null,!1)}),["capture","download"].forEach(function(e){Y[e]=new q(e,4,!1,e,null,!1)}),["cols","rows","size","span"].forEach(function(e){Y[e]=new q(e,6,!1,e,null,!1)}),["rowSpan","start"].forEach(function(e){Y[e]=new q(e,5,!1,e.toLowerCase(),null,!1)});var K=/[\-:]([a-z])/g;function W(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(K,W);Y[t]=new q(t,1,!1,e,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(K,W);Y[t]=new q(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(K,W);Y[t]=new q(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(e){Y[e]=new q(e,1,!1,e.toLowerCase(),null,!1)}),Y.xlinkHref=new q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(e){Y[e]=new q(e,1,!1,e.toLowerCase(),null,!0)});var Q=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function J(e,t,n,r){var a=Y.hasOwnProperty(t)?Y[t]:null;(null!==a?0===a.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!B.call(V,e)||!B.call(z,e)&&(G.test(e)?V[e]=!0:(z[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}Q.hasOwnProperty("ReactCurrentDispatcher")||(Q.ReactCurrentDispatcher={current:null}),Q.hasOwnProperty("ReactCurrentBatchConfig")||(Q.ReactCurrentBatchConfig={suspense:null});var $=/^(.*)[\\\/]/,X="function"===typeof Symbol&&Symbol.for,Z=X?Symbol.for("react.element"):60103,ee=X?Symbol.for("react.portal"):60106,te=X?Symbol.for("react.fragment"):60107,ne=X?Symbol.for("react.strict_mode"):60108,re=X?Symbol.for("react.profiler"):60114,ae=X?Symbol.for("react.provider"):60109,ie=X?Symbol.for("react.context"):60110,se=X?Symbol.for("react.concurrent_mode"):60111,oe=X?Symbol.for("react.forward_ref"):60112,le=X?Symbol.for("react.suspense"):60113,ue=X?Symbol.for("react.suspense_list"):60120,ce=X?Symbol.for("react.memo"):60115,de=X?Symbol.for("react.lazy"):60116,fe=X?Symbol.for("react.block"):60121,he="function"===typeof Symbol&&Symbol.iterator;function pe(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=he&&e[he]||e["@@iterator"])?e:null}function me(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case te:return"Fragment";case ee:return"Portal";case re:return"Profiler";case ne:return"StrictMode";case le:return"Suspense";case ue:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case ie:return"Context.Consumer";case ae:return"Context.Provider";case oe:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case ce:return me(e.type);case fe:return me(e.render);case de:if(e=1===e._status?e._result:null)return me(e)}return null}function ge(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,a=e._debugSource,i=me(e.type);n=null,r&&(n=me(r.type)),r=i,i="",a?i=" (at "+a.fileName.replace($,"")+":"+a.lineNumber+")":n&&(i=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+i}t+=n,e=e.return}while(e);return t}function ye(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function _e(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ve(e){e._valueTracker||(e._valueTracker=function(e){var t=_e(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ee(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=_e(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function be(e,t){var n=t.checked;return a({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Ce(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ye(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ne(e,t){null!=(t=t.checked)&&J(e,"checked",t,!1)}function Se(e,t){Ne(e,t);var n=ye(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Oe(e,t.type,n):t.hasOwnProperty("defaultValue")&&Oe(e,t.type,ye(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Te(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Oe(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function we(e,t){return e=a({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function ke(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ye(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function Ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ye(n)}}function Ie(e,t){var n=ye(t.value),r=ye(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Me(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Pe="http://www.w3.org/1999/xhtml",Ue="http://www.w3.org/2000/svg";function Le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function De(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var xe,Fe,je=(Fe=function(e,t){if(e.namespaceURI!==Ue||"innerHTML"in e)e.innerHTML=t;else{for((xe=xe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return Fe(e,t)})}:Fe);function He(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Ge(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Be={animationend:Ge("Animation","AnimationEnd"),animationiteration:Ge("Animation","AnimationIteration"),animationstart:Ge("Animation","AnimationStart"),transitionend:Ge("Transition","TransitionEnd")},ze={},Ve={};function qe(e){if(ze[e])return ze[e];if(!Be[e])return e;var t,n=Be[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ve)return ze[e]=n[t];return e}O&&(Ve=document.createElement("div").style,"AnimationEvent"in window||(delete Be.animationend.animation,delete Be.animationiteration.animation,delete Be.animationstart.animation),"TransitionEvent"in window||delete Be.transitionend.transition);var Ye=qe("animationend"),Ke=qe("animationiteration"),We=qe("animationstart"),Qe=qe("transitionend"),Je="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$e=new("function"===typeof WeakMap?WeakMap:Map);function Xe(e){var t=$e.get(e);return void 0===t&&(t=new Map,$e.set(e,t)),t}function Ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Ze(e)!==e)throw Error(s(188))}function nt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return tt(a),e;if(i===r)return tt(a),t;i=i.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function rt(e,t){if(null==t)throw Error(s(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function at(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var it=null;function st(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)g(e,t[r],n[r]);else t&&g(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function ot(e){if(null!==e&&(it=rt(it,e)),e=it,it=null,e){if(at(e,st),it)throw Error(s(95));if(u)throw e=c,u=!1,c=null,e}}function lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ut(e){if(!O)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var ct=[];function dt(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ct.length&&ct.push(e)}function ft(e,t,n,r){if(ct.length){var a=ct.pop();return a.topLevelType=e,a.eventSystemFlags=r,a.nativeEvent=t,a.targetInst=n,a}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function ht(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=An(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var a=lt(e.nativeEvent);r=e.topLevelType;var i=e.nativeEvent,s=e.eventSystemFlags;0===n&&(s|=64);for(var o=null,l=0;l<b.length;l++){var u=b[l];u&&(u=u.extractEvents(r,t,i,a,s))&&(o=rt(o,u))}ot(o)}}function pt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Wt(t,"scroll",!0);break;case"focus":case"blur":Wt(t,"focus",!0),Wt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ut(e)&&Wt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Je.indexOf(e)&&Kt(e,t)}n.set(e,null)}}var mt,gt,yt,_t=!1,vt=[],Et=null,bt=null,Ct=null,Nt=new Map,St=new Map,Tt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),wt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function kt(e,t,n,r,a){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:a,container:r}}function At(e,t){switch(e){case"focus":case"blur":Et=null;break;case"dragenter":case"dragleave":bt=null;break;case"mouseover":case"mouseout":Ct=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":St.delete(t.pointerId)}}function Rt(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e=kt(t,n,r,a,i),null!==t&&(null!==(t=Rn(t))&&gt(t)),e):(e.eventSystemFlags|=r,e)}function It(e){var t=An(e.target);if(null!==t){var n=Ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=et(n)))return e.blockedOn=t,void i.unstable_runWithPriority(e.priority,function(){yt(n)})}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Rn(t);return null!==n&&gt(n),e.blockedOn=t,!1}return!0}function Pt(e,t,n){Mt(e)&&n.delete(t)}function Ut(){for(_t=!1;0<vt.length;){var e=vt[0];if(null!==e.blockedOn){null!==(e=Rn(e.blockedOn))&&mt(e);break}var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:vt.shift()}null!==Et&&Mt(Et)&&(Et=null),null!==bt&&Mt(bt)&&(bt=null),null!==Ct&&Mt(Ct)&&(Ct=null),Nt.forEach(Pt),St.forEach(Pt)}function Lt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Dt(e){function t(t){return Lt(t,e)}if(0<vt.length){Lt(vt[0],e);for(var n=1;n<vt.length;n++){var r=vt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Et&&Lt(Et,e),null!==bt&&Lt(bt,e),null!==Ct&&Lt(Ct,e),Nt.forEach(t),St.forEach(t),n=0;n<Tt.length;n++)(r=Tt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Tt.length&&null===(n=Tt[0]).blockedOn;)It(n),null===n.blockedOn&&Tt.shift()}var xt={},Ft=new Map,jt=new Map,Ht=["abort","abort",Ye,"animationEnd",Ke,"animationIteration",We,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Qe,"transitionEnd","waiting","waiting"];function Gt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],a=e[n+1],i="on"+(a[0].toUpperCase()+a.slice(1));i={phasedRegistrationNames:{bubbled:i,captured:i+"Capture"},dependencies:[r],eventPriority:t},jt.set(r,t),Ft.set(r,i),xt[a]=i}}Gt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Gt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Gt(Ht,2);for(var Bt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),zt=0;zt<Bt.length;zt++)jt.set(Bt[zt],0);var Vt=i.unstable_UserBlockingPriority,qt=i.unstable_runWithPriority,Yt=!0;function Kt(e,t){Wt(t,e,!1)}function Wt(e,t,n){var r=jt.get(t);switch(void 0===r?2:r){case 0:r=function(e,t,n,r){x||L();var a=Qt,i=x;x=!0;try{U(a,e,t,n,r)}finally{(x=i)||j()}}.bind(null,t,1,e);break;case 1:r=function(e,t,n,r){qt(Vt,Qt.bind(null,e,t,n,r))}.bind(null,t,1,e);break;default:r=Qt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Qt(e,t,n,r){if(Yt)if(0<vt.length&&-1<Ot.indexOf(e))e=kt(null,e,t,n,r),vt.push(e);else{var a=Jt(e,t,n,r);if(null===a)At(e,r);else if(-1<Ot.indexOf(e))e=kt(a,e,t,n,r),vt.push(e);else if(!function(e,t,n,r,a){switch(t){case"focus":return Et=Rt(Et,e,t,n,r,a),!0;case"dragenter":return bt=Rt(bt,e,t,n,r,a),!0;case"mouseover":return Ct=Rt(Ct,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return Nt.set(i,Rt(Nt.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,St.set(i,Rt(St.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r)){At(e,r),e=ft(e,r,null,t);try{H(ht,e)}finally{dt(e)}}}}function Jt(e,t,n,r){if(null!==(n=An(n=lt(r)))){var a=Ze(n);if(null===a)n=null;else{var i=a.tag;if(13===i){if(null!==(n=et(a)))return n;n=null}else if(3===i){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}e=ft(e,r,n,t);try{H(ht,e)}finally{dt(e)}return null}var $t={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xt=["Webkit","ms","Moz","O"];function Zt(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||$t.hasOwnProperty(e)&&$t[e]?(""+t).trim():t+"px"}function en(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=Zt(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys($t).forEach(function(e){Xt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),$t[t]=$t[e]})});var tn=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nn(e,t){if(t){if(tn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if(!("object"===typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62,""))}}function rn(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var an=Pe;function sn(e,t){var n=Xe(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=S[t];for(var r=0;r<t.length;r++)pt(t[r],e,n)}function on(){}function ln(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function un(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cn(e,t){var n,r=un(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=un(r)}}function dn(){for(var e=window,t=ln();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ln((e=t.contentWindow).document)}return t}function fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var hn="$",pn="/$",mn="$?",gn="$!",yn=null,_n=null;function vn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function En(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var bn="function"===typeof setTimeout?setTimeout:void 0,Cn="function"===typeof clearTimeout?clearTimeout:void 0;function Nn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Sn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===hn||n===gn||n===mn){if(0===t)return e;t--}else n===pn&&t++}e=e.previousSibling}return null}var Tn=Math.random().toString(36).slice(2),On="__reactInternalInstance$"+Tn,wn="__reactEventHandlers$"+Tn,kn="__reactContainere$"+Tn;function An(e){var t=e[On];if(t)return t;for(var n=e.parentNode;n;){if(t=n[kn]||n[On]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Sn(e);null!==e;){if(n=e[On])return n;e=Sn(e)}return t}n=(e=n).parentNode}return null}function Rn(e){return!(e=e[On]||e[kn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function In(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Mn(e){return e[wn]||null}function Pn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Un(e,t){var n=e.stateNode;if(!n)return null;var r=h(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}function Ln(e,t,n){(t=Un(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Dn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Pn(t);for(t=n.length;0<t--;)Ln(n[t],"captured",e);for(t=0;t<n.length;t++)Ln(n[t],"bubbled",e)}}function xn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Un(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Fn(e){e&&e.dispatchConfig.registrationName&&xn(e._targetInst,null,e)}function jn(e){at(e,Dn)}var Hn=null,Gn=null,Bn=null;function zn(){if(Bn)return Bn;var e,t,n=Gn,r=n.length,a="value"in Hn?Hn.value:Hn.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===a[i-t];t++);return Bn=a.slice(e,1<t?1-t:void 0)}function Vn(){return!0}function qn(){return!1}function Yn(e,t,n,r){for(var a in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(a)&&((t=e[a])?this[a]=t(n):"target"===a?this.target=r:this[a]=n[a]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Vn:qn,this.isPropagationStopped=qn,this}function Kn(e,t,n,r){if(this.eventPool.length){var a=this.eventPool.pop();return this.call(a,e,t,n,r),a}return new this(e,t,n,r)}function Wn(e){if(!(e instanceof this))throw Error(s(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Qn(e){e.eventPool=[],e.getPooled=Kn,e.release=Wn}a(Yn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Vn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Vn)},persist:function(){this.isPersistent=Vn},isPersistent:qn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=qn,this._dispatchInstances=this._dispatchListeners=null}}),Yn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Yn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var i=new t;return a(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=a({},r.Interface,e),n.extend=r.extend,Qn(n),n},Qn(Yn);var Jn=Yn.extend({data:null}),$n=Yn.extend({data:null}),Xn=[9,13,27,32],Zn=O&&"CompositionEvent"in window,er=null;O&&"documentMode"in document&&(er=document.documentMode);var tr=O&&"TextEvent"in window&&!er,nr=O&&(!Zn||er&&8<er&&11>=er),rr=String.fromCharCode(32),ar={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},ir=!1;function sr(e,t){switch(e){case"keyup":return-1!==Xn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function or(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var lr=!1;var ur={eventTypes:ar,extractEvents:function(e,t,n,r){var a;if(Zn)e:{switch(e){case"compositionstart":var i=ar.compositionStart;break e;case"compositionend":i=ar.compositionEnd;break e;case"compositionupdate":i=ar.compositionUpdate;break e}i=void 0}else lr?sr(e,n)&&(i=ar.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=ar.compositionStart);return i?(nr&&"ko"!==n.locale&&(lr||i!==ar.compositionStart?i===ar.compositionEnd&&lr&&(a=zn()):(Gn="value"in(Hn=r)?Hn.value:Hn.textContent,lr=!0)),i=Jn.getPooled(i,t,n,r),a?i.data=a:null!==(a=or(n))&&(i.data=a),jn(i),a=i):a=null,(e=tr?function(e,t){switch(e){case"compositionend":return or(t);case"keypress":return 32!==t.which?null:(ir=!0,rr);case"textInput":return(e=t.data)===rr&&ir?null:e;default:return null}}(e,n):function(e,t){if(lr)return"compositionend"===e||!Zn&&sr(e,t)?(e=zn(),Bn=Gn=Hn=null,lr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nr&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=$n.getPooled(ar.beforeInput,t,n,r)).data=e,jn(t)):t=null,null===a?t:null===t?a:[a,t]}},cr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!cr[e.type]:"textarea"===t}var fr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function hr(e,t,n){return(e=Yn.getPooled(fr.change,e,t,n)).type="change",I(n),jn(e),e}var pr=null,mr=null;function gr(e){ot(e)}function yr(e){if(Ee(In(e)))return e}function _r(e,t){if("change"===e)return t}var vr=!1;function Er(){pr&&(pr.detachEvent("onpropertychange",br),mr=pr=null)}function br(e){if("value"===e.propertyName&&yr(mr))if(e=hr(mr,e,lt(e)),x)ot(e);else{x=!0;try{P(gr,e)}finally{x=!1,j()}}}function Cr(e,t,n){"focus"===e?(Er(),mr=n,(pr=t).attachEvent("onpropertychange",br)):"blur"===e&&Er()}function Nr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return yr(mr)}function Sr(e,t){if("click"===e)return yr(t)}function Tr(e,t){if("input"===e||"change"===e)return yr(t)}O&&(vr=ut("input")&&(!document.documentMode||9<document.documentMode));var Or={eventTypes:fr,_isInputEventSupported:vr,extractEvents:function(e,t,n,r){var a=t?In(t):window,i=a.nodeName&&a.nodeName.toLowerCase();if("select"===i||"input"===i&&"file"===a.type)var s=_r;else if(dr(a))if(vr)s=Tr;else{s=Nr;var o=Cr}else(i=a.nodeName)&&"input"===i.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(s=Sr);if(s&&(s=s(e,t)))return hr(s,n,r);o&&o(e,a,t),"blur"===e&&(e=a._wrapperState)&&e.controlled&&"number"===a.type&&Oe(a,"number",a.value)}},wr=Yn.extend({view:null,detail:null}),kr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ar(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kr[e])&&!!t[e]}function Rr(){return Ar}var Ir=0,Mr=0,Pr=!1,Ur=!1,Lr=wr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Rr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Ir;return Ir=e.screenX,Pr?"mousemove"===e.type?e.screenX-t:0:(Pr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Mr;return Mr=e.screenY,Ur?"mousemove"===e.type?e.screenY-t:0:(Ur=!0,0)}}),Dr=Lr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),xr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Fr={eventTypes:xr,extractEvents:function(e,t,n,r,a){var i="mouseover"===e||"pointerover"===e,s="mouseout"===e||"pointerout"===e;if(i&&0===(32&a)&&(n.relatedTarget||n.fromElement)||!s&&!i)return null;(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,s)?(s=t,null!==(t=(t=n.relatedTarget||n.toElement)?An(t):null)&&(t!==Ze(t)||5!==t.tag&&6!==t.tag)&&(t=null)):s=null;if(s===t)return null;if("mouseout"===e||"mouseover"===e)var o=Lr,l=xr.mouseLeave,u=xr.mouseEnter,c="mouse";else"pointerout"!==e&&"pointerover"!==e||(o=Dr,l=xr.pointerLeave,u=xr.pointerEnter,c="pointer");if(e=null==s?i:In(s),i=null==t?i:In(t),(l=o.getPooled(l,s,n,r)).type=c+"leave",l.target=e,l.relatedTarget=i,(n=o.getPooled(u,t,n,r)).type=c+"enter",n.target=i,n.relatedTarget=e,c=t,(r=s)&&c)e:{for(u=c,s=0,e=o=r;e;e=Pn(e))s++;for(e=0,t=u;t;t=Pn(t))e++;for(;0<s-e;)o=Pn(o),s--;for(;0<e-s;)u=Pn(u),e--;for(;s--;){if(o===u||o===u.alternate)break e;o=Pn(o),u=Pn(u)}o=null}else o=null;for(u=o,o=[];r&&r!==u&&(null===(s=r.alternate)||s!==u);)o.push(r),r=Pn(r);for(r=[];c&&c!==u&&(null===(s=c.alternate)||s!==u);)r.push(c),c=Pn(c);for(c=0;c<o.length;c++)xn(o[c],"bubbled",l);for(c=r.length;0<c--;)xn(r[c],"captured",n);return 0===(64&a)?[l]:[l,n]}};var jr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Hr=Object.prototype.hasOwnProperty;function Gr(e,t){if(jr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Hr.call(t,n[r])||!jr(e[n[r]],t[n[r]]))return!1;return!0}var Br=O&&"documentMode"in document&&11>=document.documentMode,zr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Vr=null,qr=null,Yr=null,Kr=!1;function Wr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Kr||null==Vr||Vr!==ln(n)?null:("selectionStart"in(n=Vr)&&fn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Yr&&Gr(Yr,n)?null:(Yr=n,(e=Yn.getPooled(zr.select,qr,e,t)).type="select",e.target=Vr,jn(e),e))}var Qr={eventTypes:zr,extractEvents:function(e,t,n,r,a,i){if(!(i=!(a=i||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{a=Xe(a),i=S.onSelect;for(var s=0;s<i.length;s++)if(!a.has(i[s])){a=!1;break e}a=!0}i=!a}if(i)return null;switch(a=t?In(t):window,e){case"focus":(dr(a)||"true"===a.contentEditable)&&(Vr=a,qr=t,Yr=null);break;case"blur":Yr=qr=Vr=null;break;case"mousedown":Kr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Kr=!1,Wr(n,r);case"selectionchange":if(Br)break;case"keydown":case"keyup":return Wr(n,r)}return null}},Jr=Yn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),$r=Yn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xr=wr.extend({relatedTarget:null});function Zr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var ea={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ta={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},na=wr.extend({key:function(e){if(e.key){var t=ea[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Zr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ta[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Rr,charCode:function(e){return"keypress"===e.type?Zr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Zr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ra=Lr.extend({dataTransfer:null}),aa=wr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Rr}),ia=Yn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),sa=Lr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),oa={eventTypes:xt,extractEvents:function(e,t,n,r){var a=Ft.get(e);if(!a)return null;switch(e){case"keypress":if(0===Zr(n))return null;case"keydown":case"keyup":e=na;break;case"blur":case"focus":e=Xr;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Lr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ra;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=aa;break;case Ye:case Ke:case We:e=Jr;break;case Qe:e=ia;break;case"scroll":e=wr;break;case"wheel":e=sa;break;case"copy":case"cut":case"paste":e=$r;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Dr;break;default:e=Yn}return jn(t=e.getPooled(a,t,n,r)),t}};if(y)throw Error(s(101));y=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),v(),h=Mn,p=Rn,m=In,T({SimpleEventPlugin:oa,EnterLeaveEventPlugin:Fr,ChangeEventPlugin:Or,SelectEventPlugin:Qr,BeforeInputEventPlugin:ur});var la=[],ua=-1;function ca(e){0>ua||(e.current=la[ua],la[ua]=null,ua--)}function da(e,t){la[++ua]=e.current,e.current=t}var fa={},ha={current:fa},pa={current:!1},ma=fa;function ga(e,t){var n=e.type.contextTypes;if(!n)return fa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ya(e){return null!==(e=e.childContextTypes)&&void 0!==e}function _a(){ca(pa),ca(ha)}function va(e,t,n){if(ha.current!==fa)throw Error(s(168));da(ha,t),da(pa,n)}function Ea(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(s(108,me(t)||"Unknown",i));return a({},n,{},r)}function ba(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fa,ma=ha.current,da(ha,e),da(pa,pa.current),!0}function Ca(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Ea(e,t,ma),r.__reactInternalMemoizedMergedChildContext=e,ca(pa),ca(ha),da(ha,e)):ca(pa),da(pa,n)}var Na=i.unstable_runWithPriority,Sa=i.unstable_scheduleCallback,Ta=i.unstable_cancelCallback,Oa=i.unstable_requestPaint,wa=i.unstable_now,ka=i.unstable_getCurrentPriorityLevel,Aa=i.unstable_ImmediatePriority,Ra=i.unstable_UserBlockingPriority,Ia=i.unstable_NormalPriority,Ma=i.unstable_LowPriority,Pa=i.unstable_IdlePriority,Ua={},La=i.unstable_shouldYield,Da=void 0!==Oa?Oa:function(){},xa=null,Fa=null,ja=!1,Ha=wa(),Ga=1e4>Ha?wa:function(){return wa()-Ha};function Ba(){switch(ka()){case Aa:return 99;case Ra:return 98;case Ia:return 97;case Ma:return 96;case Pa:return 95;default:throw Error(s(332))}}function za(e){switch(e){case 99:return Aa;case 98:return Ra;case 97:return Ia;case 96:return Ma;case 95:return Pa;default:throw Error(s(332))}}function Va(e,t){return e=za(e),Na(e,t)}function qa(e,t,n){return e=za(e),Sa(e,t,n)}function Ya(e){return null===xa?(xa=[e],Fa=Sa(Aa,Wa)):xa.push(e),Ua}function Ka(){if(null!==Fa){var e=Fa;Fa=null,Ta(e)}Wa()}function Wa(){if(!ja&&null!==xa){ja=!0;var e=0;try{var t=xa;Va(99,function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}}),xa=null}catch(n){throw null!==xa&&(xa=xa.slice(e+1)),Sa(Aa,Ka),n}finally{ja=!1}}}function Qa(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Ja(e,t){if(e&&e.defaultProps)for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var $a={current:null},Xa=null,Za=null,ei=null;function ti(){ei=Za=Xa=null}function ni(e){var t=$a.current;ca($a),e.type._context._currentValue=t}function ri(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function ai(e,t){Xa=e,ei=Za=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Is=!0),e.firstContext=null)}function ii(e,t){if(ei!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ei=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Za){if(null===Xa)throw Error(s(308));Za=t,Xa.dependencies={expirationTime:0,firstContext:t,responders:null}}else Za=Za.next=t;return e._currentValue}var si=!1;function oi(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function li(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function ui(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function ci(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function di(e,t){var n=e.alternate;null!==n&&li(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function fi(e,t,n,r){var i=e.updateQueue;si=!1;var s=i.baseQueue,o=i.shared.pending;if(null!==o){if(null!==s){var l=s.next;s.next=o.next,o.next=l}s=o,i.shared.pending=null,null!==(l=e.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=o))}if(null!==s){l=s.next;var u=i.baseState,c=0,d=null,f=null,h=null;if(null!==l)for(var p=l;;){if((o=p.expirationTime)<r){var m={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===h?(f=h=m,d=u):h=h.next=m,o>c&&(c=o)}else{null!==h&&(h=h.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),ml(o,p.suspenseConfig);e:{var g=e,y=p;switch(o=t,m=n,y.tag){case 1:if("function"===typeof(g=y.payload)){u=g.call(m,u,o);break e}u=g;break e;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null===(o="function"===typeof(g=y.payload)?g.call(m,u,o):g)||void 0===o)break e;u=a({},u,o);break e;case 2:si=!0}}null!==p.callback&&(e.effectTag|=32,null===(o=i.effects)?i.effects=[p]:o.push(p))}if(null===(p=p.next)||p===l){if(null===(o=i.shared.pending))break;p=s.next=o.next,o.next=l,i.baseQueue=s=o,i.shared.pending=null}}null===h?d=u:h.next=f,i.baseState=d,i.baseQueue=h,gl(c),e.expirationTime=c,e.memoizedState=u}}function hi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=a,a=n,"function"!==typeof r)throw Error(s(191,r));r.call(a)}}}var pi=Q.ReactCurrentBatchConfig,mi=(new r.Component).refs;function gi(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:a({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var yi={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=rl(),a=pi.suspense;(a=ui(r=al(r,e,a),a)).payload=t,void 0!==n&&null!==n&&(a.callback=n),ci(e,a),il(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=rl(),a=pi.suspense;(a=ui(r=al(r,e,a),a)).tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),ci(e,a),il(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=rl(),r=pi.suspense;(r=ui(n=al(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),ci(e,r),il(e,n)}};function _i(e,t,n,r,a,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!Gr(n,r)||!Gr(a,i))}function vi(e,t,n){var r=!1,a=fa,i=t.contextType;return"object"===typeof i&&null!==i?i=ii(i):(a=ya(t)?ma:ha.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?ga(e,a):fa),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=yi,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ei(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&yi.enqueueReplaceState(t,t.state,null)}function bi(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=mi,oi(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=ii(i):(i=ya(t)?ma:ha.current,a.context=ga(e,i)),fi(e,n,a,r),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(gi(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&yi.enqueueReplaceState(a,a.state,null),fi(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.effectTag|=4)}var Ci=Array.isArray;function Ni(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=r.refs;t===mi&&(t=r.refs={}),null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Si(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Ti(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Ul(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function o(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=xl(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=a(t,n.props)).ref=Ni(e,t,n),r.return=e,r):((r=Ll(n.type,n.key,n.props,null,e.mode,r)).ref=Ni(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fl(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Dl(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=xl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case Z:return(n=Ll(t.type,t.key,t.props,null,e.mode,n)).ref=Ni(e,null,t),n.return=e,n;case ee:return(t=Fl(t,e.mode,n)).return=e,t}if(Ci(t)||pe(t))return(t=Dl(t,e.mode,n,null)).return=e,t;Si(e,t)}return null}function h(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case Z:return n.key===a?n.type===te?d(e,t,n.props.children,r,a):u(e,t,n,r):null;case ee:return n.key===a?c(e,t,n,r):null}if(Ci(n)||pe(n))return null!==a?null:d(e,t,n,r,null);Si(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case Z:return e=e.get(null===r.key?n:r.key)||null,r.type===te?d(t,e,r.props.children,a,r.key):u(t,e,r,a);case ee:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a)}if(Ci(r)||pe(r))return d(t,e=e.get(n)||null,r,a,null);Si(t,r)}return null}function m(a,s,o,l){for(var u=null,c=null,d=s,m=s=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=h(a,d,o[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(a,d),s=i(y,s,m),null===c?u=y:c.sibling=y,c=y,d=g}if(m===o.length)return n(a,d),u;if(null===d){for(;m<o.length;m++)null!==(d=f(a,o[m],l))&&(s=i(d,s,m),null===c?u=d:c.sibling=d,c=d);return u}for(d=r(a,d);m<o.length;m++)null!==(g=p(d,a,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=i(g,s,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach(function(e){return t(a,e)}),u}function g(a,o,l,u){var c=pe(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var d=c=null,m=o,g=o=0,y=null,_=l.next();null!==m&&!_.done;g++,_=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var v=h(a,m,_.value,u);if(null===v){null===m&&(m=y);break}e&&m&&null===v.alternate&&t(a,m),o=i(v,o,g),null===d?c=v:d.sibling=v,d=v,m=y}if(_.done)return n(a,m),c;if(null===m){for(;!_.done;g++,_=l.next())null!==(_=f(a,_.value,u))&&(o=i(_,o,g),null===d?c=_:d.sibling=_,d=_);return c}for(m=r(a,m);!_.done;g++,_=l.next())null!==(_=p(m,a,g,_.value,u))&&(e&&null!==_.alternate&&m.delete(null===_.key?g:_.key),o=i(_,o,g),null===d?c=_:d.sibling=_,d=_);return e&&m.forEach(function(e){return t(a,e)}),c}return function(e,r,i,l){var u="object"===typeof i&&null!==i&&i.type===te&&null===i.key;u&&(i=i.props.children);var c="object"===typeof i&&null!==i;if(c)switch(i.$$typeof){case Z:e:{for(c=i.key,u=r;null!==u;){if(u.key===c){switch(u.tag){case 7:if(i.type===te){n(e,u.sibling),(r=a(u,i.props.children)).return=e,e=r;break e}break;default:if(u.elementType===i.type){n(e,u.sibling),(r=a(u,i.props)).ref=Ni(e,u,i),r.return=e,e=r;break e}}n(e,u);break}t(e,u),u=u.sibling}i.type===te?((r=Dl(i.props.children,e.mode,l,i.key)).return=e,e=r):((l=Ll(i.type,i.key,i.props,null,e.mode,l)).ref=Ni(e,r,i),l.return=e,e=l)}return o(e);case ee:e:{for(u=i.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(e,r.sibling),(r=a(r,i.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Fl(i,e.mode,l)).return=e,e=r}return o(e)}if("string"===typeof i||"number"===typeof i)return i=""+i,null!==r&&6===r.tag?(n(e,r.sibling),(r=a(r,i)).return=e,e=r):(n(e,r),(r=xl(i,e.mode,l)).return=e,e=r),o(e);if(Ci(i))return m(e,r,i,l);if(pe(i))return g(e,r,i,l);if(c&&Si(e,i),"undefined"===typeof i&&!u)switch(e.tag){case 1:case 0:throw e=e.type,Error(s(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Oi=Ti(!0),wi=Ti(!1),ki={},Ai={current:ki},Ri={current:ki},Ii={current:ki};function Mi(e){if(e===ki)throw Error(s(174));return e}function Pi(e,t){switch(da(Ii,t),da(Ri,e),da(Ai,ki),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:De(null,"");break;default:t=De(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ca(Ai),da(Ai,t)}function Ui(){ca(Ai),ca(Ri),ca(Ii)}function Li(e){Mi(Ii.current);var t=Mi(Ai.current),n=De(t,e.type);t!==n&&(da(Ri,e),da(Ai,n))}function Di(e){Ri.current===e&&(ca(Ai),ca(Ri))}var xi={current:0};function Fi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===mn||n.data===gn))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ji(e,t){return{responder:e,props:t}}var Hi=Q.ReactCurrentDispatcher,Gi=Q.ReactCurrentBatchConfig,Bi=0,zi=null,Vi=null,qi=null,Yi=!1;function Ki(){throw Error(s(321))}function Wi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jr(e[n],t[n]))return!1;return!0}function Qi(e,t,n,r,a,i){if(Bi=i,zi=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Hi.current=null===e||null===e.memoizedState?_s:vs,e=n(r,a),t.expirationTime===Bi){i=0;do{if(t.expirationTime=0,!(25>i))throw Error(s(301));i+=1,qi=Vi=null,t.updateQueue=null,Hi.current=Es,e=n(r,a)}while(t.expirationTime===Bi)}if(Hi.current=ys,t=null!==Vi&&null!==Vi.next,Bi=0,qi=Vi=zi=null,Yi=!1,t)throw Error(s(300));return e}function Ji(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===qi?zi.memoizedState=qi=e:qi=qi.next=e,qi}function $i(){if(null===Vi){var e=zi.alternate;e=null!==e?e.memoizedState:null}else e=Vi.next;var t=null===qi?zi.memoizedState:qi.next;if(null!==t)qi=t,Vi=e;else{if(null===e)throw Error(s(310));e={memoizedState:(Vi=e).memoizedState,baseState:Vi.baseState,baseQueue:Vi.baseQueue,queue:Vi.queue,next:null},null===qi?zi.memoizedState=qi=e:qi=qi.next=e}return qi}function Xi(e,t){return"function"===typeof t?t(e):t}function Zi(e){var t=$i(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=Vi,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(null!==a){a=a.next,r=r.baseState;var l=o=i=null,u=a;do{var c=u.expirationTime;if(c<Bi){var d={expirationTime:u.expirationTime,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(o=l=d,i=r):l=l.next=d,c>zi.expirationTime&&(zi.expirationTime=c,gl(c))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),ml(c,u.suspenseConfig),r=u.eagerReducer===e?u.eagerState:e(r,u.action);u=u.next}while(null!==u&&u!==a);null===l?i=r:l.next=o,jr(r,t.memoizedState)||(Is=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function es(e){var t=$i(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{i=e(i,o.action),o=o.next}while(o!==a);jr(i,t.memoizedState)||(Is=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ts(e){var t=Ji();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:e}).dispatch=gs.bind(null,zi,e),[t.memoizedState,e]}function ns(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=zi.updateQueue)?(t={lastEffect:null},zi.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function rs(){return $i().memoizedState}function as(e,t,n,r){var a=Ji();zi.effectTag|=e,a.memoizedState=ns(1|t,n,void 0,void 0===r?null:r)}function is(e,t,n,r){var a=$i();r=void 0===r?null:r;var i=void 0;if(null!==Vi){var s=Vi.memoizedState;if(i=s.destroy,null!==r&&Wi(r,s.deps))return void ns(t,n,i,r)}zi.effectTag|=e,a.memoizedState=ns(1|t,n,i,r)}function ss(e,t){return as(516,4,e,t)}function os(e,t){return is(516,4,e,t)}function ls(e,t){return is(4,2,e,t)}function us(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function cs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,is(4,2,us.bind(null,t,e),n)}function ds(){}function fs(e,t){return Ji().memoizedState=[e,void 0===t?null:t],e}function hs(e,t){var n=$i();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Wi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ps(e,t){var n=$i();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Wi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ms(e,t,n){var r=Ba();Va(98>r?98:r,function(){e(!0)}),Va(97<r?97:r,function(){var r=Gi.suspense;Gi.suspense=void 0===t?null:t;try{e(!1),n()}finally{Gi.suspense=r}})}function gs(e,t,n){var r=rl(),a=pi.suspense;a={expirationTime:r=al(r,e,a),suspenseConfig:a,action:n,eagerReducer:null,eagerState:null,next:null};var i=t.pending;if(null===i?a.next=a:(a.next=i.next,i.next=a),t.pending=a,i=e.alternate,e===zi||null!==i&&i===zi)Yi=!0,a.expirationTime=Bi,zi.expirationTime=Bi;else{if(0===e.expirationTime&&(null===i||0===i.expirationTime)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=i(s,n);if(a.eagerReducer=i,a.eagerState=o,jr(o,s))return}catch(l){}il(e,r)}}var ys={readContext:ii,useCallback:Ki,useContext:Ki,useEffect:Ki,useImperativeHandle:Ki,useLayoutEffect:Ki,useMemo:Ki,useReducer:Ki,useRef:Ki,useState:Ki,useDebugValue:Ki,useResponder:Ki,useDeferredValue:Ki,useTransition:Ki},_s={readContext:ii,useCallback:fs,useContext:ii,useEffect:ss,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,as(4,2,us.bind(null,t,e),n)},useLayoutEffect:function(e,t){return as(4,2,e,t)},useMemo:function(e,t){var n=Ji();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ji();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=gs.bind(null,zi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ji().memoizedState=e},useState:ts,useDebugValue:ds,useResponder:ji,useDeferredValue:function(e,t){var n=ts(e),r=n[0],a=n[1];return ss(function(){var n=Gi.suspense;Gi.suspense=void 0===t?null:t;try{a(e)}finally{Gi.suspense=n}},[e,t]),r},useTransition:function(e){var t=ts(!1),n=t[0];return t=t[1],[fs(ms.bind(null,t,e),[t,e]),n]}},vs={readContext:ii,useCallback:hs,useContext:ii,useEffect:os,useImperativeHandle:cs,useLayoutEffect:ls,useMemo:ps,useReducer:Zi,useRef:rs,useState:function(){return Zi(Xi)},useDebugValue:ds,useResponder:ji,useDeferredValue:function(e,t){var n=Zi(Xi),r=n[0],a=n[1];return os(function(){var n=Gi.suspense;Gi.suspense=void 0===t?null:t;try{a(e)}finally{Gi.suspense=n}},[e,t]),r},useTransition:function(e){var t=Zi(Xi),n=t[0];return t=t[1],[hs(ms.bind(null,t,e),[t,e]),n]}},Es={readContext:ii,useCallback:hs,useContext:ii,useEffect:os,useImperativeHandle:cs,useLayoutEffect:ls,useMemo:ps,useReducer:es,useRef:rs,useState:function(){return es(Xi)},useDebugValue:ds,useResponder:ji,useDeferredValue:function(e,t){var n=es(Xi),r=n[0],a=n[1];return os(function(){var n=Gi.suspense;Gi.suspense=void 0===t?null:t;try{a(e)}finally{Gi.suspense=n}},[e,t]),r},useTransition:function(e){var t=es(Xi),n=t[0];return t=t[1],[hs(ms.bind(null,t,e),[t,e]),n]}},bs=null,Cs=null,Ns=!1;function Ss(e,t){var n=Ml(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ts(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Os(e){if(Ns){var t=Cs;if(t){var n=t;if(!Ts(e,t)){if(!(t=Nn(n.nextSibling))||!Ts(e,t))return e.effectTag=-1025&e.effectTag|2,Ns=!1,void(bs=e);Ss(bs,n)}bs=e,Cs=Nn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Ns=!1,bs=e}}function ws(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;bs=e}function ks(e){if(e!==bs)return!1;if(!Ns)return ws(e),Ns=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!En(t,e.memoizedProps))for(t=Cs;t;)Ss(e,t),t=Nn(t.nextSibling);if(ws(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===pn){if(0===t){Cs=Nn(e.nextSibling);break e}t--}else n!==hn&&n!==gn&&n!==mn||t++}e=e.nextSibling}Cs=null}}else Cs=bs?Nn(e.stateNode.nextSibling):null;return!0}function As(){Cs=bs=null,Ns=!1}var Rs=Q.ReactCurrentOwner,Is=!1;function Ms(e,t,n,r){t.child=null===e?wi(t,null,n,r):Oi(t,e.child,n,r)}function Ps(e,t,n,r,a){n=n.render;var i=t.ref;return ai(t,a),r=Qi(e,t,n,r,i,a),null===e||Is?(t.effectTag|=1,Ms(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=a&&(e.expirationTime=0),Js(e,t,a))}function Us(e,t,n,r,a,i){if(null===e){var s=n.type;return"function"!==typeof s||Pl(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ll(n.type,null,r,null,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ls(e,t,s,r,a,i))}return s=e.child,a<i&&(a=s.memoizedProps,(n=null!==(n=n.compare)?n:Gr)(a,r)&&e.ref===t.ref)?Js(e,t,i):(t.effectTag|=1,(e=Ul(s,r)).ref=t.ref,e.return=t,t.child=e)}function Ls(e,t,n,r,a,i){return null!==e&&Gr(e.memoizedProps,r)&&e.ref===t.ref&&(Is=!1,a<i)?(t.expirationTime=e.expirationTime,Js(e,t,i)):xs(e,t,n,r,i)}function Ds(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function xs(e,t,n,r,a){var i=ya(n)?ma:ha.current;return i=ga(t,i),ai(t,a),n=Qi(e,t,n,r,i,a),null===e||Is?(t.effectTag|=1,Ms(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=a&&(e.expirationTime=0),Js(e,t,a))}function Fs(e,t,n,r,a){if(ya(n)){var i=!0;ba(t)}else i=!1;if(ai(t,a),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),vi(t,n,r),bi(t,n,r,a),r=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,u=n.contextType;"object"===typeof u&&null!==u?u=ii(u):u=ga(t,u=ya(n)?ma:ha.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==r||l!==u)&&Ei(t,s,r,u),si=!1;var f=t.memoizedState;s.state=f,fi(t,r,s,a),l=t.memoizedState,o!==r||f!==l||pa.current||si?("function"===typeof c&&(gi(t,n,c,r),l=t.memoizedState),(o=si||_i(t,n,o,r,f,l,u))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.effectTag|=4)):("function"===typeof s.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=o):("function"===typeof s.componentDidMount&&(t.effectTag|=4),r=!1)}else s=t.stateNode,li(e,t),o=t.memoizedProps,s.props=t.type===t.elementType?o:Ja(t.type,o),l=s.context,"object"===typeof(u=n.contextType)&&null!==u?u=ii(u):u=ga(t,u=ya(n)?ma:ha.current),(d="function"===typeof(c=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==r||l!==u)&&Ei(t,s,r,u),si=!1,l=t.memoizedState,s.state=l,fi(t,r,s,a),f=t.memoizedState,o!==r||l!==f||pa.current||si?("function"===typeof c&&(gi(t,n,c,r),f=t.memoizedState),(c=si||_i(t,n,o,r,l,f,u))?(d||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,u),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,u)),"function"===typeof s.componentDidUpdate&&(t.effectTag|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=u,r=c):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),r=!1);return js(e,t,n,r,i,a)}function js(e,t,n,r,a,i){Ds(e,t);var s=0!==(64&t.effectTag);if(!r&&!s)return a&&Ca(t,n,!1),Js(e,t,i);r=t.stateNode,Rs.current=t;var o=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&s?(t.child=Oi(t,e.child,null,i),t.child=Oi(t,null,o,i)):Ms(e,t,o,i),t.memoizedState=r.state,a&&Ca(t,n,!0),t.child}function Hs(e){var t=e.stateNode;t.pendingContext?va(0,t.pendingContext,t.pendingContext!==t.context):t.context&&va(0,t.context,!1),Pi(e,t.containerInfo)}var Gs,Bs,zs,Vs,qs={dehydrated:null,retryTime:0};function Ys(e,t,n){var r,a=t.mode,i=t.pendingProps,s=xi.current,o=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&s)&&(null===e||null!==e.memoizedState)),r?(o=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(s|=1),da(xi,1&s),null===e){if(void 0!==i.fallback&&Os(t),o){if(o=i.fallback,(i=Dl(null,a,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;return(n=Dl(o,a,n,null)).return=t,i.sibling=n,t.memoizedState=qs,t.child=i,n}return a=i.children,t.memoizedState=null,t.child=wi(t,null,a,n)}if(null!==e.memoizedState){if(a=(e=e.child).sibling,o){if(i=i.fallback,(n=Ul(e,e.pendingProps)).return=t,0===(2&t.mode)&&(o=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=o;null!==o;)o.return=n,o=o.sibling;return(a=Ul(a,i)).return=t,n.sibling=a,n.childExpirationTime=0,t.memoizedState=qs,t.child=n,a}return n=Oi(t,e.child,i.children,n),t.memoizedState=null,t.child=n}if(e=e.child,o){if(o=i.fallback,(i=Dl(null,a,0,null)).return=t,i.child=e,null!==e&&(e.return=i),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;return(n=Dl(o,a,n,null)).return=t,i.sibling=n,n.effectTag|=2,i.childExpirationTime=0,t.memoizedState=qs,t.child=i,n}return t.memoizedState=null,t.child=Oi(t,e,i.children,n)}function Ks(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),ri(e.return,t)}function Ws(e,t,n,r,a,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:a,lastEffect:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailExpiration=0,s.tailMode=a,s.lastEffect=i)}function Qs(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(Ms(e,t,r.children,n),0!==(2&(r=xi.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ks(e,n);else if(19===e.tag)Ks(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(da(xi,r),0===(2&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===Fi(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Ws(t,!1,a,n,i,t.lastEffect);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Fi(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Ws(t,!0,n,null,i,t.lastEffect);break;case"together":Ws(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Js(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&gl(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Ul(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ul(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $s(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xs(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return ya(t.type)&&_a(),null;case 3:return Ui(),ca(pa),ca(ha),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!ks(t)||(t.effectTag|=4),Bs(t),null;case 5:Di(t),n=Mi(Ii.current);var i=t.type;if(null!==e&&null!=t.stateNode)zs(e,t,i,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(s(166));return null}if(e=Mi(Ai.current),ks(t)){r=t.stateNode,i=t.type;var o=t.memoizedProps;switch(r[On]=t,r[wn]=o,i){case"iframe":case"object":case"embed":Kt("load",r);break;case"video":case"audio":for(e=0;e<Je.length;e++)Kt(Je[e],r);break;case"source":Kt("error",r);break;case"img":case"image":case"link":Kt("error",r),Kt("load",r);break;case"form":Kt("reset",r),Kt("submit",r);break;case"details":Kt("toggle",r);break;case"input":Ce(r,o),Kt("invalid",r),sn(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Kt("invalid",r),sn(n,"onChange");break;case"textarea":Re(r,o),Kt("invalid",r),sn(n,"onChange")}for(var l in nn(i,o),e=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?r.textContent!==u&&(e=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(e=["children",""+u]):N.hasOwnProperty(l)&&null!=u&&sn(n,l)}switch(i){case"input":ve(r),Te(r,o,!0);break;case"textarea":ve(r),Me(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=on)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(l=9===n.nodeType?n:n.ownerDocument,e===an&&(e=Le(i)),e===an?"script"===i?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(i,{is:r.is}):(e=l.createElement(i),"select"===i&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,i),e[On]=t,e[wn]=r,Gs(e,t,!1,!1),t.stateNode=e,l=rn(i,r),i){case"iframe":case"object":case"embed":Kt("load",e),u=r;break;case"video":case"audio":for(u=0;u<Je.length;u++)Kt(Je[u],e);u=r;break;case"source":Kt("error",e),u=r;break;case"img":case"image":case"link":Kt("error",e),Kt("load",e),u=r;break;case"form":Kt("reset",e),Kt("submit",e),u=r;break;case"details":Kt("toggle",e),u=r;break;case"input":Ce(e,r),u=be(e,r),Kt("invalid",e),sn(n,"onChange");break;case"option":u=we(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},u=a({},r,{value:void 0}),Kt("invalid",e),sn(n,"onChange");break;case"textarea":Re(e,r),u=Ae(e,r),Kt("invalid",e),sn(n,"onChange");break;default:u=r}nn(i,u);var c=u;for(o in c)if(c.hasOwnProperty(o)){var d=c[o];"style"===o?en(e,d):"dangerouslySetInnerHTML"===o?null!=(d=d?d.__html:void 0)&&je(e,d):"children"===o?"string"===typeof d?("textarea"!==i||""!==d)&&He(e,d):"number"===typeof d&&He(e,""+d):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(N.hasOwnProperty(o)?null!=d&&sn(n,o):null!=d&&J(e,o,d,l))}switch(i){case"input":ve(e),Te(e,r,!1);break;case"textarea":ve(e),Me(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ye(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?ke(e,!!r.multiple,n,!1):null!=r.defaultValue&&ke(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof u.onClick&&(e.onclick=on)}vn(i,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Vs(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));n=Mi(Ii.current),Mi(Ai.current),ks(t)?(n=t.stateNode,r=t.memoizedProps,n[On]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[On]=t,t.stateNode=n)}return null;case 13:return ca(xi),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&ks(t):(r=null!==(i=e.memoizedState),n||null===i||null!==(i=e.child.sibling)&&(null!==(o=t.firstEffect)?(t.firstEffect=i,i.nextEffect=o):(t.firstEffect=t.lastEffect=i,i.nextEffect=null),i.effectTag=8)),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&xi.current)?xo===wo&&(xo=Ro):(xo!==wo&&xo!==Ro||(xo=Io),0!==Bo&&null!==Uo&&(Gl(Uo,Do),Bl(Uo,Bo)))),(n||r)&&(t.effectTag|=4),null);case 4:return Ui(),Bs(t),null;case 10:return ni(t),null;case 17:return ya(t.type)&&_a(),null;case 19:if(ca(xi),null===(r=t.memoizedState))return null;if(i=0!==(64&t.effectTag),null===(o=r.rendering)){if(i)$s(r,!1);else if(xo!==wo||null!==e&&0!==(64&e.effectTag))for(o=t.child;null!==o;){if(null!==(e=Fi(o))){for(t.effectTag|=64,$s(r,!1),null!==(i=e.updateQueue)&&(t.updateQueue=i,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)o=n,(i=r).effectTag&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,null===(e=i.alternate)?(i.childExpirationTime=0,i.expirationTime=o,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null):(i.childExpirationTime=e.childExpirationTime,i.expirationTime=e.expirationTime,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,o=e.dependencies,i.dependencies=null===o?null:{expirationTime:o.expirationTime,firstContext:o.firstContext,responders:o.responders}),r=r.sibling;return da(xi,1&xi.current|2),t.child}o=o.sibling}}else{if(!i)if(null!==(e=Fi(o))){if(t.effectTag|=64,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),$s(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ga()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,i=!0,$s(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=r.last)?n.sibling=o:t.child=o,r.last=o)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Ga()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ga(),n.sibling=null,t=xi.current,da(xi,i?1&t|2:1&t),n):null}throw Error(s(156,t.tag))}function Zs(e){switch(e.tag){case 1:ya(e.type)&&_a();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Ui(),ca(pa),ca(ha),0!==(64&(t=e.effectTag)))throw Error(s(285));return e.effectTag=-4097&t|64,e;case 5:return Di(e),null;case 13:return ca(xi),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return ca(xi),null;case 4:return Ui(),null;case 10:return ni(e),null;default:return null}}function eo(e,t){return{value:e,source:t,stack:ge(t)}}Gs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Bs=function(){},zs=function(e,t,n,r,i){var s=e.memoizedProps;if(s!==r){var o,l,u=t.stateNode;switch(Mi(Ai.current),e=null,n){case"input":s=be(u,s),r=be(u,r),e=[];break;case"option":s=we(u,s),r=we(u,r),e=[];break;case"select":s=a({},s,{value:void 0}),r=a({},r,{value:void 0}),e=[];break;case"textarea":s=Ae(u,s),r=Ae(u,r),e=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(u.onclick=on)}for(o in nn(n,r),n=null,s)if(!r.hasOwnProperty(o)&&s.hasOwnProperty(o)&&null!=s[o])if("style"===o)for(l in u=s[o])u.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==o&&"children"!==o&&"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(N.hasOwnProperty(o)?e||(e=[]):(e=e||[]).push(o,null));for(o in r){var c=r[o];if(u=null!=s?s[o]:void 0,r.hasOwnProperty(o)&&c!==u&&(null!=c||null!=u))if("style"===o)if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(e||(e=[]),e.push(o,n)),n=c;else"dangerouslySetInnerHTML"===o?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(o,c)):"children"===o?u===c||"string"!==typeof c&&"number"!==typeof c||(e=e||[]).push(o,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&(N.hasOwnProperty(o)?(null!=c&&sn(i,o),e||u===c||(e=[])):(e=e||[]).push(o,c))}n&&(e=e||[]).push("style",n),i=e,(t.updateQueue=i)&&(t.effectTag|=4)}},Vs=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var to="function"===typeof WeakSet?WeakSet:Set;function no(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ge(n)),null!==n&&me(n.type),t=t.value,null!==e&&1===e.tag&&me(e.type);try{console.error(t)}catch(a){setTimeout(function(){throw a})}}function ro(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){wl(e,n)}else t.current=null}function ao(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ja(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(s(163))}function io(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function so(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function oo(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void so(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Ja(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&hi(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}hi(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&vn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Dt(n)))));case 19:case 17:case 20:case 21:return}throw Error(s(163))}function lo(e,t,n){switch("function"===typeof Rl&&Rl(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Va(97<n?97:n,function(){var e=r;do{var n=e.destroy;if(void 0!==n){var a=t;try{n()}catch(i){wl(a,i)}}e=e.next}while(e!==r)})}break;case 1:ro(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){wl(e,n)}}(t,n);break;case 5:ro(t);break;case 4:ho(e,t,n)}}function uo(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&uo(t)}function co(e){return 5===e.tag||3===e.tag||4===e.tag}function fo(e){e:{for(var t=e.return;null!==t;){if(co(t)){var n=t;break e}t=t.return}throw Error(s(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.effectTag&&(He(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||co(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?function e(t,n,r){var a=t.tag,i=5===a||6===a;if(i)t=i?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,null!==r&&void 0!==r||null!==n.onclick||(n.onclick=on));else if(4!==a&&(t=t.child,null!==t))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var a=t.tag,i=5===a||6===a;if(i)t=i?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==a&&(t=t.child,null!==t))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function ho(e,t,n){for(var r,a,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(s(160));switch(r=o.stateNode,o.tag){case 5:a=!1;break e;case 3:case 4:r=r.containerInfo,a=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var l=e,u=i,c=n,d=u;;)if(lo(l,d,c),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===u)break e;for(;null===d.sibling;){if(null===d.return||d.return===u)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}a?(l=r,u=i.stateNode,8===l.nodeType?l.parentNode.removeChild(u):l.removeChild(u)):r.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){r=i.stateNode.containerInfo,a=!0,i.child.return=i,i=i.child;continue}}else if(lo(e,i,n),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function po(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void io(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,a=null!==e?e.memoizedProps:r;e=t.type;var i=t.updateQueue;if(t.updateQueue=null,null!==i){for(n[wn]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Ne(n,r),rn(e,a),t=rn(e,r),a=0;a<i.length;a+=2){var o=i[a],l=i[a+1];"style"===o?en(n,l):"dangerouslySetInnerHTML"===o?je(n,l):"children"===o?He(n,l):J(n,o,l,t)}switch(e){case"input":Se(n,r);break;case"textarea":Ie(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?ke(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?ke(n,!!r.multiple,r.defaultValue,!0):ke(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(s(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Dt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Vo=Ga()),null!==n)e:for(e=n;;){if(5===e.tag)i=e.stateNode,r?"function"===typeof(i=i.style).setProperty?i.setProperty("display","none","important"):i.display="none":(i=e.stateNode,a=void 0!==(a=e.memoizedProps.style)&&null!==a&&a.hasOwnProperty("display")?a.display:null,i.style.display=Zt("display",a));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(i=e.child.sibling).return=e,e=i;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void mo(t);case 19:return void mo(t);case 17:return}throw Error(s(163))}function mo(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new to),t.forEach(function(t){var r=function(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=al(t=rl(),e,null)),null!==(e=sl(e,t))&&ll(e)}.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}var go="function"===typeof WeakMap?WeakMap:Map;function yo(e,t,n){(n=ui(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ko||(Ko=!0,Wo=r),no(e,t)},n}function _o(e,t,n){(n=ui(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return no(e,t),r(a)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Qo?Qo=new Set([this]):Qo.add(this),no(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var vo,Eo=Math.ceil,bo=Q.ReactCurrentDispatcher,Co=Q.ReactCurrentOwner,No=0,So=8,To=16,Oo=32,wo=0,ko=1,Ao=2,Ro=3,Io=4,Mo=5,Po=No,Uo=null,Lo=null,Do=0,xo=wo,Fo=null,jo=1073741823,Ho=1073741823,Go=null,Bo=0,zo=!1,Vo=0,qo=500,Yo=null,Ko=!1,Wo=null,Qo=null,Jo=!1,$o=null,Xo=90,Zo=null,el=0,tl=null,nl=0;function rl(){return(Po&(To|Oo))!==No?1073741821-(Ga()/10|0):0!==nl?nl:nl=1073741821-(Ga()/10|0)}function al(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=Ba();if(0===(4&t))return 99===r?1073741823:1073741822;if((Po&To)!==No)return Do;if(null!==n)e=Qa(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Qa(e,150,100);break;case 97:case 96:e=Qa(e,5e3,250);break;case 95:e=2;break;default:throw Error(s(326))}return null!==Uo&&e===Do&&--e,e}function il(e,t){if(50<el)throw el=0,tl=null,Error(s(185));if(null!==(e=sl(e,t))){var n=Ba();1073741823===t?(Po&So)!==No&&(Po&(To|Oo))===No?ul(e):(ll(e),Po===No&&Ka()):ll(e),(4&Po)===No||98!==n&&99!==n||(null===Zo?Zo=new Map([[e,t]]):(void 0===(n=Zo.get(e))||n>t)&&Zo.set(e,t))}}function sl(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,a=null;if(null===r&&3===e.tag)a=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){a=r.stateNode;break}r=r.return}return null!==a&&(Uo===a&&(gl(t),xo===Io&&Gl(a,Do)),Bl(a,t)),a}function ol(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Hl(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function ll(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Ya(ul.bind(null,e));else{var t=ol(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=rl();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var a=e.callbackPriority;if(e.callbackExpirationTime===t&&a>=r)return;n!==Ua&&Ta(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Ya(ul.bind(null,e)):qa(r,function e(t,n){nl=0;if(n)return n=rl(),zl(t,n),ll(t),null;var r=ol(t);if(0!==r){if(n=t.callbackNode,(Po&(To|Oo))!==No)throw Error(s(327));if(Sl(),t===Uo&&r===Do||fl(t,r),null!==Lo){var a=Po;Po|=To;for(var i=pl();;)try{_l();break}catch(u){hl(t,u)}if(ti(),Po=a,bo.current=i,xo===ko)throw n=Fo,fl(t,r),Gl(t,r),ll(t),n;if(null===Lo)switch(i=t.finishedWork=t.current.alternate,t.finishedExpirationTime=r,a=xo,Uo=null,a){case wo:case ko:throw Error(s(345));case Ao:zl(t,2<r?2:r);break;case Ro:if(Gl(t,r),a=t.lastSuspendedTime,r===a&&(t.nextKnownPendingLevel=bl(i)),1073741823===jo&&10<(i=Vo+qo-Ga())){if(zo){var o=t.lastPingedTime;if(0===o||o>=r){t.lastPingedTime=r,fl(t,r);break}}if(0!==(o=ol(t))&&o!==r)break;if(0!==a&&a!==r){t.lastPingedTime=a;break}t.timeoutHandle=bn(Cl.bind(null,t),i);break}Cl(t);break;case Io:if(Gl(t,r),a=t.lastSuspendedTime,r===a&&(t.nextKnownPendingLevel=bl(i)),zo&&(0===(i=t.lastPingedTime)||i>=r)){t.lastPingedTime=r,fl(t,r);break}if(0!==(i=ol(t))&&i!==r)break;if(0!==a&&a!==r){t.lastPingedTime=a;break}if(1073741823!==Ho?a=10*(1073741821-Ho)-Ga():1073741823===jo?a=0:(a=10*(1073741821-jo)-5e3,i=Ga(),r=10*(1073741821-r)-i,0>(a=i-a)&&(a=0),a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Eo(a/1960))-a,r<a&&(a=r)),10<a){t.timeoutHandle=bn(Cl.bind(null,t),a);break}Cl(t);break;case Mo:if(1073741823!==jo&&null!==Go){o=jo;var l=Go;if(0>=(a=0|l.busyMinDurationMs)?a=0:(i=0|l.busyDelayMs,o=Ga()-(10*(1073741821-o)-(0|l.timeoutMs||5e3)),a=o<=i?0:i+a-o),10<a){Gl(t,r),t.timeoutHandle=bn(Cl.bind(null,t),a);break}}Cl(t);break;default:throw Error(s(329))}if(ll(t),t.callbackNode===n)return e.bind(null,t)}}return null}.bind(null,e),{timeout:10*(1073741821-t)-Ga()}),e.callbackNode=t}}}function ul(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,(Po&(To|Oo))!==No)throw Error(s(327));if(Sl(),e===Uo&&t===Do||fl(e,t),null!==Lo){var n=Po;Po|=To;for(var r=pl();;)try{yl();break}catch(a){hl(e,a)}if(ti(),Po=n,bo.current=r,xo===ko)throw n=Fo,fl(e,t),Gl(e,t),ll(e),n;if(null!==Lo)throw Error(s(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Uo=null,Cl(e),ll(e)}return null}function cl(e,t){var n=Po;Po|=1;try{return e(t)}finally{(Po=n)===No&&Ka()}}function dl(e,t){var n=Po;Po&=-2,Po|=So;try{return e(t)}finally{(Po=n)===No&&Ka()}}function fl(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Cn(n)),null!==Lo)for(n=Lo.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&_a();break;case 3:Ui(),ca(pa),ca(ha);break;case 5:Di(r);break;case 4:Ui();break;case 13:case 19:ca(xi);break;case 10:ni(r)}n=n.return}Uo=e,Lo=Ul(e.current,null),Do=t,xo=wo,Fo=null,Ho=jo=1073741823,Go=null,Bo=0,zo=!1}function hl(e,t){for(;;){try{if(ti(),Hi.current=ys,Yi)for(var n=zi.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Bi=0,qi=Vi=zi=null,Yi=!1,null===Lo||null===Lo.return)return xo=ko,Fo=t,Lo=null;e:{var a=e,i=Lo.return,s=Lo,o=t;if(t=Do,s.effectTag|=2048,s.firstEffect=s.lastEffect=null,null!==o&&"object"===typeof o&&"function"===typeof o.then){var l=o;if(0===(2&s.mode)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.expirationTime=u.expirationTime):(s.updateQueue=null,s.memoizedState=null)}var c=0!==(1&xi.current),d=i;do{var f;if(f=13===d.tag){var h=d.memoizedState;if(null!==h)f=null!==h.dehydrated;else{var p=d.memoizedProps;f=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!c)}}if(f){var m=d.updateQueue;if(null===m){var g=new Set;g.add(l),d.updateQueue=g}else m.add(l);if(0===(2&d.mode)){if(d.effectTag|=64,s.effectTag&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=ui(1073741823,null);y.tag=2,ci(s,y)}s.expirationTime=1073741823;break e}o=void 0,s=t;var _=a.pingCache;if(null===_?(_=a.pingCache=new go,o=new Set,_.set(l,o)):void 0===(o=_.get(l))&&(o=new Set,_.set(l,o)),!o.has(s)){o.add(s);var v=kl.bind(null,a,l,s);l.then(v,v)}d.effectTag|=4096,d.expirationTime=t;break e}d=d.return}while(null!==d);o=Error((me(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ge(s))}xo!==Mo&&(xo=Ao),o=eo(o,s),d=i;do{switch(d.tag){case 3:l=o,d.effectTag|=4096,d.expirationTime=t,di(d,yo(d,l,t));break e;case 1:l=o;var E=d.type,b=d.stateNode;if(0===(64&d.effectTag)&&("function"===typeof E.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Qo||!Qo.has(b)))){d.effectTag|=4096,d.expirationTime=t,di(d,_o(d,l,t));break e}}d=d.return}while(null!==d)}Lo=El(Lo)}catch(C){t=C;continue}break}}function pl(){var e=bo.current;return bo.current=ys,null===e?ys:e}function ml(e,t){e<jo&&2<e&&(jo=e),null!==t&&e<Ho&&2<e&&(Ho=e,Go=t)}function gl(e){e>Bo&&(Bo=e)}function yl(){for(;null!==Lo;)Lo=vl(Lo)}function _l(){for(;null!==Lo&&!La();)Lo=vl(Lo)}function vl(e){var t=vo(e.alternate,e,Do);return e.memoizedProps=e.pendingProps,null===t&&(t=El(e)),Co.current=null,t}function El(e){Lo=e;do{var t=Lo.alternate;if(e=Lo.return,0===(2048&Lo.effectTag)){if(t=Xs(t,Lo,Do),1===Do||1!==Lo.childExpirationTime){for(var n=0,r=Lo.child;null!==r;){var a=r.expirationTime,i=r.childExpirationTime;a>n&&(n=a),i>n&&(n=i),r=r.sibling}Lo.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Lo.firstEffect),null!==Lo.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Lo.firstEffect),e.lastEffect=Lo.lastEffect),1<Lo.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Lo:e.firstEffect=Lo,e.lastEffect=Lo))}else{if(null!==(t=Zs(Lo)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Lo.sibling))return t;Lo=e}while(null!==Lo);return xo===wo&&(xo=Mo),null}function bl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function Cl(e){var t=Ba();return Va(99,function(e,t){do{Sl()}while(null!==$o);if((Po&(To|Oo))!==No)throw Error(s(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var a=bl(n);if(e.firstPendingTime=a,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Uo&&(Lo=Uo=null,Do=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,a=n.firstEffect):a=n:a=n.firstEffect,null!==a){var i=Po;Po|=Oo,Co.current=null,yn=Yt;var o=dn();if(fn(o)){if("selectionStart"in o)var l={start:o.selectionStart,end:o.selectionEnd};else e:{var u=(l=(l=o.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(u&&0!==u.rangeCount){l=u.anchorNode;var c=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{l.nodeType,d.nodeType}catch(O){l=null;break e}var f=0,h=-1,p=-1,m=0,g=0,y=o,_=null;t:for(;;){for(var v;y!==l||0!==c&&3!==y.nodeType||(h=f+c),y!==d||0!==u&&3!==y.nodeType||(p=f+u),3===y.nodeType&&(f+=y.nodeValue.length),null!==(v=y.firstChild);)_=y,y=v;for(;;){if(y===o)break t;if(_===l&&++m===c&&(h=f),_===d&&++g===u&&(p=f),null!==(v=y.nextSibling))break;_=(y=_).parentNode}y=v}l=-1===h||-1===p?null:{start:h,end:p}}else l=null}l=l||{start:0,end:0}}else l=null;_n={activeElementDetached:null,focusedElem:o,selectionRange:l},Yt=!1,Yo=a;do{try{Nl()}catch(O){if(null===Yo)throw Error(s(330));wl(Yo,O),Yo=Yo.nextEffect}}while(null!==Yo);Yo=a;do{try{for(o=e,l=t;null!==Yo;){var E=Yo.effectTag;if(16&E&&He(Yo.stateNode,""),128&E){var b=Yo.alternate;if(null!==b){var C=b.ref;null!==C&&("function"===typeof C?C(null):C.current=null)}}switch(1038&E){case 2:fo(Yo),Yo.effectTag&=-3;break;case 6:fo(Yo),Yo.effectTag&=-3,po(Yo.alternate,Yo);break;case 1024:Yo.effectTag&=-1025;break;case 1028:Yo.effectTag&=-1025,po(Yo.alternate,Yo);break;case 4:po(Yo.alternate,Yo);break;case 8:ho(o,c=Yo,l),uo(c)}Yo=Yo.nextEffect}}catch(O){if(null===Yo)throw Error(s(330));wl(Yo,O),Yo=Yo.nextEffect}}while(null!==Yo);if(C=_n,b=dn(),E=C.focusedElem,l=C.selectionRange,b!==E&&E&&E.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(E.ownerDocument.documentElement,E)){null!==l&&fn(E)&&(b=l.start,void 0===(C=l.end)&&(C=b),"selectionStart"in E?(E.selectionStart=b,E.selectionEnd=Math.min(C,E.value.length)):(C=(b=E.ownerDocument||document)&&b.defaultView||window).getSelection&&(C=C.getSelection(),c=E.textContent.length,o=Math.min(l.start,c),l=void 0===l.end?o:Math.min(l.end,c),!C.extend&&o>l&&(c=l,l=o,o=c),c=cn(E,o),d=cn(E,l),c&&d&&(1!==C.rangeCount||C.anchorNode!==c.node||C.anchorOffset!==c.offset||C.focusNode!==d.node||C.focusOffset!==d.offset)&&((b=b.createRange()).setStart(c.node,c.offset),C.removeAllRanges(),o>l?(C.addRange(b),C.extend(d.node,d.offset)):(b.setEnd(d.node,d.offset),C.addRange(b))))),b=[];for(C=E;C=C.parentNode;)1===C.nodeType&&b.push({element:C,left:C.scrollLeft,top:C.scrollTop});for("function"===typeof E.focus&&E.focus(),E=0;E<b.length;E++)(C=b[E]).element.scrollLeft=C.left,C.element.scrollTop=C.top}Yt=!!yn,_n=yn=null,e.current=n,Yo=a;do{try{for(E=e;null!==Yo;){var N=Yo.effectTag;if(36&N&&oo(E,Yo.alternate,Yo),128&N){b=void 0;var S=Yo.ref;if(null!==S){var T=Yo.stateNode;switch(Yo.tag){case 5:b=T;break;default:b=T}"function"===typeof S?S(b):S.current=b}}Yo=Yo.nextEffect}}catch(O){if(null===Yo)throw Error(s(330));wl(Yo,O),Yo=Yo.nextEffect}}while(null!==Yo);Yo=null,Da(),Po=i}else e.current=n;if(Jo)Jo=!1,$o=e,Xo=t;else for(Yo=a;null!==Yo;)t=Yo.nextEffect,Yo.nextEffect=null,Yo=t;if(0===(t=e.firstPendingTime)&&(Qo=null),1073741823===t?e===tl?el++:(el=0,tl=e):el=0,"function"===typeof Al&&Al(n.stateNode,r),ll(e),Ko)throw Ko=!1,e=Wo,Wo=null,e;return(Po&So)!==No?null:(Ka(),null)}.bind(null,e,t)),null}function Nl(){for(;null!==Yo;){var e=Yo.effectTag;0!==(256&e)&&ao(Yo.alternate,Yo),0===(512&e)||Jo||(Jo=!0,qa(97,function(){return Sl(),null})),Yo=Yo.nextEffect}}function Sl(){if(90!==Xo){var e=97<Xo?97:Xo;return Xo=90,Va(e,Tl)}}function Tl(){if(null===$o)return!1;var e=$o;if($o=null,(Po&(To|Oo))!==No)throw Error(s(331));var t=Po;for(Po|=Oo,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:io(5,n),so(5,n)}}catch(r){if(null===e)throw Error(s(330));wl(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return Po=t,Ka(),!0}function Ol(e,t,n){ci(e,t=yo(e,t=eo(n,t),1073741823)),null!==(e=sl(e,1073741823))&&ll(e)}function wl(e,t){if(3===e.tag)Ol(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Ol(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Qo||!Qo.has(r))){ci(n,e=_o(n,e=eo(t,e),1073741823)),null!==(n=sl(n,1073741823))&&ll(n);break}}n=n.return}}function kl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Uo===e&&Do===n?xo===Io||xo===Ro&&1073741823===jo&&Ga()-Vo<qo?fl(e,Do):zo=!0:Hl(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,ll(e)))}vo=function(e,t,n){var r=t.expirationTime;if(null!==e){var a=t.pendingProps;if(e.memoizedProps!==a||pa.current)Is=!0;else{if(r<n){switch(Is=!1,t.tag){case 3:Hs(t),As();break;case 5:if(Li(t),4&t.mode&&1!==n&&a.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:ya(t.type)&&ba(t);break;case 4:Pi(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,a=t.type._context,da($a,a._currentValue),a._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Ys(e,t,n):(da(xi,1&xi.current),null!==(t=Js(e,t,n))?t.sibling:null);da(xi,1&xi.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return Qs(e,t,n);t.effectTag|=64}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null),da(xi,xi.current),!r)return null}return Js(e,t,n)}Is=!1}}else Is=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,a=ga(t,ha.current),ai(t,n),a=Qi(null,t,r,e,a,n),t.effectTag|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,ya(r)){var i=!0;ba(t)}else i=!1;t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,oi(t);var o=r.getDerivedStateFromProps;"function"===typeof o&&gi(t,r,o,e),a.updater=yi,t.stateNode=a,a._reactInternalFiber=t,bi(t,r,e,n),t=js(null,t,r,!0,i,n)}else t.tag=0,Ms(null,t,a,n),t=t.child;return t;case 16:e:{if(a=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)})}}(a),1!==a._status)throw a._result;switch(a=a._result,t.type=a,i=t.tag=function(e){if("function"===typeof e)return Pl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===oe)return 11;if(e===ce)return 14}return 2}(a),e=Ja(a,e),i){case 0:t=xs(null,t,a,e,n);break e;case 1:t=Fs(null,t,a,e,n);break e;case 11:t=Ps(null,t,a,e,n);break e;case 14:t=Us(null,t,a,Ja(a.type,e),r,n);break e}throw Error(s(306,a,""))}return t;case 0:return r=t.type,a=t.pendingProps,xs(e,t,r,a=t.elementType===r?a:Ja(r,a),n);case 1:return r=t.type,a=t.pendingProps,Fs(e,t,r,a=t.elementType===r?a:Ja(r,a),n);case 3:if(Hs(t),r=t.updateQueue,null===e||null===r)throw Error(s(282));if(r=t.pendingProps,a=null!==(a=t.memoizedState)?a.element:null,li(e,t),fi(t,r,null,n),(r=t.memoizedState.element)===a)As(),t=Js(e,t,n);else{if((a=t.stateNode.hydrate)&&(Cs=Nn(t.stateNode.containerInfo.firstChild),bs=t,a=Ns=!0),a)for(n=wi(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Ms(e,t,r,n),As();t=t.child}return t;case 5:return Li(t),null===e&&Os(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,o=a.children,En(r,a)?o=null:null!==i&&En(r,i)&&(t.effectTag|=16),Ds(e,t),4&t.mode&&1!==n&&a.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Ms(e,t,o,n),t=t.child),t;case 6:return null===e&&Os(t),null;case 13:return Ys(e,t,n);case 4:return Pi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Oi(t,null,r,n):Ms(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,Ps(e,t,r,a=t.elementType===r?a:Ja(r,a),n);case 7:return Ms(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ms(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value;var l=t.type._context;if(da($a,l._currentValue),l._currentValue=i,null!==o)if(l=o.value,0===(i=jr(l,i)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,i):1073741823))){if(o.children===a.children&&!pa.current){t=Js(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){o=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&i)){1===l.tag&&((c=ui(n,null)).tag=2,ci(l,c)),l.expirationTime<n&&(l.expirationTime=n),null!==(c=l.alternate)&&c.expirationTime<n&&(c.expirationTime=n),ri(l.return,n),u.expirationTime<n&&(u.expirationTime=n);break}c=c.next}}else o=10===l.tag&&l.type===t.type?null:l.child;if(null!==o)o.return=l;else for(o=l;null!==o;){if(o===t){o=null;break}if(null!==(l=o.sibling)){l.return=o.return,o=l;break}o=o.return}l=o}Ms(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=(i=t.pendingProps).children,ai(t,n),r=r(a=ii(a,i.unstable_observedBits)),t.effectTag|=1,Ms(e,t,r,n),t.child;case 14:return i=Ja(a=t.type,t.pendingProps),Us(e,t,a,i=Ja(a.type,i),r,n);case 15:return Ls(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ja(r,a),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,ya(r)?(e=!0,ba(t)):e=!1,ai(t,n),vi(t,r,a),bi(t,r,a,n),js(null,t,r,!0,e,n);case 19:return Qs(e,t,n)}throw Error(s(156,t.tag))};var Al=null,Rl=null;function Il(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Ml(e,t,n,r){return new Il(e,t,n,r)}function Pl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ul(e,t){var n=e.alternate;return null===n?((n=Ml(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ll(e,t,n,r,a,i){var o=2;if(r=e,"function"===typeof e)Pl(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case te:return Dl(n.children,a,i,t);case se:o=8,a|=7;break;case ne:o=8,a|=1;break;case re:return(e=Ml(12,n,t,8|a)).elementType=re,e.type=re,e.expirationTime=i,e;case le:return(e=Ml(13,n,t,a)).type=le,e.elementType=le,e.expirationTime=i,e;case ue:return(e=Ml(19,n,t,a)).elementType=ue,e.expirationTime=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case ae:o=10;break e;case ie:o=9;break e;case oe:o=11;break e;case ce:o=14;break e;case de:o=16,r=null;break e;case fe:o=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Ml(o,n,t,a)).elementType=e,t.type=r,t.expirationTime=i,t}function Dl(e,t,n,r){return(e=Ml(7,e,r,t)).expirationTime=n,e}function xl(e,t,n){return(e=Ml(6,e,null,t)).expirationTime=n,e}function Fl(e,t,n){return(t=Ml(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jl(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Hl(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Gl(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Bl(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function zl(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Vl(e,t,n,r){var a=t.current,i=rl(),o=pi.suspense;i=al(i,a,o);e:if(n){t:{if(Ze(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(s(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(ya(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(s(171))}if(1===n.tag){var u=n.type;if(ya(u)){n=Ea(n,u,l);break e}}n=l}else n=fa;return null===t.context?t.context=n:t.pendingContext=n,(t=ui(i,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ci(a,t),il(a,i),i}function ql(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Yl(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Kl(e,t){Yl(e,t),(e=e.alternate)&&Yl(e,t)}function Wl(e,t,n){var r=new jl(e,t,n=null!=n&&!0===n.hydrate),a=Ml(3,null,null,2===t?7:1===t?3:0);r.current=a,a.stateNode=r,oi(a),e[kn]=r.current,n&&0!==t&&function(e,t){var n=Xe(t);Ot.forEach(function(e){pt(e,t,n)}),wt.forEach(function(e){pt(e,t,n)})}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Ql(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jl(e,t,n,r,a){var i=n._reactRootContainer;if(i){var s=i._internalRoot;if("function"===typeof a){var o=a;a=function(){var e=ql(s);o.call(e)}}Vl(t,s,e,a)}else{if(i=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Wl(e,0,t?{hydrate:!0}:void 0)}(n,r),s=i._internalRoot,"function"===typeof a){var l=a;a=function(){var e=ql(s);l.call(e)}}dl(function(){Vl(t,s,e,a)})}return ql(s)}function $l(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ql(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ee,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Wl.prototype.render=function(e){Vl(e,this._internalRoot,null,null)},Wl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Vl(null,e,null,function(){t[kn]=null})},mt=function(e){if(13===e.tag){var t=Qa(rl(),150,100);il(e,t),Kl(e,t)}},gt=function(e){13===e.tag&&(il(e,3),Kl(e,3))},yt=function(e){if(13===e.tag){var t=rl();il(e,t=al(t,e,null)),Kl(e,t)}},w=function(e,t,n){switch(t){case"input":if(Se(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=Mn(r);if(!a)throw Error(s(90));Ee(r),Se(r,a)}}}break;case"textarea":Ie(e,n);break;case"select":null!=(t=n.value)&&ke(e,!!n.multiple,t,!1)}},P=cl,U=function(e,t,n,r,a){var i=Po;Po|=4;try{return Va(98,e.bind(null,t,n,r,a))}finally{(Po=i)===No&&Ka()}},L=function(){(Po&(1|To|Oo))===No&&(function(){if(null!==Zo){var e=Zo;Zo=null,e.forEach(function(e,t){zl(t,e),ll(t)}),Ka()}}(),Sl())},D=function(e,t){var n=Po;Po|=2;try{return e(t)}finally{(Po=n)===No&&Ka()}};var Xl={Events:[Rn,In,Mn,T,C,jn,function(e){at(e,Fn)},I,M,Qt,ot,Sl,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Al=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},Rl=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(a({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:An,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xl,t.createPortal=$l,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},t.flushSync=function(e,t){if((Po&(To|Oo))!==No)throw Error(s(187));var n=Po;Po|=1;try{return Va(99,e.bind(null,t))}finally{Po=n,Ka()}},t.hydrate=function(e,t,n){if(!Ql(t))throw Error(s(200));return Jl(null,e,t,!0,n)},t.render=function(e,t,n){if(!Ql(t))throw Error(s(200));return Jl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ql(e))throw Error(s(40));return!!e._reactRootContainer&&(dl(function(){Jl(null,null,e,!1,function(){e._reactRootContainer=null,e[kn]=null})}),!0)},t.unstable_batchedUpdates=cl,t.unstable_createPortal=function(e,t){return $l(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ql(n))throw Error(s(200));if(null==e||void 0===e._reactInternalFiber)throw Error(s(38));return Jl(e,t,n,!1,r)},t.version="16.14.0"},function(e,t,n){"use strict";e.exports=n(88)},function(e,t,n){"use strict";var r,a,i,s,o;if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,u=null,c=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(e,0),r}},d=Date.now();t.unstable_now=function(){return Date.now()-d},r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(c,0))},a=function(e,t){u=setTimeout(e,t)},i=function(){clearTimeout(u)},s=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.performance,h=window.Date,p=window.setTimeout,m=window.clearTimeout;if("undefined"!==typeof console){var g=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof f&&"function"===typeof f.now)t.unstable_now=function(){return f.now()};else{var y=h.now();t.unstable_now=function(){return h.now()-y}}var _=!1,v=null,E=-1,b=5,C=0;s=function(){return t.unstable_now()>=C},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):b=0<e?Math.floor(1e3/e):5};var N=new MessageChannel,S=N.port2;N.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();C=e+b;try{v(!0,e)?S.postMessage(null):(_=!1,v=null)}catch(n){throw S.postMessage(null),n}}else _=!1},r=function(e){v=e,_||(_=!0,S.postMessage(null))},a=function(e,n){E=p(function(){e(t.unstable_now())},n)},i=function(){m(E),E=-1}}function T(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,a=e[r];if(!(void 0!==a&&0<k(a,t)))break e;e[r]=t,e[n]=a,n=r}}function O(e){return void 0===(e=e[0])?null:e}function w(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length;r<a;){var i=2*(r+1)-1,s=e[i],o=i+1,l=e[o];if(void 0!==s&&0>k(s,n))void 0!==l&&0>k(l,s)?(e[r]=l,e[o]=n,r=o):(e[r]=s,e[i]=n,r=i);else{if(!(void 0!==l&&0>k(l,n)))break e;e[r]=l,e[o]=n,r=o}}}return t}return null}function k(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var A=[],R=[],I=1,M=null,P=3,U=!1,L=!1,D=!1;function x(e){for(var t=O(R);null!==t;){if(null===t.callback)w(R);else{if(!(t.startTime<=e))break;w(R),t.sortIndex=t.expirationTime,T(A,t)}t=O(R)}}function F(e){if(D=!1,x(e),!L)if(null!==O(A))L=!0,r(j);else{var t=O(R);null!==t&&a(F,t.startTime-e)}}function j(e,n){L=!1,D&&(D=!1,i()),U=!0;var r=P;try{for(x(n),M=O(A);null!==M&&(!(M.expirationTime>n)||e&&!s());){var o=M.callback;if(null!==o){M.callback=null,P=M.priorityLevel;var l=o(M.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?M.callback=l:M===O(A)&&w(A),x(n)}else w(A);M=O(A)}if(null!==M)var u=!0;else{var c=O(R);null!==c&&a(F,c.startTime-n),u=!1}return u}finally{M=null,P=r,U=!1}}function H(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var G=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){L||U||(L=!0,r(j))},t.unstable_getCurrentPriorityLevel=function(){return P},t.unstable_getFirstCallbackNode=function(){return O(A)},t.unstable_next=function(e){switch(P){case 1:case 2:case 3:var t=3;break;default:t=P}var n=P;P=t;try{return e()}finally{P=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=G,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=P;P=e;try{return t()}finally{P=n}},t.unstable_scheduleCallback=function(e,n,s){var o=t.unstable_now();if("object"===typeof s&&null!==s){var l=s.delay;l="number"===typeof l&&0<l?o+l:o,s="number"===typeof s.timeout?s.timeout:H(e)}else s=H(e),l=o;return e={id:I++,callback:n,priorityLevel:e,startTime:l,expirationTime:s=l+s,sortIndex:-1},l>o?(e.sortIndex=l,T(R,e),null===O(A)&&e===O(R)&&(D?i():D=!0,a(F,l-o))):(e.sortIndex=s,T(A,e),L||U||(L=!0,r(j))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();x(e);var n=O(A);return n!==M&&null!==M&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<M.expirationTime||s()},t.unstable_wrapCallback=function(e){var t=P;return function(){var n=P;P=t;try{return e.apply(this,arguments)}finally{P=n}}}},function(e,t,n){"use strict";var r=n(90);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,s){if(s!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){},function(e,t,n){"use strict";e.exports=n(93)},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,a=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,o=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,_=r?Symbol.for("react.block"):60121,v=r?Symbol.for("react.fundamental"):60117,E=r?Symbol.for("react.responder"):60118,b=r?Symbol.for("react.scope"):60119;function C(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case a:switch(e=e.type){case d:case f:case s:case l:case o:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case g:case u:return e;default:return t}}case i:return t}}}function N(e){return C(e)===f}t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=a,t.ForwardRef=h,t.Fragment=s,t.Lazy=y,t.Memo=g,t.Portal=i,t.Profiler=l,t.StrictMode=o,t.Suspense=p,t.isAsyncMode=function(e){return N(e)||C(e)===d},t.isConcurrentMode=N,t.isContextConsumer=function(e){return C(e)===c},t.isContextProvider=function(e){return C(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===a},t.isForwardRef=function(e){return C(e)===h},t.isFragment=function(e){return C(e)===s},t.isLazy=function(e){return C(e)===y},t.isMemo=function(e){return C(e)===g},t.isPortal=function(e){return C(e)===i},t.isProfiler=function(e){return C(e)===l},t.isStrictMode=function(e){return C(e)===o},t.isSuspense=function(e){return C(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===s||e===f||e===l||e===o||e===p||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===g||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===v||e.$$typeof===E||e.$$typeof===b||e.$$typeof===_)},t.typeOf=C},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(3),a=n(25);function i(e){return e&&"object"===Object(a.a)(e)&&e.constructor===Object}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},a=n.clone?Object(r.a)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach(function(r){"__proto__"!==r&&(i(t[r])&&r in e?a[r]=s(e[r],t[r],n):a[r]=t[r])}),a}},function(e,t,n){"use strict";function r(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var a,i=t.props[n];for(a in i)void 0===r[a]&&(r[a]=i[a]);return r}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=n(3),a=n(4),i=n(2),s=n(5),o=n(6),l=n(49),u=i.forwardRef(function(e,t){var n=e.children,o=e.classes,u=e.className,c=e.disableTypography,d=void 0!==c&&c,f=Object(a.a)(e,["children","classes","className","disableTypography"]);return i.createElement("div",Object(r.a)({className:Object(s.a)(o.root,u),ref:t},f),d?n:i.createElement(l.a,{component:"h2",variant:"h6"},n))});t.a=Object(o.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(u)},function(e,t,n){"use strict";var r=n(3),a=n(4),i=n(2),s=n(5),o=n(6),l=i.forwardRef(function(e,t){var n=e.classes,o=e.className,l=e.dividers,u=void 0!==l&&l,c=Object(a.a)(e,["classes","className","dividers"]);return i.createElement("div",Object(r.a)({className:Object(s.a)(n.root,o,u&&n.dividers),ref:t},c))});t.a=Object(o.a)(function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}},{name:"MuiDialogContent"})(l)},function(e,t,n){"use strict";var r=n(3),a=n(2),i=n(6),s=n(49),o=a.forwardRef(function(e,t){return a.createElement(s.a,Object(r.a)({component:"p",variant:"body1",color:"textSecondary",ref:t},e))});t.a=Object(i.a)({root:{marginBottom:12}},{name:"MuiDialogContentText"})(o)},function(e,t,n){"use strict";var r=n(3),a=n(4),i=n(2),s=n(5),o=n(6),l=i.forwardRef(function(e,t){var n=e.disableSpacing,o=void 0!==n&&n,l=e.classes,u=e.className,c=Object(a.a)(e,["disableSpacing","classes","className"]);return i.createElement("div",Object(r.a)({className:Object(s.a)(l.root,u,!o&&l.spacing),ref:t},c))});t.a=Object(o.a)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(l)},function(e,t,n){"use strict";var r=n(3),a=n(4),i=n(15),s=n(2),o=n.n(s),l=n(5),u=n(6),c=n(9),d=n(7),f=n.n(d),h=n(126),p=n(119);function m(e){return e&&e.ownerDocument||document}var g=n(21),y=n(11);var _="undefined"!==typeof window?s.useLayoutEffect:s.useEffect;var v=s.forwardRef(function(e,t){var n=e.children,r=e.container,a=e.disablePortal,i=void 0!==a&&a,o=e.onRendered,l=s.useState(null),u=l[0],c=l[1],f=Object(y.a)(s.isValidElement(n)?n.ref:null,t);return _(function(){i||c(function(e){return e="function"===typeof e?e():e,d.findDOMNode(e)}(r)||document.body)},[r,i]),_(function(){if(u&&!i)return Object(g.a)(t,u),function(){Object(g.a)(t,null)}},[t,u,i]),_(function(){o&&(u||i)&&o()},[o,u,i]),i?s.isValidElement(n)?s.cloneElement(n,{ref:f}):n:u?d.createPortal(n,u):u});function E(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];e.apply(this,r),t.apply(this,r)}},function(){})}var b=n(16),C=n(31);var N=n(23),S=n(18);function T(e){var t,n=m(e);return n.body===e?(t=n,m(t).defaultView||window).innerWidth>n.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function O(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function w(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function k(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4?arguments[4]:void 0,i=[t,n].concat(Object(S.a)(r)),s=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,function(e){1===e.nodeType&&-1===i.indexOf(e)&&-1===s.indexOf(e.tagName)&&O(e,a)})}function A(e,t){var n=-1;return e.some(function(e,r){return!!t(e)&&(n=r,!0)}),n}function R(e,t){var n,r=[],a=[],i=e.container;if(!t.disableScrollLock){if(T(i)){var s=function(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}();r.push({value:i.style.paddingRight,key:"padding-right",el:i}),i.style["padding-right"]="".concat(w(i)+s,"px"),n=m(i).querySelectorAll(".mui-fixed"),[].forEach.call(n,function(e){a.push(e.style.paddingRight),e.style.paddingRight="".concat(w(e)+s,"px")})}var o=i.parentElement,l="HTML"===o.nodeName&&"scroll"===window.getComputedStyle(o)["overflow-y"]?o:i;r.push({value:l.style.overflow,key:"overflow",el:l}),l.style.overflow="hidden"}return function(){n&&[].forEach.call(n,function(e,t){a[t]?e.style.paddingRight=a[t]:e.style.removeProperty("padding-right")}),r.forEach(function(e){var t=e.value,n=e.el,r=e.key;t?n.style.setProperty(r,t):n.style.removeProperty(r)})}}var I=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modals=[],this.containers=[]}return Object(N.a)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&O(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)}),t}(t);k(t,e.mountNode,e.modalRef,r,!0);var a=A(this.containers,function(e){return e.container===t});return-1!==a?(this.containers[a].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:r}),n)}},{key:"mount",value:function(e,t){var n=A(this.containers,function(t){return-1!==t.modals.indexOf(e)}),r=this.containers[n];r.restore||(r.restore=R(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=A(this.containers,function(t){return-1!==t.modals.indexOf(e)}),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&O(e.modalRef,!0),k(r.container,e.mountNode,e.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var a=r.modals[r.modals.length-1];a.modalRef&&O(a.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}();var M=function(e){var t=e.children,n=e.disableAutoFocus,r=void 0!==n&&n,a=e.disableEnforceFocus,i=void 0!==a&&a,o=e.disableRestoreFocus,l=void 0!==o&&o,u=e.getDoc,c=e.isEnabled,f=e.open,h=s.useRef(),p=s.useRef(null),g=s.useRef(null),_=s.useRef(),v=s.useRef(null),E=s.useCallback(function(e){v.current=d.findDOMNode(e)},[]),b=Object(y.a)(t.ref,E),C=s.useRef();return s.useEffect(function(){C.current=f},[f]),!C.current&&f&&"undefined"!==typeof window&&(_.current=u().activeElement),s.useEffect(function(){if(f){var e=m(v.current);r||!v.current||v.current.contains(e.activeElement)||(v.current.hasAttribute("tabIndex")||v.current.setAttribute("tabIndex",-1),v.current.focus());var t=function(){e.hasFocus()&&!i&&c()&&!h.current?v.current&&!v.current.contains(e.activeElement)&&v.current.focus():h.current=!1},n=function(t){!i&&c()&&9===t.keyCode&&e.activeElement===v.current&&(h.current=!0,t.shiftKey?g.current.focus():p.current.focus())};e.addEventListener("focus",t,!0),e.addEventListener("keydown",n,!0);var a=setInterval(function(){t()},50);return function(){clearInterval(a),e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",n,!0),l||(_.current&&_.current.focus&&_.current.focus(),_.current=null)}}},[r,i,l,c,f]),s.createElement(s.Fragment,null,s.createElement("div",{tabIndex:0,ref:p,"data-test":"sentinelStart"}),s.cloneElement(t,{ref:b}),s.createElement("div",{tabIndex:0,ref:g,"data-test":"sentinelEnd"}))},P={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},U=s.forwardRef(function(e,t){var n=e.invisible,i=void 0!==n&&n,o=e.open,l=Object(a.a)(e,["invisible","open"]);return o?s.createElement("div",Object(r.a)({"aria-hidden":!0,ref:t},l,{style:Object(r.a)({},P.root,i?P.invisible:{},l.style)})):null});var L=new I,D=s.forwardRef(function(e,t){var n=Object(h.a)(),i=Object(p.a)({name:"MuiModal",props:Object(r.a)({},e),theme:n}),o=i.BackdropComponent,l=void 0===o?U:o,u=i.BackdropProps,c=i.children,f=i.closeAfterTransition,g=void 0!==f&&f,_=i.container,N=i.disableAutoFocus,S=void 0!==N&&N,T=i.disableBackdropClick,w=void 0!==T&&T,k=i.disableEnforceFocus,A=void 0!==k&&k,R=i.disableEscapeKeyDown,I=void 0!==R&&R,P=i.disablePortal,D=void 0!==P&&P,x=i.disableRestoreFocus,F=void 0!==x&&x,j=i.disableScrollLock,H=void 0!==j&&j,G=i.hideBackdrop,B=void 0!==G&&G,z=i.keepMounted,V=void 0!==z&&z,q=i.manager,Y=void 0===q?L:q,K=i.onBackdropClick,W=i.onClose,Q=i.onEscapeKeyDown,J=i.onRendered,$=i.open,X=Object(a.a)(i,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),Z=s.useState(!0),ee=Z[0],te=Z[1],ne=s.useRef({}),re=s.useRef(null),ae=s.useRef(null),ie=Object(y.a)(ae,t),se=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(i),oe=function(){return m(re.current)},le=function(){return ne.current.modalRef=ae.current,ne.current.mountNode=re.current,ne.current},ue=function(){Y.mount(le(),{disableScrollLock:H}),ae.current.scrollTop=0},ce=Object(b.a)(function(){var e=function(e){return e="function"===typeof e?e():e,d.findDOMNode(e)}(_)||oe().body;Y.add(le(),e),ae.current&&ue()}),de=s.useCallback(function(){return Y.isTopModal(le())},[Y]),fe=Object(b.a)(function(e){re.current=e,e&&(J&&J(),$&&de()?ue():O(ae.current,!0))}),he=s.useCallback(function(){Y.remove(le())},[Y]);if(s.useEffect(function(){return function(){he()}},[he]),s.useEffect(function(){$?ce():se&&g||he()},[$,he,se,g,ce]),!V&&!$&&(!se||ee))return null;var pe=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(n||{zIndex:C.a}),me={};return void 0===c.props.tabIndex&&(me.tabIndex=c.props.tabIndex||"-1"),se&&(me.onEnter=E(function(){te(!1)},c.props.onEnter),me.onExited=E(function(){te(!0),g&&he()},c.props.onExited)),s.createElement(v,{ref:fe,container:_,disablePortal:D},s.createElement("div",Object(r.a)({ref:ie,onKeyDown:function(e){"Escape"===e.key&&de()&&(Q&&Q(e),I||(e.stopPropagation(),W&&W(e,"escapeKeyDown")))},role:"presentation"},X,{style:Object(r.a)({},pe.root,!$&&ee?pe.hidden:{},X.style)}),B?null:s.createElement(l,Object(r.a)({open:$,onClick:function(e){e.target===e.currentTarget&&(K&&K(e),!w&&W&&W(e,"backdropClick"))}},u)),s.createElement(M,{disableEnforceFocus:A,disableAutoFocus:S,disableRestoreFocus:F,getDoc:oe,isEnabled:de,open:$},s.cloneElement(c,me))))}),x=n(33),F=n(17),j=n(20),H=!1,G=n(22),B="unmounted",z="exited",V="entering",q="entered",Y=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var a,i=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?i?(a=z,r.appearStatus=V):a=q:a=t.unmountOnExit||t.mountOnEnter?B:z,r.state={status:a},r.nextCallback=null,r}Object(j.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===B?{status:z}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==V&&n!==q&&(t=V):n!==V&&n!==q||(t="exiting")}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===V?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===z&&this.setState({status:B})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,a=this.props.nodeRef?[r]:[f.a.findDOMNode(this),r],i=a[0],s=a[1],o=this.getTimeouts(),l=r?o.appear:o.enter;!e&&!n||H?this.safeSetState({status:q},function(){t.props.onEntered(i)}):(this.props.onEnter(i,s),this.safeSetState({status:V},function(){t.props.onEntering(i,s),t.onTransitionEnd(l,function(){t.safeSetState({status:q},function(){t.props.onEntered(i,s)})})}))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:f.a.findDOMNode(this);t&&!H?(this.props.onExit(r),this.safeSetState({status:"exiting"},function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:z},function(){e.props.onExited(r)})})})):this.safeSetState({status:z},function(){e.props.onExited(r)})},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:f.a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=a[0],s=a[1];this.props.addEndListener(i,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===B)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Object(F.a)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return o.a.createElement(G.a.Provider,{value:null},"function"===typeof n?n(e,r):o.a.cloneElement(o.a.Children.only(n),r))},t}(o.a.Component);function K(){}Y.contextType=G.a,Y.propTypes={},Y.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:K,onEntering:K,onEntered:K,onExit:K,onExiting:K,onExited:K},Y.UNMOUNTED=B,Y.EXITED=z,Y.ENTERING=V,Y.ENTERED=q,Y.EXITING="exiting";var W=Y,Q=n(19),J=n(32);function $(e,t){var n=e.timeout,r=e.style,a=void 0===r?{}:r;return{duration:a.transitionDuration||"number"===typeof n?n:n[t.mode]||0,delay:a.transitionDelay}}var X={entering:{opacity:1},entered:{opacity:1}},Z={enter:Q.b.enteringScreen,exit:Q.b.leavingScreen},ee=s.forwardRef(function(e,t){var n=e.children,i=e.disableStrictModeCompat,o=void 0!==i&&i,l=e.in,u=e.onEnter,c=e.onEntered,d=e.onEntering,f=e.onExit,p=e.onExited,m=e.onExiting,g=e.style,_=e.TransitionComponent,v=void 0===_?W:_,E=e.timeout,b=void 0===E?Z:E,C=Object(a.a)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),N=Object(h.a)()||J.a,S=N.unstable_strictMode&&!o,T=s.useRef(null),O=Object(y.a)(n.ref,t),w=Object(y.a)(S?T:void 0,O),k=function(e){return function(t,n){if(e){var r=S?[T.current,t]:[t,n],a=Object(x.a)(r,2),i=a[0],s=a[1];void 0===s?e(i):e(i,s)}}},A=k(d),R=k(function(e,t){!function(e){e.scrollTop}(e);var n=$({style:g,timeout:b},{mode:"enter"});e.style.webkitTransition=N.transitions.create("opacity",n),e.style.transition=N.transitions.create("opacity",n),u&&u(e,t)}),I=k(c),M=k(m),P=k(function(e){var t=$({style:g,timeout:b},{mode:"exit"});e.style.webkitTransition=N.transitions.create("opacity",t),e.style.transition=N.transitions.create("opacity",t),f&&f(e)}),U=k(p);return s.createElement(v,Object(r.a)({appear:!0,in:l,nodeRef:S?T:void 0,onEnter:R,onEntered:I,onEntering:A,onExit:P,onExited:U,onExiting:M,timeout:b},C),function(e,t){return s.cloneElement(n,Object(r.a)({style:Object(r.a)({opacity:0,visibility:"exited"!==e||l?void 0:"hidden"},X[e],g,n.props.style),ref:w},t))})}),te=s.forwardRef(function(e,t){var n=e.children,i=e.classes,o=e.className,u=e.invisible,c=void 0!==u&&u,d=e.open,f=e.transitionDuration,h=e.TransitionComponent,p=void 0===h?ee:h,m=Object(a.a)(e,["children","classes","className","invisible","open","transitionDuration","TransitionComponent"]);return s.createElement(p,Object(r.a)({in:d,timeout:f},m),s.createElement("div",{className:Object(l.a)(i.root,o,c&&i.invisible),"aria-hidden":!0,ref:t},n))}),ne=Object(u.a)({root:{zIndex:-1,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},{name:"MuiBackdrop"})(te),re=s.forwardRef(function(e,t){var n=e.classes,i=e.className,o=e.component,u=void 0===o?"div":o,c=e.square,d=void 0!==c&&c,f=e.elevation,h=void 0===f?1:f,p=e.variant,m=void 0===p?"elevation":p,g=Object(a.a)(e,["classes","className","component","square","elevation","variant"]);return s.createElement(u,Object(r.a)({className:Object(l.a)(n.root,i,"outlined"===m?n.outlined:n["elevation".concat(h)],!d&&n.rounded),ref:t},g))}),ae=Object(u.a)(function(e){var t={};return e.shadows.forEach(function(e,n){t["elevation".concat(n)]={boxShadow:e}}),Object(r.a)({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},t)},{name:"MuiPaper"})(re),ie={enter:Q.b.enteringScreen,exit:Q.b.leavingScreen},se=s.forwardRef(function(e,t){var n=e.BackdropProps,i=e.children,o=e.classes,u=e.className,d=e.disableBackdropClick,f=void 0!==d&&d,h=e.disableEscapeKeyDown,p=void 0!==h&&h,m=e.fullScreen,g=void 0!==m&&m,y=e.fullWidth,_=void 0!==y&&y,v=e.maxWidth,E=void 0===v?"sm":v,b=e.onBackdropClick,C=e.onClose,N=e.onEnter,S=e.onEntered,T=e.onEntering,O=e.onEscapeKeyDown,w=e.onExit,k=e.onExited,A=e.onExiting,R=e.open,I=e.PaperComponent,M=void 0===I?ae:I,P=e.PaperProps,U=void 0===P?{}:P,L=e.scroll,x=void 0===L?"paper":L,F=e.TransitionComponent,j=void 0===F?ee:F,H=e.transitionDuration,G=void 0===H?ie:H,B=e.TransitionProps,z=e["aria-describedby"],V=e["aria-labelledby"],q=Object(a.a)(e,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps","aria-describedby","aria-labelledby"]),Y=s.useRef();return s.createElement(D,Object(r.a)({className:Object(l.a)(o.root,u),BackdropComponent:ne,BackdropProps:Object(r.a)({transitionDuration:G},n),closeAfterTransition:!0,disableBackdropClick:f,disableEscapeKeyDown:p,onEscapeKeyDown:O,onClose:C,open:R,ref:t},q),s.createElement(j,Object(r.a)({appear:!0,in:R,timeout:G,onEnter:N,onEntering:T,onEntered:S,onExit:w,onExiting:A,onExited:k,role:"none presentation"},B),s.createElement("div",{className:Object(l.a)(o.container,o["scroll".concat(Object(c.a)(x))]),onMouseUp:function(e){e.target===e.currentTarget&&e.target===Y.current&&(Y.current=null,b&&b(e),!f&&C&&C(e,"backdropClick"))},onMouseDown:function(e){Y.current=e.target}},s.createElement(M,Object(r.a)({elevation:24,role:"dialog","aria-describedby":z,"aria-labelledby":V},U,{className:Object(l.a)(o.paper,o["paperScroll".concat(Object(c.a)(x))],o["paperWidth".concat(Object(c.a)(String(E)))],U.className,g&&o.paperFullScreen,_&&o.paperFullWidth)}),i))))});t.a=Object(u.a)(function(e){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:0},paper:{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 64px)"},paperWidthXs:{maxWidth:Math.max(e.breakpoints.values.xs,444),"&$paperScrollBody":Object(i.a)({},e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})},paperWidthSm:{maxWidth:e.breakpoints.values.sm,"&$paperScrollBody":Object(i.a)({},e.breakpoints.down(e.breakpoints.values.sm+64),{maxWidth:"calc(100% - 64px)"})},paperWidthMd:{maxWidth:e.breakpoints.values.md,"&$paperScrollBody":Object(i.a)({},e.breakpoints.down(e.breakpoints.values.md+64),{maxWidth:"calc(100% - 64px)"})},paperWidthLg:{maxWidth:e.breakpoints.values.lg,"&$paperScrollBody":Object(i.a)({},e.breakpoints.down(e.breakpoints.values.lg+64),{maxWidth:"calc(100% - 64px)"})},paperWidthXl:{maxWidth:e.breakpoints.values.xl,"&$paperScrollBody":Object(i.a)({},e.breakpoints.down(e.breakpoints.values.xl+64),{maxWidth:"calc(100% - 64px)"})},paperFullWidth:{width:"calc(100% - 64px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}},{name:"MuiDialog"})(se)},function(e,t,n){"use strict";var r=n(4),a=n(3),i=n(2),s=n.n(i),o=n(5),l=n(6),u=n(12),c=n(7),d=n(11),f=n(16),h=!0,p=!1,m=null,g={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function y(e){e.metaKey||e.altKey||e.ctrlKey||(h=!0)}function _(){h=!1}function v(){"hidden"===this.visibilityState&&p&&(h=!0)}function E(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return h||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!g[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function b(){p=!0,window.clearTimeout(m),m=window.setTimeout(function(){p=!1},100)}function C(){return{isFocusVisible:E,onBlurVisible:b,ref:i.useCallback(function(e){var t,n=c.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",y,!0),t.addEventListener("mousedown",_,!0),t.addEventListener("pointerdown",_,!0),t.addEventListener("touchstart",_,!0),t.addEventListener("visibilitychange",v,!0))},[])}}var N=n(18),S=n(17),T=n(27),O=n(20),w=n(22);function k(e,t){var n=Object.create(null);return e&&i.Children.map(e,function(e){return e}).forEach(function(e){n[e.key]=function(e){return t&&Object(i.isValidElement)(e)?t(e):e}(e)}),n}function A(e,t,n){return null!=n[t]?n[t]:e.props[t]}function R(e,t,n){var r=k(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,a=Object.create(null),i=[];for(var s in e)s in t?i.length&&(a[s]=i,i=[]):i.push(s);var o={};for(var l in t){if(a[l])for(r=0;r<a[l].length;r++){var u=a[l][r];o[a[l][r]]=n(u)}o[l]=n(l)}for(r=0;r<i.length;r++)o[i[r]]=n(i[r]);return o}(t,r);return Object.keys(a).forEach(function(s){var o=a[s];if(Object(i.isValidElement)(o)){var l=s in t,u=s in r,c=t[s],d=Object(i.isValidElement)(c)&&!c.props.in;!u||l&&!d?u||!l||d?u&&l&&Object(i.isValidElement)(c)&&(a[s]=Object(i.cloneElement)(o,{onExited:n.bind(null,o),in:c.props.in,exit:A(o,"exit",e),enter:A(o,"enter",e)})):a[s]=Object(i.cloneElement)(o,{in:!1}):a[s]=Object(i.cloneElement)(o,{onExited:n.bind(null,o),in:!0,exit:A(o,"exit",e),enter:A(o,"enter",e)})}}),a}var I=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},M=function(e){function t(t,n){var r,a=(r=e.call(this,t,n)||this).handleExited.bind(Object(T.a)(r));return r.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},r}Object(O.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,a=t.children,s=t.handleExited;return{children:t.firstRender?(n=e,r=s,k(n.children,function(e){return Object(i.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:A(e,"appear",n),enter:A(e,"enter",n),exit:A(e,"exit",n)})})):R(e,a,s),firstRender:!1}},n.handleExited=function(e,t){var n=k(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState(function(t){var n=Object(a.a)({},t.children);return delete n[e.key],{children:n}}))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=Object(S.a)(e,["component","childFactory"]),a=this.state.contextValue,i=I(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?s.a.createElement(w.a.Provider,{value:a},i):s.a.createElement(w.a.Provider,{value:a},s.a.createElement(t,r,i))},t}(s.a.Component);M.propTypes={},M.defaultProps={component:"div",childFactory:function(e){return e}};var P=M,U="undefined"===typeof window?i.useEffect:i.useLayoutEffect;var L=function(e){var t=e.classes,n=e.pulsate,r=void 0!==n&&n,a=e.rippleX,s=e.rippleY,l=e.rippleSize,u=e.in,c=e.onExited,d=void 0===c?function(){}:c,h=e.timeout,p=i.useState(!1),m=p[0],g=p[1],y=Object(o.a)(t.ripple,t.rippleVisible,r&&t.ripplePulsate),_={width:l,height:l,top:-l/2+s,left:-l/2+a},v=Object(o.a)(t.child,m&&t.childLeaving,r&&t.childPulsate),E=Object(f.a)(d);return U(function(){if(!u){g(!0);var e=setTimeout(E,h);return function(){clearTimeout(e)}}},[E,u,h]),i.createElement("span",{className:y,style:_},i.createElement("span",{className:v}))},D=i.forwardRef(function(e,t){var n=e.center,s=void 0!==n&&n,l=e.classes,u=e.className,c=Object(r.a)(e,["center","classes","className"]),d=i.useState([]),f=d[0],h=d[1],p=i.useRef(0),m=i.useRef(null);i.useEffect(function(){m.current&&(m.current(),m.current=null)},[f]);var g=i.useRef(!1),y=i.useRef(null),_=i.useRef(null),v=i.useRef(null);i.useEffect(function(){return function(){clearTimeout(y.current)}},[]);var E=i.useCallback(function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,a=e.rippleSize,s=e.cb;h(function(e){return[].concat(Object(N.a)(e),[i.createElement(L,{key:p.current,classes:l,timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:a})])}),p.current+=1,m.current=s},[l]),b=i.useCallback(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,a=void 0!==r&&r,i=t.center,o=void 0===i?s||t.pulsate:i,l=t.fakeElement,u=void 0!==l&&l;if("mousedown"===e.type&&g.current)g.current=!1;else{"touchstart"===e.type&&(g.current=!0);var c,d,f,h=u?null:v.current,p=h?h.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(o||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(p.width/2),d=Math.round(p.height/2);else{var m=e.touches?e.touches[0]:e,b=m.clientX,C=m.clientY;c=Math.round(b-p.left),d=Math.round(C-p.top)}if(o)(f=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(f+=1);else{var N=2*Math.max(Math.abs((h?h.clientWidth:0)-c),c)+2,S=2*Math.max(Math.abs((h?h.clientHeight:0)-d),d)+2;f=Math.sqrt(Math.pow(N,2)+Math.pow(S,2))}e.touches?null===_.current&&(_.current=function(){E({pulsate:a,rippleX:c,rippleY:d,rippleSize:f,cb:n})},y.current=setTimeout(function(){_.current&&(_.current(),_.current=null)},80)):E({pulsate:a,rippleX:c,rippleY:d,rippleSize:f,cb:n})}},[s,E]),C=i.useCallback(function(){b({},{pulsate:!0})},[b]),S=i.useCallback(function(e,t){if(clearTimeout(y.current),"touchend"===e.type&&_.current)return e.persist(),_.current(),_.current=null,void(y.current=setTimeout(function(){S(e,t)}));_.current=null,h(function(e){return e.length>0?e.slice(1):e}),m.current=t},[]);return i.useImperativeHandle(t,function(){return{pulsate:C,start:b,stop:S}},[C,b,S]),i.createElement("span",Object(a.a)({className:Object(o.a)(l.root,u),ref:v},c),i.createElement(P,{component:null,exit:!0},f))}),x=Object(l.a)(function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}},{flip:!1,name:"MuiTouchRipple"})(i.memo(D)),F=i.forwardRef(function(e,t){var n=e.action,s=e.buttonRef,l=e.centerRipple,u=void 0!==l&&l,h=e.children,p=e.classes,m=e.className,g=e.component,y=void 0===g?"button":g,_=e.disabled,v=void 0!==_&&_,E=e.disableRipple,b=void 0!==E&&E,N=e.disableTouchRipple,S=void 0!==N&&N,T=e.focusRipple,O=void 0!==T&&T,w=e.focusVisibleClassName,k=e.onBlur,A=e.onClick,R=e.onFocus,I=e.onFocusVisible,M=e.onKeyDown,P=e.onKeyUp,U=e.onMouseDown,L=e.onMouseLeave,D=e.onMouseUp,F=e.onTouchEnd,j=e.onTouchMove,H=e.onTouchStart,G=e.onDragLeave,B=e.tabIndex,z=void 0===B?0:B,V=e.TouchRippleProps,q=e.type,Y=void 0===q?"button":q,K=Object(r.a)(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),W=i.useRef(null);var Q=i.useRef(null),J=i.useState(!1),$=J[0],X=J[1];v&&$&&X(!1);var Z=C(),ee=Z.isFocusVisible,te=Z.onBlurVisible,ne=Z.ref;function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S;return Object(f.a)(function(r){return t&&t(r),!n&&Q.current&&Q.current[e](r),!0})}i.useImperativeHandle(n,function(){return{focusVisible:function(){X(!0),W.current.focus()}}},[]),i.useEffect(function(){$&&O&&!b&&Q.current.pulsate()},[b,O,$]);var ae=re("start",U),ie=re("stop",G),se=re("stop",D),oe=re("stop",function(e){$&&e.preventDefault(),L&&L(e)}),le=re("start",H),ue=re("stop",F),ce=re("stop",j),de=re("stop",function(e){$&&(te(e),X(!1)),k&&k(e)},!1),fe=Object(f.a)(function(e){W.current||(W.current=e.currentTarget),ee(e)&&(X(!0),I&&I(e)),R&&R(e)}),he=function(){var e=c.findDOMNode(W.current);return y&&"button"!==y&&!("A"===e.tagName&&e.href)},pe=i.useRef(!1),me=Object(f.a)(function(e){O&&!pe.current&&$&&Q.current&&" "===e.key&&(pe.current=!0,e.persist(),Q.current.stop(e,function(){Q.current.start(e)})),e.target===e.currentTarget&&he()&&" "===e.key&&e.preventDefault(),M&&M(e),e.target===e.currentTarget&&he()&&"Enter"===e.key&&!v&&(e.preventDefault(),A&&A(e))}),ge=Object(f.a)(function(e){O&&" "===e.key&&Q.current&&$&&!e.defaultPrevented&&(pe.current=!1,e.persist(),Q.current.stop(e,function(){Q.current.pulsate(e)})),P&&P(e),A&&e.target===e.currentTarget&&he()&&" "===e.key&&!e.defaultPrevented&&A(e)}),ye=y;"button"===ye&&K.href&&(ye="a");var _e={};"button"===ye?(_e.type=Y,_e.disabled=v):("a"===ye&&K.href||(_e.role="button"),_e["aria-disabled"]=v);var ve=Object(d.a)(s,t),Ee=Object(d.a)(ne,W),be=Object(d.a)(ve,Ee),Ce=i.useState(!1),Ne=Ce[0],Se=Ce[1];i.useEffect(function(){Se(!0)},[]);var Te=Ne&&!b&&!v;return i.createElement(ye,Object(a.a)({className:Object(o.a)(p.root,m,$&&[p.focusVisible,w],v&&p.disabled),onBlur:de,onClick:A,onFocus:fe,onKeyDown:me,onKeyUp:ge,onMouseDown:ae,onMouseLeave:oe,onMouseUp:se,onDragLeave:ie,onTouchEnd:ue,onTouchMove:ce,onTouchStart:le,ref:be,tabIndex:v?-1:z},_e,K),h,Te?i.createElement(x,Object(a.a)({ref:Q,center:u},V)):null)}),j=Object(l.a)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(F),H=n(9),G=i.forwardRef(function(e,t){var n=e.children,s=e.classes,l=e.className,u=e.color,c=void 0===u?"default":u,d=e.component,f=void 0===d?"button":d,h=e.disabled,p=void 0!==h&&h,m=e.disableElevation,g=void 0!==m&&m,y=e.disableFocusRipple,_=void 0!==y&&y,v=e.endIcon,E=e.focusVisibleClassName,b=e.fullWidth,C=void 0!==b&&b,N=e.size,S=void 0===N?"medium":N,T=e.startIcon,O=e.type,w=void 0===O?"button":O,k=e.variant,A=void 0===k?"text":k,R=Object(r.a)(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),I=T&&i.createElement("span",{className:Object(o.a)(s.startIcon,s["iconSize".concat(Object(H.a)(S))])},T),M=v&&i.createElement("span",{className:Object(o.a)(s.endIcon,s["iconSize".concat(Object(H.a)(S))])},v);return i.createElement(j,Object(a.a)({className:Object(o.a)(s.root,s[A],l,"inherit"===c?s.colorInherit:"default"!==c&&s["".concat(A).concat(Object(H.a)(c))],"medium"!==S&&[s["".concat(A,"Size").concat(Object(H.a)(S))],s["size".concat(Object(H.a)(S))]],g&&s.disableElevation,p&&s.disabled,C&&s.fullWidth),component:f,disabled:p,focusRipple:!_,focusVisibleClassName:Object(o.a)(s.focusVisible,E),ref:t,type:w},R),i.createElement("span",{className:s.label},I,n,M))});t.a=Object(l.a)(function(e){return{root:Object(a.a)({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:Object(u.b)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(u.b)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(u.b)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(Object(u.b)(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:Object(u.b)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(Object(u.b)(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:Object(u.b)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}},{name:"MuiButton"})(G)},function(e,t,n){"use strict";var r=n(2),a=n.n(r);var i=a.a.createContext(null);function s(){return a.a.useContext(i)}n.d(t,"a",function(){return s})}]]);
//# sourceMappingURL=2.a750bf13.chunk.js.map